{"version":3,"sources":["webpack:///src/app/components/import-wallet/import-wallet.component.html","webpack:///src/app/components/import-wallet/import-wallet.component.ts","webpack:///src/app/components/configure-app/configure-app.component.html","webpack:///src/app/components/configure-app/configure-app.component.ts","webpack:///fs (ignored)","webpack:///src/app/components/representatives/representatives.component.html","webpack:///src/app/components/representatives/representatives.component.ts","webpack:///path (ignored)","webpack:///src/app/services/util.service.ts","webpack:///util (ignored)","webpack:///crypto (ignored)","webpack:///util (ignored)?46e8","webpack:///util (ignored)?fc9c","webpack:///src/app/components/import-address-book/import-address-book.component.html","webpack:///src/app/components/import-address-book/import-address-book.component.ts","webpack:///src/app/components/helpers/nano-account-id/nano-account-id.component.ts","webpack:///src/app/components/helpers/nano-account-id/nano-account-id.component.html","webpack:///util (ignored)?ff04","webpack:///src/app/services/price.service.ts","webpack:///util (ignored)?d24f","webpack:///src/app/components/qr-scan/qr-scan.component.ts","webpack:///src/app/components/qr-scan/qr-scan.component.html","webpack:///src/app/components/converter/converter.component.ts","webpack:///src/app/components/converter/converter.component.html","webpack:///src/app/pipes/account.pipe.ts","webpack:///src/app/services/address-book.service.ts","webpack:///src/environments/environment.ts","webpack:///src/app/components/configure-wallet/configure-wallet.component.html","webpack:///src/app/components/configure-wallet/configure-wallet.component.ts","webpack:///src/app/services/qr-modal.service.ts","webpack:///src/app/services/wallet.service.ts","webpack:///src/app/services/websocket.service.ts","webpack:///src/app/services/api.service.ts","webpack:///src/app/components/transaction-details/transaction-details.component.html","webpack:///src/app/components/transaction-details/transaction-details.component.ts","webpack:///src/assets/lib/cpupow.js","webpack:///src/app/services/ninja.service.ts","webpack:///src/app/components/sweeper/sweeper.component.html","webpack:///src/app/components/sweeper/sweeper.component.ts","webpack:///src/app/welcome/welcome.component.ts","webpack:///src/app/welcome/welcome.component.html","webpack:///src/app/components/qr-modal/qr-modal.component.ts","webpack:///src/app/components/qr-modal/qr-modal.component.html","webpack:///src/app/components/manage-wallet/manage-wallet.component.html","webpack:///src/app/components/manage-wallet/manage-wallet.component.ts","webpack:///src/app/components/manage-representatives/manage-representatives.component.html","webpack:///src/app/components/manage-representatives/manage-representatives.component.ts","webpack:///src/app/pipes/rai.pipe.ts","webpack:///src/app/components/send/send.component.html","webpack:///src/app/components/send/send.component.ts","webpack:///src/app/services/notification.service.ts","webpack:///src/app/services/node.service.ts","webpack:///src/app/pipes/squeeze.pipe.ts","webpack:///src/app/components/notifications/notifications.component.ts","webpack:///src/app/components/notifications/notifications.component.html","webpack:///src/app/services/remote-sign.service.ts","webpack:///src/app/components/accounts/accounts.component.html","webpack:///src/app/components/accounts/accounts.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/pipes/amount-split.pipe.ts","webpack:///src/app/services/modal.service.ts","webpack:///src/app/services/work-pool.service.ts","webpack:///src/app/app.module.ts","webpack:///src/app/components/change-rep-widget/change-rep-widget.component.html","webpack:///src/app/components/change-rep-widget/change-rep-widget.component.ts","webpack:///src/app/services/pow.service.ts","webpack:///src/app/pipes/fiat.pipe.ts","webpack:///src/app/services/desktop.service.ts","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/components/receive/receive.component.html","webpack:///src/app/components/receive/receive.component.ts","webpack:///src/app/components/account-details/account-details.component.html","webpack:///src/app/components/account-details/account-details.component.ts","webpack:///src/app/components/remote-signing/remote-signing.component.ts","webpack:///src/app/components/remote-signing/remote-signing.component.html","webpack:///src/app/components/address-book/address-book.component.html","webpack:///src/app/components/address-book/address-book.component.ts","webpack:///src/app/services/index.ts","webpack:///src/app/services/nano-block.service.ts","webpack:///src/app/pipes/currency-symbol.pipe.ts","webpack:///src/app/components/qr-generator/qr-generator.component.html","webpack:///src/app/components/qr-generator/qr-generator.component.ts","webpack:///src/app/components/wallet-widget/wallet-widget.component.html","webpack:///src/app/components/wallet-widget/wallet-widget.component.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/services/app-settings.service.ts","webpack:///src/app/services/ledger.service.ts","webpack:///src/app/components/sign/sign.component.html","webpack:///src/app/components/sign/sign.component.ts","webpack:///src/app/services/representative.service.ts","webpack:///src/main.ts"],"names":["ImportWalletComponent","route","notifications","walletService","router","activePanel","walletPassword","validImportData","importData","hostname","snapshot","fragment","queryData","queryParams","length","importDataError","decodedData","atob","importBlob","JSON","parse","seed","err","message","sendError","Promise","resolve","setTimeout","decryptedBytes","decrypt","decryptedSeed","toString","Utf8","navigate","sendInfo","loadImportedWallet","accountsIndex","indexes","sendSuccess","selector","templateUrl","styleUrls","ConfigureAppComponent","appSettings","addressBook","pow","api","websocket","workPool","repService","node","util","price","ninja","qrModalService","wallet","denominations","name","value","selectedDenomination","storageOptions","selectedStorage","currencies","selectedCurrency","inactivityOptions","selectedInactivityMinutes","powOptions","selectedPoWOption","pendingOptions","selectedPendingOption","serverOptions","selectedServer","defaultRepresentative","representativeResults$","showRepresentatives","representativeListMatch","repStatus","representativeList","serverAPI","serverAPIUpdated","serverWS","serverAuth","minimumReceive","nodeBlockCount","nodeUnchecked","nodeCemented","nodeUncemented","peersStakeReq","peersStakeTotal","nodeVendor","nodeNetwork","statsRefreshEnabled","shouldRandom","showServerValues","showStatValues","showServerConfigs","loadFromSettings","updateNodeStats","recommendedRandomized","verifiedReps","representative","temprep","id","account","alias","push","localReps","getSortedRepresentatives","refresh","settings","blockCount","Number","count","toLocaleString","unchecked","cemented","console","warn","confirmationQuorum","quorumData","ceviz","rawToMceviz","peers_stake_required","peers_stake_total","version","node_vendor","network","matchingCurrency","find","d","displayCurrency","matchingStorage","walletStore","matchingInactivityMinutes","lockInactivityMinutes","matchingPowOption","powSource","matchingPendingOption","pendingOption","serverName","validateRepresentative","newCurrency","reloadFiat","getPrice","setAppSetting","reloadFiatBalances","newStorage","newPoW","minReceive","isValidCevizAmount","resaveWallet","reloadPending","valid","isValidAccount","sendWarning","hasWebGLSupport","hasWorkerSupport","newSettings","setAppSettings","saveWalletExport","reloadBalances","trim","startsWith","loadAppSettings","status","forceReconnect","search","matches","filter","a","toLowerCase","indexOf","slice","next","rep","searchRepresentatives","replace","getRepresentative","getAccount","ninjaRep","newServer","custom","c","ws","auth","UIkit","window","modal","confirm","clearCache","resetWallet","removeWalletData","deleteCache","clearAddressBook","clearAppSettings","resetRepresentativeList","updateServerSettings","reference","type","qrResult","openQR","then","data","content","updateDisplaySettings","updateWalletSettings","serverConfigChange","clearWorkCache","clearWalletData","clearAllData","RepresentativesComponent","cevizBlock","representativeService","changeAccountID","toRepresentativeID","representativeOverview","changingRepresentatives","selectedAccounts","fullAccounts","recommendedReps","recommendedRepsPaginated","recommendedRepsLoading","selectedRecommendedRep","showRecommendedReps","repsPerPage","currentRepPage","hideOverview","loadRepresentativeList","subscribe","params","showRecommended","accounts","split","newAccountID","selectRepresentative","getRepresentativesOverview","repOverview","sort","b","delegatedWeight","toNumber","forEach","o","loadRecommendedReps","repInput","nativeElement","scrollIntoView","behavior","block","accountID","newAccount","existingAccount","allExists","splice","walletAccount","getWalletAccount","recommended","scores","totalSupply","reps","map","nanoWeight","votingweight","percent","div","times","weight","mcevizToRaw","toFixed","calculatePage","newRep","walletIsLocked","allAccounts","accountsToChange","accountsNeedingChange","accountInfo","error","generateChange","isLedgerWallet","changed","saveRepresentative","useCachedReps","detectChangeableReps","nacl","STATE_BLOCK_PREAMBLE","TxType","UtilService","hex","toUint4","hexToUint4","fromUint8","uint8ToHex","toUint8","hexToUint8","isHex","uint4","toUint5","uint4ToUint5","uint4ToUint8","uint5","uint5ToString","uint8","uint8ToUint4","fromHex","toHex","dec","decToHex","big","add","bigAdd","string","isNumeric","generateAccountSecretKeyBytes","generateAccountKeyPair","getPublicAccountID","generateSeedBytes","getAccountPublicKey","setPrefix","isValidAmount","kcevizToRaw","cevizToRaw","rawToKceviz","rawToCeviz","hashStateBlock","isValidSeed","isValidHash","isValidIndex","isValidSignature","isValidWork","validateWork","difficultyFromMultiplier","array","shuffle","hexValue","Uint8Array","i","parseInt","substr","h","re","test","uintValue","n","m","z","right","left","uint4ToHex","toUpperCase","letter_list","uint5ToUint4","aux","decValue","bytes","sum","hexArray","s","shift","pop","join","diff","j","input","insert","val","plus","stringToUint5","string_array","isnum","String","seedBytes","accountIndex","accountBytes","context","newKey","accountSecretKeyBytes","expanded","sign","keyPair","fromSecretKey","accountPublicKeyBytes","prefix","accountHex","keyBytes","checksum","reverse","gte","Error","account_crop","substring","isValid","key_uint4","array_crop","hash_uint4","key_array","blake_hash","equal_arrays","mceviz","kceviz","blockHash","threshold","work","balance","isNegative","isNaN","balancePadded","previous","link","multiplier","base_difficulty","big64","big_multiplier","big_base","minus","dividedToIntegerBy","currentIndex","temporaryValue","randomIndex","Math","floor","random","cropped_array","array1","array2","randomBytes","ImportAddressBookComponent","conflictingEntries","newEntries","existingEntries","entry","originalName","getAccountName","importedCount","saveAddress","CevizAccountIdComponent","middle","firstCharacters","middleCharacters","lastCharacters","isFlex","openingChars","closingChars","PriceService","http","storeKey","apiUrl","lastPrice","lastPriceBTC","lastPrice$","loadSavedPrice","currency","get","toPromise","response","quote","market_data","current_price","currencyPrice","btcPrice","btc","savePrice","priceData","localStorage","getItem","setItem","stringify","QrScanComponent","notifcationService","remoteSignService","currentDevice","formatsEnabled","CODE_128","DATA_MATRIX","EAN_13","QR_CODE","torchEnabled","torchAvailable$","tryHarder","hasAccounts","qrResultString","devices","availableDevices","hasDevices","Boolean","resultString","ceviz_scheme","to","handleSeed","url","URL","protocol","pathname","hash","amount","searchParams","handlePrivateKey","navigateSignBlock","navigateProcessBlock","identifier","state","key","selected","device","x","deviceId","has","hasPermission","isCompatible","onDeviceSelectChange","onCodeResult","onHasPermission","onCamerasFound","onTorchCompatible","ConverterComponent","Mceviz","raw","invalidMceviz","invalidRaw","invalidFiat","fiatPrice","priceSub","config","DECIMAL_PLACES","event","unitChange","unsubscribe","unit","from","NANO","dividedBy","AccountPipe","args","AddressBookService","addressBook$","addressBookStore","newAddressBook","existingName","saveAddressBook","existingAccountIndex","findIndex","removeItem","addressList","address","match","environment","production","desktop","panels","INDEX_MAX","ConfigureWalletComponent","ledgerService","create","isConfigured","isNewWallet","hasConfirmedBackup","importSeed","isExpanded","keyString","newWalletSeed","newWalletMnemonic","newWalletMnemonicLines","newPassword","importSeedModel","importPrivateKeyModel","importExpandedKeyModel","importSeedMnemonicModel","importSeedBip39MnemonicModel","importSeedBip39MnemonicIndexModel","importSeedBip39MnemonicPasswordModel","walletPasswordModel","walletPasswordConfirmModel","validIndex","indexMax","selectedImportOption","importOptions","ledgerStatus","ledger","getCurrentNavigation","extras","toggleImport","method","importLedgerWallet","createWalletFromSeed","storePassword","informNewWallet","createWalletFromSingleKey","refreshOnly","loadLedger","removeNotification","NOT_CONNECTED","LOCKED","confirmWalletOverwrite","confirmed","isBrokenBrowser","sendLedgerChromeWarning","createLedgerWallet","newWallet","existingSeed","mnemonic","words","newSeed","bip39Seed","privateKey","password","lines","backup","createNewWallet","saveNewWallet","importExistingWallet","importSingleKeyWallet","panel","files","file","reader","FileReader","onload","fileData","target","hasOwnProperty","walletEncrypted","btoa","readAsText","index","invalid","QrModalService","modalService","getDeferredPromise","modalRef","open","windowClass","componentInstance","result","reject","promise","defer","providedIn","WalletService","pending","balanceRaw","pendingRaw","balanceFiat","pendingFiat","hasPending","selectedAccountId","selectedAccount","selectedAccount$","locked","pendingBlocks","pendingBelowThreshold","newWallet$","processingPending","successfulBlocks","reloadingBalance","newTransactions$","transaction","log","shouldNotify","walletAccountIDs","subtype","link_as_account","minAmount","processStateBlock","reloadAddressBook","txAmount","mod","addPendingBlock","processPendingBlocks","addressBookName","walletData","walletJson","newAccounts","walletType","loadWalletAccount","addWalletAccount","all","subscribeAccounts","exportData","encrypt","generateExportData","base64Data","encryptedSeed","secret","scanAccounts","emptyAccountBuffer","emptyTicker","usedIndices","greatestUsedIndex","batchSize","batch","batchAccounts","batchAccountsArray","accountAddress","accountPublicKey","accountKeyPair","publicKey","getLedgerAccount","used","accountsFrontiers","batchResponse","frontiers","frontier","createSingleKeyAccount","nanoAccountID","pendingOriginal","accountName","createKeyedAccount","unsubscribeAccounts","accountIDs","accountsBalances","walletBalance","walletPending","walletPendingReal","balances","gt","accountsPendingLimit","blocks","accountPending","updateAccountPending","hashes","addWorkToCache","clearPendingBlocks","loadPendingBlocksForWallet","isSingleKeyWallet","createSeedAccount","createLedgerAccount","walletAccountIndex","source","existingHash","accountsPending","y","comparedTo","sortByAmount","nextBlock","generateReceive","newHash","receiveAmount","isZero","generateWalletExport","res","WebsocketService","queuedCommands","keepaliveTimeout","reconnectTimeout","keepaliveSet","socket","connected","subscribedAccounts","onclose","close","connect","wsUrl","WebSocket","onopen","queueevent","send","keepalive","onerror","attemptReconnect","onmessage","newEvent","topic","action","options","existingIndex","ApiService","skipError","setOffline","setLoading","header","headers","set","post","setOnline","loadServerSettings","request","include_only_confirmed","include_cemented","watch_work","sorting","TransactionDetailsComponent","routerSub","hashID","blockType","isStateBlock","toAccountID","fromAccountID","toAddressBook","fromAddressBook","transactionJSON","showBlockData","amountRaw","events","loadTransaction","legacyFromAccount","blocksInfo","blockData","hashData","hashContents","contents","isOpen","prevRes","prevData","source_account","prevBalance","curBalance","balDifference","fromAccount","toAccount","block_account","destination","module","exports","Worker","NinjaService","ninjaUrl","replist","newlist","score","unshift","randomizeByScore","SWEEP_MAX_INDEX","SWEEP_MAX_PENDING","SweeperComponent","notificationService","incomingMax","myAccountModel","sourceWallet","destinationAccount","startIndex","endIndex","maxIncoming","output","sweeping","pubKey","adjustedBalance","privKey","subType","keys","keyCount","pendingCallback","totalSwept","customAccountSelected","validSeed","validDestination","validStartIndex","validEndIndex","validMaxIncoming","selAccountInit","acc","ms","destinationChange","checkMasterKey","row","linebreak","logArea","scrollTop","scrollHeight","sendCallback","useNanoPrefix","appendLog","getWork","process","blockInfo","cevizAmountSent","workInputHash","receive","processPending","callback","accountCallback","pendingLimitSorted","pendingLimit","pendingSorted","Object","bind","cevizAmount","CEVIZ","processSend","getRandomRepresentative","validResponse","createPendingBlocks","previous_","privKeys","sleep","processAccount","processIndexRecursive","keyType","generate","k","sweepContinue","seedChange","setDestination","startIndexChange","endIndexChange","maxIncomingChange","WelcomeComponent","donationAccount","QrModalComponent","activeModal","title","includes","ManageWalletComponent","confirmPassword","showQRExport","QRExportUrl","QRExportImg","exportUrl","generateExportUrl","errorCorrectionLevel","scale","fileName","blob","Blob","iOS","navigator","platform","msSaveOrOpenBlob","msSaveBlob","elem","document","createElement","objUrl","createObjectURL","href","download","body","appendChild","click","removeChild","revokeObjectURL","triggerFileDownload","ManageRepresentativesComponent","representatives$","pipe","online","onlineReps","newRepAccount","newRepName","newRepTrusted","newRepWarn","getOnlineRepresentatives","representatives","trusted","getElementById","focus","cancelNewRep","representativesOnline","deleteRepresentative","RaiPipe","precision","opts","denomination","hideText","hasRawValue","newVal","num","fixed","RegExp","SendComponent","addressBookService","nodeApi","addressBookResults$","showAddressBook","addressBookMatch","amounts","shortName","selectedAmount","amountFiat","rawAmount","toAccountStatus","amountStatus","confirmingTransaction","validateDestination","loadAddressBook","findFirstAccount","accountIDWithBalance","reduce","current","validateAmount","getAmountBaseValue","lte","fiatAmount","cevizVal","getAmountValueFromBase","searchAddressBook","balanceBN","lessThan","generateSend","resetRaw","maxAmount","syncFiatPrice","NotificationService","notifications$","removeNotification$","sendNotification","NodeService","msg","SqueezePipe","arg","firstChars","lastChars","NotificationsComponent","notificationLength","notification","existingNotification","newNotification","cssClass","getCssClass","RemoteSignService","checkSignBlock","paramsSign","n_account","n_previous","n_representative","n_balance","n_link","p_account","p_previous","p_representative","p_balance","p_link","p_signature","signature","checkProcessBlock","paramsProcess","n_signature","n_work","stringdata","AccountsComponent","viewAdvanced","newAccountIndex","accountsChanged$","reloadRepWarning$","isLocked","removeWalletAccount","READY","createAccount","AppComponent","nodeService","cevizPrice","fiatTimeout","inactiveSeconds","windowHeight","navExpanded","showAccountsDropdown","searchData","e","innerHeight","selectButton","contains","accountsDropdown","patchXrbToCevizPrefixData","loadWorkCache","loadStoredWallet","location","currentUpdatedAccount","path","urlSearch","URLSearchParams","hasPendingTransactions","addEventListener","lockWallet","protocolText","detail","stripped","setInterval","updateFiatPrices","walletVersion","patchOldSavedData","patchXrbPrefixData","toggleAccountsDropdown","getAppSetting","updateIdleTime","toggleNav","selectAccount","performSearch","closeNav","AmountSplitPipe","idx","splitAmount","ModalService","showAccount$","WorkPoolService","cacheLength","workCache","p","cachedIndex","saveWorkCache","cached","getPow","uniqByKeepLast","it","workCacheStore","Map","values","AppModule","declarations","imports","providers","bootstrap","ChangeRepWidgetComponent","blockService","changeableRepresentatives","changeableReps","displayedRepresentatives","showRepChangeRequired","showRepHelp","selectedAccountHasRep","initialLoadComplete","walletReps$","updateChangeableRepresentatives","updateDisplayedRepresentatives","shouldReload","resetRepresentatives","newOpenBlock$","changeableReps$","some","changeRequired","updateSelectedAccountHasRep","getDisplayedRepresentatives","displayedReps","repRequiringChange","changeableRep","every","displayedRep","assign","selectedAccountRep","displayedRepsAllAccounts","includeRepRequiringChange","sortedRepresentatives","clickedRep","accountsToChangeRepFor","baseThreshold","hardwareConcurrency","workerCount","max","workerList","PowService","webGLAvailable","webGLTested","PoWPool","parallelQueue","processingQueueItem","existingPoW","addQueueItem","queueItem","processQueue","canvas","webGL","getContext","processNextQueueItem","determineBestPoWMethod","getHashServer","getHashCPUWorker","getHashWebGL","newThreshold","workGenerate","PoW","cwrap","start","Date","now","worker","postMessage","workerIndex","workThreshold","workerwork","prototype","call","terminate","FiatPipe","currencyCode","display","digits","locale","DesktopService","require","_ipc","ipcRenderer","channel","listener","on","webpackEmptyAsyncContext","req","code","ReceiveComponent","pendingAccountModel","qrCodeImage","qrAccount","qrAmount","loadingIncomingTxList","changeQRAccount","loadPendingForAll","walletPendingBlocks","walletPendingBlocksBelowThreshold","qrCode","pendingBlock","sourceBlock","loading","newBlock","getPending","AccountDetailsComponent","zeroHash","accountHistory","pageSize","maxPageSize","repLabel","addressBookEntry","showEditAddressBook","addressBookModel","showEditRepresentative","representativeModel","qrString","qrCodeImageBlock","qrCodeImageBlockReceive","blockHashReceive","remoteVisible","blockTypes","blockTypeSelected","clearRemoteVars","loadAccountDetails","knownRepresentative","local_timestamp","prev","getAccountHistory","resetPage","history","additionalBlocksInfo","Array","isArray","matchingBlock","accountInHistory","repAccount","deleteAddress","remaining","remainingDecimal","previousBlockInfo","jsonBlock","blockDataPrevious","pendingHash","show","toAcct","openEquiv","previousBlock","srcBlockInfo","srcAmount","newBalance","newBalanceDecimal","qrData","balanceDecimal","RemoteSigningComponent","unsignedBlock","signedBlock","unsignedStatus","signedStatus","badScheme","validateUnsigned","navigateBlock","validateSigned","AddressBookComponent","newAddressAccount","newAddressName","addressBookShowQRExport","addressBookQRExportUrl","addressBookQRExportImg","importExport","element","elements","children","datas","el","dataset","setAddressBookOrder","nameExists","cancelNewAddress","encoded","CevizBlockService","representativeAccounts","representativeAccount","ledgerBlock","sendLedgerNotification","updateCache","signBlock","sig","clearLedgerNotification","sendLedgerDeniedNotification","validateAccount","signStateBlock","workExists","change","processResponse","removeFromCache","recipient","workBlock","newBalancePadded","informNewRep","prevBlock","genWork","updateCacheOffline","blockResponse","hashBytes","secretKey","signed","detached","CurrencySymbolPipe","QrGeneratorComponent","width","min","round","log2","generateQR","WalletWidgetComponent","unlockPassword","ledgerStatus$","loaded","unlockWallet","unlocked","hide","routes","component","AppRoutingModule","forRoot","useHash","AppSettingsService","displayDenomination","lockOnClose","settingsStore","matchingServerOption","availableServers","server","randomServerOption","saveAppSettings","settingsObject","u","STATUS_CODES","SECURITY_STATUS_NOT_SATISFIED","CONDITIONS_OF_USE_NOT_SATISFIED","INVALID_SIGNATURE","CACHE_MISS","LedgerStatus","zeroBlock","LedgerService","walletPrefix","waitTimeout","normalTimeout","pollInterval","pollingLedger","transport","isDesktop","queryingDesktopLedger","desktopMessage$","configureDesktop","statusText","eventType","filterFn","sub","shouldSkip","errorMessage","showOnScreen","getDesktopResponse","details","cacheData","isChromium","winNav","vendorName","vendor","isOpera","isIEedge","userAgent","isIOSChrome","hideNotifications","newStatus","setExchangeTimeout","resetLedger","resolved","getAppConfiguration","ledgerConfig","accountDetails","pollLedgerStatus","statusCode","updateCacheDesktop","cacheBlock","ledgerPath","signBlockDesktop","getAddress","getLedgerAccountDesktop","getLedgerAccountWeb","checkLedgerStatus","SignComponent","shouldSign","fromAccountBalance","toAccountBalance","currentBlock","txType","txTypes","txTypeMessage","shouldGenWork","signTypes","signTypeSelected","signatureAccount","signatureMessage","signatureMessageSuccess","nullBlock","validPrivkey","sourceSecret","sourcePriv","privateKeyExpanded","processedHash","finalSignature","thresholds","selectedThreshold","selectedThresholdOld","verifyBlock","eq","lt","recipientInfo","prepareTransaction","previousHash","privkeyChange","prepareWork","powChange","signTypeChange","isLedger","signOfflineBlock","lenth","clean","obj","propName","undefined","verifyKey","convertPrivateKey","privKey1","privKey2","pubKey1","pubKey2","address1","address2","RepresentativeService","walletReps","onlineStakeTotal","defaultRepresentatives","cachedReps","needsChange","highWeight","veryHighWeight","lowUptime","veryLowUptime","getAccountsDetails","uniqueReps","getUniqueRepresentatives","getRepresentativesDetails","quorum","online_stake_total","allReps","repOnline","knownRep","knownRepNinja","markedToAvoid","daysSinceLastVoted","known","uptime","label","uptimeIntervalValue","uptime_over","week","uptimeIntervalDays","day","msSinceLastVoted","lastVoted","getTime","additionalData","fullRep","existingRep","repInfos","list","representativeStore","newRepList","newRepresentative","existingRepresentative","r","saveRepresentatives","weightedReps","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2 class=\"uk-heading-divider\">Import Wallet</h2>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"activePanel == 'error'\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Bad Import Data</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <p>There was an issue reading the import data for your wallet.  Double check the address and try again.</p>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"activePanel == 'import'\">\n      <div *ngIf=\"walletService.isConfigured()\" class=\"uk-alert uk-alert-danger\">\n        <b>You already have a wallet configured</b><br>\n        Before going any further, be 100% certain you have backed up the seed to your current wallet!<br>\n        Without it, <b>any funds you have will become completely unrecoverable!</b>\n      </div>\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Confirm Wallet Import</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <p>You are about to import a wallet {{hostname ? 'from ' + hostname : ''}} - just enter your {{hostname ? 'wallet' : ''}} password to decrypt it!</p>\n        <div uk-grid>\n          <div class=\"uk-width-1-1\">\n            <input class=\"uk-input\" [(ngModel)]=\"walletPassword\" placeholder=\"Wallet Password\" type=\"password\">\n          </div>\n        </div>\n      </div>\n      <div class=\"uk-card-footer uk-text-right\">\n        <button (click)=\"decryptWallet()\" class=\"uk-button uk-button-secondary\">Import Wallet</button>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"activePanel == 'imported'\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Wallet Imported</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <p>Your wallet has been successfully imported!</p>\n      </div>\n      <div class=\"uk-card-footer uk-text-right\">\n        <button routerLink=\"/accounts\" class=\"uk-button uk-button-secondary\">View Accounts</button>\n      </div>\n    </div>\n\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {NotificationService} from '../../services/notification.service';\nimport * as CryptoJS from 'crypto-js';\nimport {WalletService} from '../../services/wallet.service';\n\n@Component({\n  selector: 'app-import-wallet',\n  templateUrl: './import-wallet.component.html',\n  styleUrls: ['./import-wallet.component.css']\n})\nexport class ImportWalletComponent implements OnInit {\n  activePanel = 'error';\n\n  walletPassword = '';\n  validImportData = false;\n  importData: any = null;\n  hostname = '';\n\n  constructor(private route: ActivatedRoute, private notifications: NotificationService, private walletService: WalletService,\n    private router: Router) { }\n\n  ngOnInit() {\n    const importData = this.route.snapshot.fragment;\n    const queryData = this.route.snapshot.queryParams;\n    if (!importData || !importData.length) {\n      return this.importDataError(`No import data found.  Check your link and try again.`);\n    }\n\n    if ('hostname' in queryData) this.hostname = queryData.hostname;\n    const decodedData = atob(importData);\n\n    try {\n      const importBlob = JSON.parse(decodedData);\n      if (!importBlob || !importBlob.seed) {\n        return this.importDataError(`Bad import data.  Check your link and try again.`);\n      }\n      this.validImportData = true;\n      this.importData = importBlob;\n      this.activePanel = 'import';\n    } catch (err) {\n      return this.importDataError(`Unable to decode import data.  Check your link and try again.`);\n    }\n  }\n\n  importDataError(message) {\n    this.activePanel = 'error';\n    return this.notifications.sendError(message);\n  }\n\n  async decryptWallet() {\n    // Attempt to decrypt the seed value using the password\n    try {\n      await new Promise(resolve => setTimeout(resolve, 500)); // brute force delay\n      const decryptedBytes = CryptoJS.AES.decrypt(this.importData.seed, this.walletPassword);\n      const decryptedSeed = decryptedBytes.toString(CryptoJS.enc.Utf8);\n      if (!decryptedSeed || decryptedSeed.length !== 64) {\n        this.walletPassword = '';\n        return this.notifications.sendError(`Invalid password, please try again`);\n      }\n\n      this.router.navigate(['accounts']); // load accounts and watch them update in real-time\n      this.notifications.sendInfo(`Loading all accounts for the wallet...`);\n      if (await this.walletService.loadImportedWallet(decryptedSeed, this.walletPassword,\n        this.importData.accountsIndex || 0, this.importData.indexes || null)) {\n          this.notifications.sendSuccess(`Successfully imported the wallet!`, {length: 10000});\n      } else {\n        return this.notifications.sendError(`Failed importing the wallet. Invalid data!`);\n      }\n\n    } catch (err) {\n      this.walletPassword = '';\n      return this.notifications.sendError(`Invalid password, please try again`);\n    }\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2 class=\"uk-heading-divider\">Configure Nault</h2>\n\n    <div class=\"uk-card uk-card-default uk-margin\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Display Settings</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-select\">FIAT Currency <span uk-icon=\"icon: info;\" uk-tooltip title=\"Change the currency pair used when showing fiat values in the application.  Select None to hide fiat pairs.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <select class=\"uk-select\" [(ngModel)]=\"selectedCurrency\" id=\"form-horizontal-select\">\n                    <option *ngFor=\"let currency of currencies\" [value]=\"currency.value\">{{ currency.name }}</option>\n                  </select>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n          <!--<div class=\"uk-width-1-1\">-->\n            <!--<div class=\"uk-form-horizontal\">-->\n\n              <!--<div class=\"uk-margin\">-->\n                <!--<label class=\"uk-form-label\">Account Prefix <span uk-icon=\"icon: info;\" uk-tooltip title=\"Change the Ceviz account prefix used throughout the application.  Both are valid when sending\"></span></label>-->\n                <!--<div class=\"uk-form-controls\">-->\n\n                  <!--<div class=\"uk-inline uk-width-1-1\">-->\n                    <!--<select class=\"uk-select\" [(ngModel)]=\"selectedPrefix\">-->\n                      <!--<option *ngFor=\"let prefix of prefixOptions\" [value]=\"prefix.value\">{{ prefix.name }}</option>-->\n                    <!--</select>-->\n                  <!--</div>-->\n                <!--</div>-->\n              <!--</div>-->\n            <!--</div>-->\n          <!--</div>-->\n\n        </div>\n      </div>\n      <div class=\"uk-card-footer uk-text-right@s uk-text-center nlt-button-group\">\n        <button (click)=\"updateDisplaySettings()\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\">Update Display Settings</button>\n      </div>\n    </div>\n\n\n    <div class=\"uk-card uk-card-default uk-margin\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Wallet Settings</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">Lock After Inactivity <span uk-icon=\"icon: info;\" uk-tooltip title=\"Change if your wallet should be locked automatically after you have not interacted with it for a certain period of time\"></span></label>\n                <div class=\"uk-form-controls\">\n\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <select class=\"uk-select\" [(ngModel)]=\"selectedInactivityMinutes\">\n                      <option *ngFor=\"let option of inactivityOptions\" [value]=\"option.value\">{{ option.name }}</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">Wallet Storage <span uk-icon=\"icon: info;\" uk-tooltip title=\"Change where your wallet is stored.  If you select none, your wallet is reset every time you reload.\"></span></label>\n                <div class=\"uk-form-controls\">\n\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <select class=\"uk-select\" [(ngModel)]=\"selectedStorage\">\n                      <option *ngFor=\"let storage of storageOptions\" [value]=\"storage.value\">{{ storage.name }}</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">PoW Source <span uk-icon=\"icon: info;\" uk-tooltip title=\"Change how Proof of Work for your blocks are generated.\"></span></label>\n                <div class=\"uk-form-controls\">\n\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <select class=\"uk-select\" [(ngModel)]=\"selectedPoWOption\">\n                      <option *ngFor=\"let pow of powOptions\" [value]=\"pow.value\">{{ pow.name }}</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">Receive Method <span uk-icon=\"icon: info;\" uk-tooltip title=\"If automatically receiving incoming transactions with the largest amount first or chronological from recorded time. Manual will allow you to pick your own transactions from the receive screen.\"></span></label>\n                <div class=\"uk-form-controls\">\n\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <select class=\"uk-select\" [(ngModel)]=\"selectedPendingOption\">\n                      <option *ngFor=\"let pending of pendingOptions\" [value]=\"pending.value\">{{ pending.name }}</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">Min Receive [CEVZ] <span uk-icon=\"icon: info;\" uk-tooltip title=\"Minimum CEVZ amount to receive. Transactions below this amount will be ignored by the wallet both for receiving and in the transaction list.  Set to blank or 0 to accept all transactions.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                      <div class=\"uk-inline uk-width-1-1\">\n                        <input [(ngModel)]=\"minimumReceive\" class=\"uk-input uk-margin-small-bottom\" id=\"form-horizontal-text4\" type=\"text\" placeholder=\"0.000001\">\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">Default Representative <span uk-icon=\"icon: info;\" uk-tooltip title=\"This representative will be used when creating the initial open block on a new account\"></span></label>\n\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('rep1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n                    <input (blur)=\"validateRepresentative()\" (keyup)=\"searchRepresentatives()\" (focus)=\"searchRepresentatives()\" [(ngModel)]=\"defaultRepresentative\" class=\"uk-input\" [ngClass]=\"{ 'uk-form-success': repStatus === 2, 'uk-form-danger': repStatus === 0 }\" id=\"form-horizontal-text3\" type=\"text\" placeholder=\"Leave blank to use a recommended one\" #repInput>\n\n                    <div *ngIf=\"(representativeResults$ | async).length\" [hidden]=\"!showRepresentatives\" class=\"uk-animation-slide-down-small uk-width-1-1 uk-card uk-card-default uk-card-body uk-position-absolute\" style=\"z-index: 15000\">\n                      <ul class=\"uk-nav uk-nav-default\">\n                        <li class=\"uk-nav-header\">Representative List Results</li>\n                        <li class=\"uk-nav-divider\"></li>\n                        <li *ngFor=\"let rep of representativeResults$ | async\">\n                          <a (click)=\"selectRepresentative(rep.id)\">\n                            {{ rep.name }}\n                            <span *ngIf=\"rep.trusted\" uk-icon=\"icon: star;\" class=\"uk-text-success\"></span>\n                            <span *ngIf=\"rep.warn\" uk-icon=\"icon: warning;\" class=\"uk-text-warning\"></span>\n                          </a>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"uk-form-controls\" *ngIf=\"representativeListMatch\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <span class=\"uk-label uk-label-danger\">{{ representativeListMatch }}</span>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n      </div>\n      <div class=\"uk-card-footer uk-text-right@s uk-text-center nlt-button-group\">\n        <button (click)=\"updateWalletSettings()\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\">Update Wallet Settings</button>\n      </div>\n    </div>\n\n\n    <div class=\"uk-card uk-card-default uk-margin\">\n      <div class=\"uk-card-header\" id=\"server-settings\">\n        <h3 class=\"uk-card-title\">Server Settings</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-select\">Server Configuration <span uk-icon=\"icon: info;\" uk-tooltip title=\"Change which server is used to communicate with the Ceviz network\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <select class=\"uk-select\" [(ngModel)]=\"selectedServer\" (change)=\"serverConfigChange(selectedServer)\" id=\"form-horizontal-select\">\n                    <option *ngFor=\"let server of serverOptions\" [value]=\"server.value\">{{ server.name }}</option>\n                  </select>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\" *ngIf=\"showServerValues()\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"\">\n                <label class=\"uk-form-label uk-text-right\">API Server <span uk-icon=\"icon: info;\" uk-tooltip title=\"This server is used to load, cache, and enhance results from the Ceviz node\"></span></label>\n                <div class=\"uk-form-controls\">\n\n                  <div class=\"uk-inline uk-width-1-1\" *ngIf=\"!showServerConfigs()\">\n                    <strong>{{ serverAPI }}</strong>\n                  </div>\n                  <div class=\"uk-inline uk-width-1-1\" *ngIf=\"showServerConfigs()\">\n                    <input [(ngModel)]=\"serverAPI\" class=\"uk-input uk-margin-small-bottom\" type=\"text\" placeholder=\"https://domain.com/path\">\n                    <span class=\"uk-text-meta\">\n                      This has to be a valid <a href=\"https://docs.nano.org/commands/rpc-protocol/\" target=\"_blank\" rel=\"noopener noreferrer\">Ceviz RPC endpoint</a> or an API compliant with it.\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\" *ngIf=\"showServerValues()\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"\">\n                <label class=\"uk-form-label uk-text-right\">WebSocket Server <span uk-icon=\"icon: info;\" uk-tooltip title=\"This server is used to notify the wallet in real time when new transactions arrive\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\" *ngIf=\"!showServerConfigs()\">\n                    <strong>{{ serverWS }}</strong>\n                  </div>\n\n                  <div class=\"uk-inline uk-width-1-1\" *ngIf=\"showServerConfigs()\">\n                    <input [(ngModel)]=\"serverWS\" class=\"uk-input uk-margin-small-bottom\" id=\"form-horizontal-text2\" type=\"text\" placeholder=\"wss://domain.com/path\">\n                    <span class=\"uk-text-meta\">\n                      This has to be a <a href=\"https://docs.nano.org/integration-guides/websockets/#configuration\" target=\"_blank\" rel=\"noopener noreferrer\">Ceviz Node Websocket</a> or a WebSocket API compliant with it.<br>\n                      <i>Note: Since this server only notifies about new transactions, most of the wallet functions fine without it.</i>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\" *ngIf=\"showServerValues()\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"\">\n                <label class=\"uk-form-label uk-text-right\">Auth Header <span uk-icon=\"icon: info;\" uk-tooltip title=\"If API requires authentication. For example using basic auth: Basic xyz\"></span></label>\n                <div class=\"uk-form-controls\">\n\n                  <div class=\"uk-inline uk-width-1-1\" *ngIf=\"!showServerConfigs()\">\n                    <strong>{{ serverAuth }}</strong>\n                  </div>\n                  <div class=\"uk-inline uk-width-1-1\" *ngIf=\"showServerConfigs()\">\n                    <input [(ngModel)]=\"serverAuth\" class=\"uk-input uk-margin-small-bottom\" type=\"text\" placeholder=\"Optional\">\n                    <span class=\"uk-text-meta\">\n                      This has to be a valid Authorization header.<br>\n                      <i>For example, basic auth defined as \"Authorization: Basic base64Encode(username:password)\"<br>In that case, enter: Basic dHV0c3BsdXM6MTIzNDU2</i>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1\" *ngIf=\"showStatValues() || showServerConfigs()\">\n            <div class=\"uk-form-horizontal\">\n              <div>\n                <label class=\"uk-form-label uk-text-right\">Node Stats <span class=\"{{statsRefreshEnabled ? '':'node-stats-disabled'}}\" id=\"node-stats\" uk-icon=\"icon: refresh;\" (click)=\"updateNodeStats(true)\" uk-tooltip title=\"Can be used for troubleshooting. Click refresh to update.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <span class=\"uk-text-meta\">\n                      <table id=\"node-stats-table\">\n                        <td>\n                          <tr>\n                            <strong>Server</strong>\n                          </tr>\n                          <tr>\n                            <strong>Block Count</strong>\n                          </tr>\n                          <tr>\n                            <strong>Uncemented Blocks</strong>\n                          </tr>\n                          <tr>\n                            <strong>Peers Stake Required</strong>\n                          </tr>\n                          <tr>\n                            <strong>Peers Stake Total</strong>\n                          </tr>\n                          <tr>\n                            <strong>Node Version</strong>\n                          </tr>\n                          <tr>\n                            <strong>Network</strong>\n                          </tr>\n                          <tr *ngIf=\"showServerValues() && !showServerConfigs()\">\n                            <strong>Random Server</strong>\n                          </tr>\n                        </td>\n                        <td>\n                          <tr>\n                            {{serverAPIUpdated ? serverAPI:'Save settings to update'}}\n                          </tr>\n                          <tr>\n                            {{nodeBlockCount || 'N/A'}}\n                          </tr>\n                          <tr>\n                            {{nodeUncemented || 'N/A'}}\n                          </tr>\n                          <tr>\n                            {{peersStakeReq || 'N/A'}}\n                          </tr>\n                          <tr>\n                            {{peersStakeTotal || 'N/A'}}\n                          </tr>\n                          <tr>\n                            {{nodeVendor || 'N/A'}}\n                          </tr>\n                          <tr>\n                            {{nodeNetwork || 'N/A'}}\n                          </tr>\n                          <tr *ngIf=\"showServerValues() && !showServerConfigs()\">\n                            {{shouldRandom || 'No'}}\n                          </tr>\n                        </td>\n                      </table>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n      <div class=\"uk-card-footer uk-text-right@s uk-text-center\">\n        <button (click)=\"updateServerSettings()\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\">Update Server Settings</button>\n      </div>\n    </div>\n\n\n    <div class=\"uk-card uk-card-default uk-margin\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Advanced Options</h3>\n      </div>\n      <div class=\"uk-card-body uk-text-center\">\n        <div uk-grid>\n\n          <div class=\"uk-width-1-3@m\">\n            <button class=\"uk-button uk-button-danger\" (click)=\"clearWorkCache()\" uk-tooltip title=\"This will delete all locally cached Proof of Work values\">Clear Work Cache</button>\n          </div>\n          <div class=\"uk-width-1-3@m\">\n            <button class=\"uk-button uk-button-danger\" (click)=\"clearWalletData()\" uk-tooltip title=\"This will delete all data related to your wallet (Your seed and accounts)\">Delete Wallet Data</button>\n          </div>\n          <div class=\"uk-width-1-3@m\">\n            <button class=\"uk-button uk-button-danger\" (click)=\"clearAllData()\" uk-tooltip title=\"This will delete ALL stored data and reset app settings, including your wallet, address book and more.\">Delete ALL Data</button>\n          </div>\n        </div>\n      </div>\n      <!--<div class=\"uk-card-footer uk-text-right\">-->\n        <!--<button (click)=\"updateWalletSettings()\" class=\"uk-button uk-button-secondary\">Update Wallet Settings</button>-->\n      <!--</div>-->\n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport {PriceService} from '../../services/price.service';\nimport {PowService} from '../../services/pow.service';\nimport {WorkPoolService} from '../../services/work-pool.service';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {ApiService} from '../../services/api.service';\nimport {WebsocketService} from '../../services/websocket.service';\nimport {NodeService} from '../../services/node.service';\nimport {UtilService} from '../../services/util.service';\nimport {BehaviorSubject} from 'rxjs';\nimport {RepresentativeService} from '../../services/representative.service';\nimport {NinjaService} from '../../services/ninja.service';\nimport {QrModalService} from '../../services/qr-modal.service';\n\n@Component({\n  selector: 'app-configure-app',\n  templateUrl: './configure-app.component.html',\n  styleUrls: ['./configure-app.component.css']\n})\n\nexport class ConfigureAppComponent implements OnInit {\n\n  constructor(\n    private walletService: WalletService,\n    private notifications: NotificationService,\n    private appSettings: AppSettingsService,\n    private addressBook: AddressBookService,\n    private pow: PowService,\n    private api: ApiService,\n    private websocket: WebsocketService,\n    private workPool: WorkPoolService,\n    private repService: RepresentativeService,\n    private node: NodeService,\n    private util: UtilService,\n    private price: PriceService,\n    private ninja: NinjaService,\n    private qrModalService: QrModalService) { }\n  wallet = this.walletService.wallet;\n\n  denominations = [\n    { name: 'CEVIZ', value: 'mceviz' },\n    { name: 'kceviz', value: 'kceviz' },\n    { name: 'ceviz', value: 'ceviz' },\n  ];\n  selectedDenomination = this.denominations[0].value;\n\n  storageOptions = [\n    { name: 'Browser Local Storage', value: 'localStorage' },\n    { name: 'None', value: 'none' },\n  ];\n  selectedStorage = this.storageOptions[0].value;\n\n  currencies = [\n    { name: 'None', value: '' },\n    { name: 'USD - US Dollar', value: 'USD' },\n    { name: 'BTC - Bitcoin', value: 'BTC' },\n    { name: 'AUD - Australian Dollar', value: 'AUD' },\n    { name: 'BRL - Brazilian Real', value: 'BRL' },\n    { name: 'CAD - Canadian Dollar', value: 'CAD' },\n    { name: 'CHF - Swiss Franc', value: 'CHF' },\n    { name: 'CLP - Chilean Peso', value: 'CLP' },\n    { name: 'CNY - Chinese Yuan', value: 'CNY' },\n    { name: 'CZK - Czech Koruna', value: 'CZK' },\n    { name: 'DKK - Danish Krown', value: 'DKK' },\n    { name: 'EUR - Euro', value: 'EUR' },\n    { name: 'GBP - British Pound', value: 'GBP' },\n    { name: 'HKD - Hong Kong Dollar', value: 'HKD' },\n    { name: 'HUF - Hungarian Forint', value: 'HUF' },\n    { name: 'IDR - Indonesian Rupiah', value: 'IDR' },\n    { name: 'ILS - Israeli New Shekel', value: 'ILS' },\n    { name: 'INR - Indian Rupee', value: 'INR' },\n    { name: 'JPY - Japanese Yen', value: 'JPY' },\n    { name: 'KRW - South Korean Won', value: 'KRW' },\n    { name: 'MXN - Mexican Peso', value: 'MXN' },\n    { name: 'MYR - Malaysian Ringgit', value: 'MYR' },\n    { name: 'NOK - Norwegian Krone', value: 'NOK' },\n    { name: 'NZD - New Zealand Dollar', value: 'NZD' },\n    { name: 'PHP - Philippine Piso', value: 'PHP' },\n    { name: 'PKR - Pakistani Rupee', value: 'PKR' },\n    { name: 'PLN - Polish Zloty', value: 'PLN' },\n    { name: 'RUB - Russian Ruble', value: 'RUB' },\n    { name: 'SEK - Swedish Krona', value: 'SEK' },\n    { name: 'SGD - Singapore Dollar', value: 'SGD' },\n    { name: 'THB - Thai Baht', value: 'THB' },\n    { name: 'TRY - Turkish Lira', value: 'TRY' },\n    { name: 'TWD - New Taiwan Dollar', value: 'TWD' },\n    { name: 'ZAR - South African Rand', value: 'ZAR' },\n  ];\n  selectedCurrency = this.currencies[0].value;\n\n  inactivityOptions = [\n    { name: 'Never', value: 0 },\n    { name: '1 Minute', value: 1 },\n    { name: '5 Minutes', value: 5 },\n    { name: '15 Minutes', value: 15 },\n    { name: '30 Minutes', value: 30 },\n    { name: '1 Hour', value: 60 },\n    { name: '6 Hours', value: 360 },\n  ];\n  selectedInactivityMinutes = this.inactivityOptions[4].value;\n\n  powOptions = [\n    { name: 'Best Option Available', value: 'best' },\n    { name: 'Client Side - WebGL [Recommended] (Chrome/Firefox)', value: 'clientWebGL' },\n    { name: 'Client Side - CPU', value: 'clientCPU' },\n    { name: 'Server - Nault Server', value: 'server' },\n  ];\n  selectedPoWOption = this.powOptions[0].value;\n\n  pendingOptions = [\n    { name: 'Largest Amount First', value: 'amount' },\n    { name: 'Oldest Transaction First', value: 'date' },\n    { name: 'Manual', value: 'manual' },\n  ];\n  selectedPendingOption = this.pendingOptions[0].value;\n\n  // prefixOptions = [\n  //   { name: 'ceviz_', value: 'ceviz' },\n  //   { name: 'ceviz_', value: 'ceviz' },\n  // ];\n  // selectedPrefix = this.prefixOptions[0].value;\n\n  serverOptions = [];\n  selectedServer = null;\n\n  defaultRepresentative = null;\n  representativeResults$ = new BehaviorSubject([]);\n  showRepresentatives = false;\n  representativeListMatch = '';\n  repStatus = null;\n  representativeList = [];\n\n  serverAPI = null;\n  serverAPIUpdated = null;\n  serverWS = null;\n  serverAuth = null;\n  minimumReceive = null;\n\n  nodeBlockCount = null;\n  nodeUnchecked = null;\n  nodeCemented = null;\n  nodeUncemented = null;\n  peersStakeReq = null;\n  peersStakeTotal = null;\n  nodeVendor = null;\n  nodeNetwork = null;\n  statsRefreshEnabled = true;\n  shouldRandom = null;\n\n  showServerValues = () => this.selectedServer && this.selectedServer !== 'random' && this.selectedServer !== 'offline';\n  showStatValues = () => this.selectedServer && this.selectedServer !== 'offline';\n  showServerConfigs = () => this.selectedServer && this.selectedServer === 'custom';\n\n  async ngOnInit() {\n    this.loadFromSettings();\n    this.updateNodeStats();\n\n    // populate representative list\n    if (!this.serverAPI) return;\n    const verifiedReps = await this.ninja.recommendedRandomized();\n\n    for (const representative of verifiedReps) {\n      const temprep = {\n        id: representative.account,\n        name: representative.alias\n      };\n\n      this.representativeList.push(temprep);\n    }\n\n    // add the localReps to the list\n    const localReps = this.repService.getSortedRepresentatives();\n    this.representativeList.push(...localReps);\n  }\n\n  async updateNodeStats(refresh= false) {\n    if ((!this.serverAPIUpdated ||\n      (this.serverAPIUpdated !== this.appSettings.settings.serverAPI && this.selectedServer === 'random'))) return;\n    // refresh is not enabled\n    if (refresh && !this.statsRefreshEnabled) return;\n    // Offline mode selected\n    if (this.selectedServer === 'offline') return;\n\n    this.statsRefreshEnabled = false;\n    try {\n      const blockCount = await this.api.blockCount();\n      this.nodeBlockCount = Number(blockCount.count).toLocaleString('en-US');\n      this.nodeUnchecked = Number(blockCount.unchecked).toLocaleString('en-US');\n      this.nodeCemented = Number(blockCount.cemented).toLocaleString('en-US');\n      this.nodeUncemented = Number(blockCount.count - blockCount.cemented).toLocaleString('en-US');\n    } catch {console.warn('Failed to get node stats: block count'); }\n\n    try {\n      const quorumData = await this.api.confirmationQuorum();\n      this.peersStakeReq = quorumData ? Number(this.util.ceviz.rawToMceviz(quorumData.peers_stake_required)).toLocaleString('en-US') : null;\n      this.peersStakeTotal = quorumData ? Number(this.util.ceviz.rawToMceviz(quorumData.peers_stake_total)).toLocaleString('en-US') : null;\n    } catch {console.warn('Failed to get node stats: confirmation quorum'); }\n\n    try {\n      const version = await this.api.version();\n      this.nodeVendor = version.node_vendor;\n      this.nodeNetwork = version.network;\n    } catch {console.warn('Failed to get node stats: version'); }\n\n    setTimeout(() => this.statsRefreshEnabled = true, 5000);\n  }\n\n  loadFromSettings() {\n    const settings = this.appSettings.settings;\n\n    const matchingCurrency = this.currencies.find(d => d.value === settings.displayCurrency);\n    this.selectedCurrency = matchingCurrency.value || this.currencies[0].value;\n\n    const matchingStorage = this.storageOptions.find(d => d.value === settings.walletStore);\n    this.selectedStorage = matchingStorage.value || this.storageOptions[0].value;\n\n    const matchingInactivityMinutes = this.inactivityOptions.find(d => d.value === settings.lockInactivityMinutes);\n    this.selectedInactivityMinutes = matchingInactivityMinutes ? matchingInactivityMinutes.value : this.inactivityOptions[4].value;\n\n    const matchingPowOption = this.powOptions.find(d => d.value === settings.powSource);\n    this.selectedPoWOption = matchingPowOption ? matchingPowOption.value : this.powOptions[0].value;\n\n    const matchingPendingOption = this.pendingOptions.find(d => d.value === settings.pendingOption);\n    this.selectedPendingOption = matchingPendingOption ? matchingPendingOption.value : this.pendingOptions[0].value;\n\n    this.serverOptions = this.appSettings.serverOptions;\n    this.selectedServer = settings.serverName;\n    this.serverAPI = settings.serverAPI;\n    this.serverAPIUpdated = this.serverAPI;\n    this.serverWS = settings.serverWS;\n    this.serverAuth = settings.serverAuth;\n\n    this.minimumReceive = settings.minimumReceive;\n    this.defaultRepresentative = settings.defaultRepresentative;\n    if (this.defaultRepresentative) {\n      this.validateRepresentative();\n    }\n  }\n\n  async updateDisplaySettings() {\n    const newCurrency = this.selectedCurrency;\n    // const updatePrefixes = this.appSettings.settings.displayPrefix !== this.selectedPrefix;\n    const reloadFiat = this.appSettings.settings.displayCurrency !== newCurrency;\n    this.notifications.sendSuccess(`App display settings successfully updated!`);\n\n    if (reloadFiat) {\n      // Reload prices with our currency, then call to reload fiat balances.\n      await this.price.getPrice(newCurrency);\n      this.appSettings.setAppSetting('displayCurrency', newCurrency);\n      this.walletService.reloadFiatBalances();\n    }\n\n    // if (updatePrefixes) {\n    //   this.appSettings.setAppSetting('displayPrefix', this.selectedPrefix);\n      // Go through accounts?\n      // this.wallet.accounts.forEach(account => {\n      //   account.id = this.util.account.setPrefix(account.id, this.selectedPrefix);\n      // });\n      // this.walletService.saveWalletExport();\n      //\n      // this.addressBook.addressBook.forEach(entry => {\n      //   entry.account = this.util.account.setPrefix(entry.account, this.selectedPrefix);\n      // });\n      // this.addressBook.saveAddressBook();\n    // }\n\n  }\n\n  async updateWalletSettings() {\n    const newStorage = this.selectedStorage;\n    let newPoW = this.selectedPoWOption;\n    const pendingOption = this.selectedPendingOption;\n    let minReceive = null;\n    if (this.util.account.isValidCevizAmount(this.minimumReceive)) {\n      minReceive = this.minimumReceive;\n    }\n\n    const resaveWallet = this.appSettings.settings.walletStore !== newStorage;\n\n    // reload pending if threshold changes or if receive priority changes from manual to auto\n    const reloadPending = this.appSettings.settings.minimumReceive !== this.minimumReceive\n    || (pendingOption !== 'manual' && pendingOption !== this.appSettings.settings.pendingOption);\n\n    if (this.defaultRepresentative && this.defaultRepresentative.length) {\n      const valid = this.util.account.isValidAccount(this.defaultRepresentative);\n      if (!valid) {\n        return this.notifications.sendWarning(`Default representative is not a valid account`);\n      }\n    }\n\n    if (this.appSettings.settings.powSource !== newPoW) {\n      if (newPoW === 'clientWebGL' && !this.pow.hasWebGLSupport()) {\n        this.notifications.sendWarning(`WebGL support not available, set PoW to Best`);\n        newPoW = 'best';\n      }\n      if (newPoW === 'clientCPU' && !this.pow.hasWorkerSupport()) {\n        this.notifications.sendWarning(`CPU Worker support not available, set PoW to Best`);\n        newPoW = 'best';\n      }\n    }\n\n    const newSettings = {\n      walletStore: newStorage,\n      lockInactivityMinutes: Number(this.selectedInactivityMinutes),\n      powSource: newPoW,\n      pendingOption: pendingOption,\n      minimumReceive: minReceive,\n      defaultRepresentative: this.defaultRepresentative || null,\n    };\n\n    this.appSettings.setAppSettings(newSettings);\n    this.notifications.sendSuccess(`App wallet settings successfully updated!`);\n\n    if (resaveWallet) {\n      this.walletService.saveWalletExport(); // If swapping the storage engine, resave the wallet\n    }\n    if (reloadPending) {\n      this.walletService.reloadBalances(true);\n    }\n  }\n\n  async updateServerSettings() {\n    const newSettings = {\n      serverName: this.selectedServer,\n      serverAPI: null,\n      serverWS: null,\n      serverAuth: null,\n    };\n\n    // Custom... do some basic validation\n    if (this.serverAPI != null && this.serverAPI.trim().length > 1) {\n      if (this.serverAPI.startsWith('https://') || this.serverAPI.startsWith('http://')) {\n        newSettings.serverAPI = this.serverAPI;\n      } else {\n        return this.notifications.sendWarning(`Custom API Server has an invalid address.`);\n      }\n    }\n\n    if (this.serverWS != null && this.serverWS.trim().length > 1) {\n      if (this.serverWS.startsWith('wss://') || this.serverWS.startsWith('ws://')) {\n        newSettings.serverWS = this.serverWS;\n      } else {\n        return this.notifications.sendWarning(`Custom Update Server has an invalid address.`);\n      }\n    }\n\n    if (this.serverAuth != null && this.serverAuth.trim().length > 1) {\n      newSettings.serverAuth = this.serverAuth;\n    }\n\n    this.appSettings.setAppSettings(newSettings);\n    this.appSettings.loadAppSettings();\n\n    this.notifications.sendSuccess(`Server settings successfully updated, reconnecting to backend`);\n\n    this.node.node.status = false; // Directly set node to offline since API url changed.  Status will get set by reloadBalances\n\n    // Reload balances which triggers an api check + reconnect to websocket server\n    await this.walletService.reloadBalances();\n    this.websocket.forceReconnect();\n    // this is updated after setting server to random and doing recheck of wallet balance\n    this.serverAPIUpdated = this.appSettings.settings.serverAPI;\n    this.serverAPI = this.serverAPIUpdated;\n    this.statsRefreshEnabled = true;\n    this.updateNodeStats();\n  }\n\n  searchRepresentatives() {\n    if (this.defaultRepresentative !== '' && !this.util.account.isValidAccount(this.defaultRepresentative)) this.repStatus = 0;\n    else this.repStatus = null;\n\n    this.showRepresentatives = true;\n    const search = this.defaultRepresentative || '';\n\n    const matches = this.representativeList\n      .filter(a => a.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n      .slice(0, 5);\n\n    this.representativeResults$.next(matches);\n  }\n\n  selectRepresentative(rep) {\n    this.showRepresentatives = false;\n    this.defaultRepresentative = rep;\n    this.searchRepresentatives();\n    this.validateRepresentative();\n  }\n\n  async validateRepresentative() {\n    setTimeout(() => this.showRepresentatives = false, 400);\n    if (this.defaultRepresentative) this.defaultRepresentative = this.defaultRepresentative.replace(/ /g, '');\n\n    if (this.defaultRepresentative === '') {\n      this.representativeListMatch = '';\n      return;\n    }\n\n    const rep = this.repService.getRepresentative(this.defaultRepresentative);\n    const ninjaRep = await this.ninja.getAccount(this.defaultRepresentative);\n\n    if (rep) {\n      this.representativeListMatch = rep.name;\n    } else if (ninjaRep) {\n      this.representativeListMatch = ninjaRep.alias;\n    } else {\n      this.representativeListMatch = '';\n    }\n  }\n\n  // When changing the Server Config option, prefill values\n  serverConfigChange(newServer) {\n    const custom = this.serverOptions.find(c => c.value === newServer);\n    if (custom) {\n      this.serverAPI = custom.api;\n      this.serverAPIUpdated = null;\n      this.serverWS = custom.ws;\n      this.serverAuth = custom.auth;\n      this.shouldRandom = custom.shouldRandom ? 'Yes' : 'No';\n    }\n\n    // reset server stats until updated\n    this.nodeBlockCount = null;\n    this.nodeUnchecked = null;\n    this.nodeCemented = null;\n    this.nodeUncemented = null;\n    this.peersStakeReq = null;\n    this.peersStakeTotal = null;\n    this.nodeVendor = null;\n    this.nodeNetwork = null;\n    this.statsRefreshEnabled = newServer === 'random' ? false : true;\n  }\n\n  async clearWorkCache() {\n    const UIkit = window['UIkit'];\n    try {\n      await UIkit.modal.confirm('<p style=\"text-align: center;\">You are about to delete all locally cached Proof of Work values<br><br><b>Are you sure?</b></p>');\n      this.workPool.clearCache();\n      this.notifications.sendSuccess(`Successfully cleared the work cache!`);\n    } catch (err) {}\n  }\n\n  async clearWalletData() {\n    const UIkit = window['UIkit'];\n    try {\n      await UIkit.modal.confirm('<p style=\"text-align: center;\">You are about to delete all of your wallet data stored in Nault!<br><b>Make sure you have your seed and/or mnemonic backed up!!</b><br><br><b>Are you sure?</b></p>');\n      this.walletService.resetWallet();\n      this.walletService.removeWalletData();\n\n      this.notifications.sendSuccess(`Successfully deleted all wallet data!`);\n    } catch (err) {}\n  }\n\n  async clearAllData() {\n    const UIkit = window['UIkit'];\n    try {\n      await UIkit.modal.confirm('<p style=\"text-align: center;\">You are about to delete all your data stored in Nault and reset all settings.<br>This includes all of your wallet data and address book!<br><br><b>Make sure you have your seed and/or mnemonic backed up!!</b><br><br><b>Are you sure?</b></p>');\n      this.walletService.resetWallet();\n      this.walletService.removeWalletData();\n\n      this.workPool.deleteCache();\n      this.addressBook.clearAddressBook();\n      this.appSettings.clearAppSettings();\n      this.repService.resetRepresentativeList();\n\n      this.loadFromSettings();\n\n      this.notifications.sendSuccess(`Successfully deleted locally stored data and reset the settings!`);\n\n      // Get a new random API server or Nault will get stuck in offline mode\n      this.updateServerSettings();\n    } catch (err) {}\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'rep1':\n          this.defaultRepresentative = data.content;\n          this.validateRepresentative();\n          break;\n      }\n    }, () => {}\n    );\n  }\n}\n","/* (ignored) */","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <div class=\"uk-margin-bottom\" uk-grid>\n      <div class=\"uk-width-expand@s uk-width-1-1\">\n        <h2 class=\"uk-heading-divider\">Representatives Overview</h2>\n      </div>\n      <div class=\"uk-width-auto@s uk-width-1-1 uk-text-right\">\n        <a routerLink=\"/manage-representatives\" class=\"uk-button uk-button-secondary uk-align-right uk-width-auto@s\">Manage Known Reps</a>\n      </div>\n    </div>\n\n    <!-- Send Panel -->\n    <div uk-grid class=\"uk-animation-slide-left-small uk-margin-remove-top\">\n      <div class=\"uk-width-1-1\">\n\n        <div class=\"uk-card uk-card-default\" *ngIf=\"!hideOverview\">\n          <div class=\"uk-card-body uk-padding-remove-bottom\">\n            <p class=\"uk-text-lead uk-text-center\">You have delegated voting weight to the following representatives</p>\n\n\n            <ul class=\"uk-list uk-list-striped\" style=\"margin-bottom: 0;\">\n              <li style=\"background: #fff; border-bottom: 0;\">\n                <div uk-grid style=\"color: #999; text-transform: uppercase; font-size: .875rem; font-weight: 400;\">\n                  <div class=\"uk-width-1-5\">Status</div>\n                  <div class=\"uk-width-expand\">Representative</div>\n                  <div class=\"uk-width-1-4\">Weight</div>\n                </div>\n              </li>\n            </ul>\n            <ul class=\"uk-list uk-list-striped\" style=\"margin-top: 0;\">\n              <li *ngFor=\"let rep of representativeOverview\">\n                <div uk-grid class=\"\">\n\n                  <div class=\"uk-width-1-5\" [ngClass]=\"{ 'uk-text-danger': rep.statusText === 'alert', 'uk-text-warning': rep.statusText === 'warn', 'uk-text-success': rep.statusText === 'trusted', 'uk-text-primary': rep.statusText === 'ok' }\">\n                    <span *ngIf=\"rep.statusText === 'alert'\" uk-tooltip title=\"This is an unknown or official representative, or it's marked because of bad uptime or high (3%+ of online) voting weight.  It is recommended to change to a new representative!\"><span uk-icon=\"icon: warning\"></span> Change</span>\n                    <span *ngIf=\"rep.statusText === 'warn'\" uk-tooltip title=\"This representative has a bad uptime or a high (2%+ of online) voting weight.  Consider changing to a new representative.\"><span uk-icon=\"icon: warning\"></span> Change</span>\n                    <span *ngIf=\"rep.statusText === 'trusted'\" uk-tooltip title=\"This representative is marked as trusted.  No change is needed.\"><span uk-icon=\"icon: star\"></span> Trusted</span>\n                    <span *ngIf=\"rep.statusText === 'ok'\" uk-tooltip title=\"This representative is saved in your list, as long as it is online, no change is needed.\"><span uk-icon=\"icon: check\"></span> Okay</span>\n                    <span *ngIf=\"rep.statusText === 'none'\" uk-tooltip title=\"This representative is not known, consider switching to a known one or add this one to your list\"><span uk-icon=\"icon: question\"></span> Unknown</span>\n                  </div>\n                  <div class=\"uk-width-expand uk-text-truncate\" (click)=\"addSelectedAccounts(rep.accounts)\" style=\"cursor: pointer;\" uk-tooltip title=\"Select the accounts which are using this representative\">\n                    <span class=\"circle circle-online\" *ngIf=\"rep.status.online\" uk-tooltip title=\"Representative is online\"></span>\n                    <span class=\"circle circle-offline\" *ngIf=\"!rep.status.online\" uk-tooltip title=\"Representative is offline\"></span>\n                    <span *ngIf=\"rep.label\">{{ rep.label }}</span> <span *ngIf=\"!rep.label\"><app-nano-account-id [accountID]=\"rep.id\" middle=\"on\"></app-nano-account-id></span>\n                  </div>\n                  <div class=\"uk-width-1-4\">\n                    {{ rep.delegatedWeight | ceviz: 'mceviz' }}\n                  </div>\n\n                </div>\n              </li>\n              <li *ngIf=\"!representativeOverview || !representativeOverview.length\" class=\"uk-text-center\">\n                None of your accounts have delegated any voting weight yet, you must receive a transaction to change your representative!\n              </li>\n            </ul>\n            <p class=\"uk-text-center uk-margin-small-bottom\">\n              <small>Click on a representative to select all of the accounts delegated to it</small>\n            </p>\n          </div>\n        </div>\n      </div>\n\n\n      <div class=\"uk-width-1-1\" *ngIf=\"representativeOverview.length\">\n        <div class=\"uk-card uk-card-default\">\n          <div class=\"uk-card-body\" style=\"padding-bottom: 0;\">\n\n            <p class=\"uk-text-lead uk-text-center\">Change your representatives</p>\n\n\n            <div class=\"uk-form-horizontal\">\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-select\">Accounts to Change</label>\n                <div class=\"uk-form-controls\">\n                  <select class=\"uk-select\" [(ngModel)]=\"changeAccountID\" (change)=\"newAccountID()\" id=\"form-horizontal-select\">\n                    <option [value]=\"null\">Select Accounts to Change</option>\n                    <option [value]=\"'all'\">All Current Accounts</option>\n                    <option *ngFor=\"let account of wallet.wallet.accounts\" [value]=\"account.id\">{{account.addressBookName ? account.addressBookName + ' - ' : '#' + account.index + ' - ' }} {{ account.id | squeeze }} ({{ account.balance | ceviz: settings.settings.displayDenomination }})</option>\n                  </select>\n                  <ul class=\"uk-list uk-list-striped\">\n                    <li *ngFor=\"let account of selectedAccounts\">\n                      <div uk-grid>\n                        <div class=\"uk-width-5-6 uk-text-truncate\">\n                          <span *ngIf=\"account.addressBookName\" class=\"uk-margin-small-right uk-label uk-label-default\">{{ account.addressBookName }}</span>\n                          <span *ngIf=\"account.id !== 'All Current Accounts'\"><app-nano-account-id [accountID]=\"account.id\" middle=\"on\"></app-nano-account-id></span>\n                          <span *ngIf=\"account.id === 'All Current Accounts'\">{{ account.id }}</span>\n                        </div>\n                        <div class=\"uk-width-1-6 uk-text-center\" style=\"padding-left: 0;\">\n                          <a (click)=\"removeSelectedAccount(account)\" class=\"uk-text-danger\" title=\"Remove From List\" uk-tooltip><span uk-icon=\"icon: close;\"></span></a>\n                        </div>\n                      </div>\n\n                    </li>\n                  </ul>\n                </div>\n              </div>\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-text2\">New Representative</label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('rep1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n                    <input (blur)=\"validateRepresentative()\" (keyup)=\"searchRepresentatives()\" (focus)=\"searchRepresentatives()\" [(ngModel)]=\"toRepresentativeID\" class=\"uk-input\" id=\"form-horizontal-text2\" type=\"text\" placeholder=\"Representative Account\" #repInput>\n\n                    <div *ngIf=\"(representativeResults$ | async).length\" [hidden]=\"!showRepresentatives\" class=\"uk-animation-slide-down-small uk-width-1-1 uk-card uk-card-default uk-card-body uk-position-absolute\" style=\"z-index: 15000\">\n                      <ul class=\"uk-nav uk-nav-default\">\n                        <li class=\"uk-nav-header\">Representative List Results</li>\n                        <li class=\"uk-nav-divider\"></li>\n                        <li *ngFor=\"let rep of representativeResults$ | async\">\n                          <a (click)=\"selectRepresentative(rep.id)\">\n                            {{ rep.name }}\n                            <span *ngIf=\"rep.trusted\" uk-icon=\"icon: star;\" class=\"uk-text-success\"></span>\n                            <span *ngIf=\"rep.warn\" uk-icon=\"icon: warning;\" class=\"uk-text-warning\"></span>\n                          </a>\n                        </li>\n                      </ul>\n                    </div>\n\n                  </div>\n                </div>\n\n                <div class=\"uk-form-controls\" *ngIf=\"representativeListMatch\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <span class=\"uk-label uk-label-danger\">{{ representativeListMatch }}</span>\n                  </div>\n                </div>\n\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1 uk-margin-top\">\n                    <button class=\"uk-button uk-button-default uk-button-small\" *ngIf=\"showRecommendedReps\" (click)=\"showRecommendedReps = !showRecommendedReps\"><span uk-icon=\"icon: minus; ratio: 0.8\" style=\"margin-right: 5px;\"></span> Hide Recommended Representatives</button>\n                    <button class=\"uk-button uk-button-primary uk-button-small\" *ngIf=\"!showRecommendedReps\" (click)=\"showRecommendedReps = !showRecommendedReps\"><span uk-icon=\"icon: plus; ratio: 0.8\" style=\"margin-right: 5px;\"></span> View Recommended Representatives</button>\n                  </div>\n                </div>\n              </div>\n\n              <div *ngIf=\"showRecommendedReps\">\n                <hr>\n\n                <div class=\"uk-margin\">\n                  <p class=\"uk-text-lead uk-text-center\">Select a representative recommended by <a href=\"https://mynano.ninja\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"uk-link-text\">MyNanoNinja</a></p>\n                  <!--<h4>Or, Select a recommended representative</h4>-->\n                  <ul class=\"uk-list uk-list-striped\" style=\"margin-bottom: 0;\">\n                    <li style=\"background: #fff; border-bottom: 0;\">\n                      <div uk-grid style=\"color: #999; text-transform: uppercase; font-size: .875rem; font-weight: 400;\">\n                        <div class=\"uk-width-expand\">Representative</div>\n                        <div class=\"uk-width-1-2\">Weight / Uptime / Accounts</div>\n                        <!--<div class=\"uk-width-1-5\">Uptime / Delegators</div>-->\n                      </div>\n                    </li>\n                  </ul>\n                  <ul class=\"uk-list uk-list-striped\" style=\"margin-top: 0;\">\n                    <li *ngIf=\"recommendedRepsLoading\" class=\"uk-text-center\">\n                      <span uk-icon=\"load\"></span> Loading reps...\n                    </li>\n                    <li *ngIf=\"recommendedRepsLoading === null\" class=\"uk-text-center\">\n                      <span uk-icon=\"load\"></span> Unable to load representatives from My Nano Ninja\n                    </li>\n                    <li *ngFor=\"let rep of recommendedRepsPaginated\">\n                      <div uk-grid >\n                        <div class=\"uk-width-expand\" (click)=\"selectRecommendedRep(rep)\" style=\"cursor: pointer;\">\n                          <span class=\"uk-badge\" uk-tooltip title=\"My Nano Ninja Score\" style=\"margin-right: 4px;\">{{ rep.score }}</span> <span uk-tooltip title=\"Select this representative\">{{ rep.alias }}</span>\n\n                        </div>\n                        <div class=\"uk-width-1-2\">\n                          <a [href]=\"'https://mynano.ninja/account/' + rep.account\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"float: right;\" uk-tooltip title=\"View more details on My Nano Ninja\" class=\"uk-link-muted\"><span uk-icon=\"search\"></span></a>\n\n                          <span style=\"display: inline-block; margin-right: 15px;\" uk-tooltip title=\"Percentage of network voting weight delegated\" class=\"uk-text-primary\"><span uk-icon=\"users\"></span> {{ rep.percent }}%</span>\n                          <span style=\"display: inline-block; margin-right: 15px; color: #13ab60;\" uk-tooltip title=\"Uptime since creation\" class=\"\"><span uk-icon=\"bolt\"></span> {{ rep.uptime.toFixed(2) }}%</span>\n\n                        </div>\n                      </div>\n                    </li>\n                  </ul>\n                  <a href=\"https://mynano.ninja\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"float: right;\" class=\"uk-link-muted\" uk-tooltip title=\"View all verified representatives on MyNanoNinja\">View All</a>\n                  <ul class=\"uk-pagination uk-flex-center\">\n                    <li><a (click)=\"previousReps()\" uk-tooltip title=\"Previous Page\"><span uk-pagination-previous></span></a></li>\n                    <li>Showing {{ (currentRepPage * repsPerPage)+ 1 }} - {{ (currentRepPage * repsPerPage)+ repsPerPage }} of {{ recommendedReps.length }} reps</li>\n                    <li><a (click)=\"nextReps()\" uk-tooltip title=\"Next Page\"><span uk-pagination-next></span></a></li>\n                  </ul>\n                </div>\n\n              </div>\n\n\n            </div>\n          </div>\n          <div class=\"uk-card-footer\">\n            <button class=\"uk-button uk-button-primary uk-width-1-1\" type=\"button\" (click)=\"changeRepresentatives()\" *ngIf=\"!changingRepresentatives\">Update Representatives</button>\n            <button class=\"uk-button uk-button-primary uk-width-1-1 uk-disabled\" type=\"button\" *ngIf=\"changingRepresentatives\"><span uk-spinner></span> Updating Representatives...</button>\n          </div>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport BigNumber from 'bignumber.js';\nimport {BehaviorSubject} from 'rxjs';\nimport { QrModalService } from '../../services/qr-modal.service';\n\nimport {\n  ApiService,\n  AppSettingsService,\n  FullRepresentativeOverview,\n  CevizBlockService,\n  NotificationService,\n  RepresentativeService,\n  UtilService,\n  WalletService,\n  NinjaService\n} from '../../services';\n\n@Component({\n  selector: 'app-representatives',\n  templateUrl: './representatives.component.html',\n  styleUrls: ['./representatives.component.css']\n})\nexport class RepresentativesComponent implements OnInit {\n  @ViewChild('repInput') repInput;\n\n  changeAccountID: any = null;\n  toRepresentativeID = '';\n\n  representativeResults$ = new BehaviorSubject([]);\n  showRepresentatives = false;\n  representativeListMatch = '';\n\n  representativeOverview = [];\n  changingRepresentatives = false;\n\n  selectedAccounts = [];\n  fullAccounts = [];\n\n  recommendedReps = [];\n  recommendedRepsPaginated = [];\n  recommendedRepsLoading = false;\n  selectedRecommendedRep = null;\n  showRecommendedReps = false;\n\n  repsPerPage = 5;\n  currentRepPage = 0;\n\n  hideOverview = false;\n\n  representativeList = [];\n\n  constructor(\n    private router: ActivatedRoute,\n    public wallet: WalletService,\n    private api: ApiService,\n    private notifications: NotificationService,\n    private cevizBlock: CevizBlockService,\n    private util: UtilService,\n    private representativeService: RepresentativeService,\n    public settings: AppSettingsService,\n    private ninja: NinjaService,\n    private qrModalService: QrModalService) { }\n\n  async ngOnInit() {\n    this.representativeService.loadRepresentativeList();\n\n    // Listen for query parameters that set defaults\n    this.router.queryParams.subscribe(params => {\n      this.hideOverview = params && params.hideOverview;\n      this.showRecommendedReps = params && params.showRecommended;\n\n      if (params && params.accounts) {\n        this.selectedAccounts = []; // Reset the preselected accounts\n        const accounts = params.accounts.split(',');\n        for (const account of accounts) {\n          this.newAccountID(account);\n        }\n      }\n      if (params && params.representative) {\n        this.selectRepresentative(params.representative);\n      }\n    });\n\n    let repOverview = await this.representativeService.getRepresentativesOverview();\n    // Sort by weight delegated\n    repOverview = repOverview.sort(\n      (a: FullRepresentativeOverview, b: FullRepresentativeOverview) => b.delegatedWeight.toNumber() - a.delegatedWeight.toNumber()\n    );\n    this.representativeOverview = repOverview;\n    repOverview.forEach(o => this.fullAccounts.push(...o.accounts));\n\n    // populate representative list\n    const verifiedReps = await this.ninja.recommendedRandomized();\n\n    for (const representative of verifiedReps) {\n      const temprep = {\n        id: representative.account,\n        name: representative.alias\n      };\n\n      this.representativeList.push(temprep);\n    }\n\n    // add the localReps to the list\n    const localReps = this.representativeService.getSortedRepresentatives();\n    this.representativeList.push(...localReps);\n\n    await this.loadRecommendedReps();\n  }\n\n  addSelectedAccounts(accounts) {\n    for (const account of accounts) {\n      this.newAccountID(account.id);\n    }\n\n    // Scroll to the representative input\n    setTimeout(() => this.repInput.nativeElement.scrollIntoView({ behavior: 'smooth', block: 'start' }), 50);\n  }\n\n  newAccountID(accountID) {\n    const newAccount = accountID || this.changeAccountID;\n    if (!newAccount) {\n      return; // Didn't select anything\n    }\n\n    const existingAccount = this.selectedAccounts.find(a => a.id === newAccount);\n    if (existingAccount) {\n      return; // Already selected\n    }\n\n    const allExists = this.selectedAccounts.find(a => a.id === 'All Current Accounts');\n    if (newAccount === 'all' && !allExists) {\n      this.selectedAccounts = []; // Reset the list before adding all\n    }\n    if (newAccount !== 'all' && allExists) {\n      this.selectedAccounts.splice(this.selectedAccounts.indexOf(allExists), 1); // Remove all from the list\n    }\n\n    if (newAccount === 'all') {\n      if (this.selectedAccounts.length === 0) {\n        this.selectedAccounts.push({ id: 'All Current Accounts' });\n      }\n    } else {\n      const walletAccount = this.wallet.getWalletAccount(newAccount);\n      this.selectedAccounts.push(walletAccount);\n    }\n\n    setTimeout(() => this.changeAccountID = null, 10);\n  }\n\n  removeSelectedAccount(account) {\n    this.selectedAccounts.splice(this.selectedAccounts.indexOf(account), 1); // Remove all from the list\n  }\n\n  searchRepresentatives() {\n    this.showRepresentatives = true;\n    const search = this.toRepresentativeID || '';\n\n    const matches = this.representativeList\n      .filter(a => a.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n      .slice(0, 5);\n\n    this.representativeResults$.next(matches);\n  }\n\n  selectRepresentative(rep) {\n    this.showRepresentatives = false;\n    this.toRepresentativeID = rep;\n    this.searchRepresentatives();\n    this.validateRepresentative();\n  }\n\n  async validateRepresentative() {\n    setTimeout(() => this.showRepresentatives = false, 400);\n    this.toRepresentativeID = this.toRepresentativeID.replace(/ /g, '');\n\n    if (this.toRepresentativeID === '') {\n      this.representativeListMatch = '';\n      return;\n    }\n\n    const rep = this.representativeService.getRepresentative(this.toRepresentativeID);\n    const ninjaRep = await this.ninja.getAccount(this.toRepresentativeID);\n\n    if (rep) {\n      this.representativeListMatch = rep.name;\n    } else if (ninjaRep) {\n      this.representativeListMatch = ninjaRep.alias;\n    } else {\n      this.representativeListMatch = '';\n    }\n  }\n\n  async loadRecommendedReps() {\n    this.recommendedRepsLoading = true;\n    try {\n      const scores = await this.ninja.recommended() as any[];\n      const totalSupply = new BigNumber(133248289);\n\n      const reps = scores.map(rep => {\n        const nanoWeight = this.util.ceviz.rawToMceviz(rep.votingweight.toString() || 0);\n        const percent = nanoWeight.div(totalSupply).times(100);\n\n        // rep.weight = nanoWeight.toString(10);\n        rep.weight = this.util.ceviz.mcevizToRaw(nanoWeight);\n        rep.percent = percent.toFixed(3);\n\n        return rep;\n      });\n\n      this.recommendedReps = reps;\n\n      this.calculatePage();\n      this.recommendedRepsLoading = false;\n    } catch (err) {\n      this.recommendedRepsLoading = null;\n    }\n\n  }\n\n  previousReps() {\n    if (this.currentRepPage > 0) {\n      this.currentRepPage--;\n      this.calculatePage();\n    }\n  }\n  nextReps() {\n    if (this.currentRepPage < (this.recommendedReps.length / this.repsPerPage) - 1) {\n      this.currentRepPage++;\n    } else {\n      this.currentRepPage = 0;\n    }\n    this.calculatePage();\n  }\n\n  calculatePage() {\n    this.recommendedRepsPaginated = this.recommendedReps.slice(\n      (this.currentRepPage * this.repsPerPage),\n      (this.currentRepPage * this.repsPerPage) + this.repsPerPage\n    );\n  }\n\n  selectRecommendedRep(rep) {\n    this.selectedRecommendedRep = rep;\n    this.toRepresentativeID = rep.account;\n    this.showRecommendedReps = false;\n    this.representativeListMatch = rep.alias; // We will save if they use this, so this is a nice little helper\n  }\n\n  async changeRepresentatives() {\n    const accounts = this.selectedAccounts;\n    const newRep = this.toRepresentativeID;\n\n    if (this.changingRepresentatives) {\n      return; // Already running\n    }\n    if (this.wallet.walletIsLocked()) {\n      return this.notifications.sendWarning(`Wallet must be unlocked`);\n    }\n    if (!accounts || !accounts.length) {\n      return this.notifications.sendWarning(`You must select at least one account to change`);\n    }\n\n    this.changingRepresentatives = true;\n\n    const valid = this.util.account.isValidAccount(newRep);\n    if (!valid) {\n      this.changingRepresentatives = false;\n      return this.notifications.sendWarning(`Representative is not a valid account`);\n    }\n\n    const allAccounts = accounts.find(a => a.id === 'All Current Accounts');\n    const accountsToChange = allAccounts ? this.wallet.wallet.accounts : accounts;\n\n    // Remove any that don't need their represetatives to be changed\n    const accountsNeedingChange = accountsToChange.filter(account => {\n      const accountInfo = this.fullAccounts.find(a => a.id === account.id);\n      if (!accountInfo || accountInfo.error) {\n        return false; // Cant find info, update the account\n      }\n\n      if (accountInfo.representative.toLowerCase() === newRep.toLowerCase()) {\n        return false; // This account already has this representative, reject it\n      }\n\n      return true;\n    });\n\n    if (!accountsNeedingChange.length) {\n      this.changingRepresentatives = false;\n      return this.notifications.sendInfo(`None of the accounts selected need to be updated`);\n    }\n\n    // Now loop and change them\n    for (const account of accountsNeedingChange) {\n      const walletAccount = this.wallet.getWalletAccount(account.id);\n      if (!walletAccount) {\n        continue; // Unable to find account in the wallet? wat?\n      }\n\n      try {\n        const changed = await this.cevizBlock.generateChange(walletAccount, newRep, this.wallet.isLedgerWallet());\n        if (!changed) {\n          this.notifications.sendError(`Error changing representative for ${account.id}, please try again`);\n        }\n      } catch (err) {\n        this.notifications.sendError(err.message);\n      }\n    }\n\n    // Determine if a recommended rep was selected, if so we save an entry in the rep list\n    if (this.selectedRecommendedRep && this.selectedRecommendedRep.account && this.selectedRecommendedRep.account === newRep) {\n      this.representativeService.saveRepresentative(newRep, this.selectedRecommendedRep.alias, false, false);\n    }\n\n    // Good to go!\n    this.selectedAccounts = [];\n    this.toRepresentativeID = '';\n    this.representativeListMatch = '';\n    this.changingRepresentatives = false;\n    this.selectedRecommendedRep = null;\n\n    this.notifications.sendSuccess(`Successfully updated representatives!`);\n\n    let useCachedReps = false;\n\n    // If the overview panel is displayed, reload its data now\n    if (!this.hideOverview) {\n      this.representativeOverview = await this.representativeService.getRepresentativesOverview();\n      useCachedReps = true;\n    }\n\n    // Detect if any new reps should be changed\n    await this.representativeService.detectChangeableReps(useCachedReps ? this.representativeOverview : null);\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'rep1':\n          this.toRepresentativeID = data.content;\n          this.validateRepresentative();\n          break;\n      }\n    }, () => {}\n    );\n  }\n\n}\n","/* (ignored) */","import { Injectable } from '@angular/core';\nimport * as blake from 'blakejs';\nimport {BigNumber} from 'bignumber.js';\nimport * as nanocurrency from 'nanocurrency';\n\nconst nacl = window['nacl'];\nconst STATE_BLOCK_PREAMBLE = '0000000000000000000000000000000000000000000000000000000000000006';\n\nexport interface StateBlock {\n  account: string;\n  previous: string;\n  representative: string;\n  balance: string;\n  link: string;\n  signature: string;\n  work: string;\n}\n\nexport enum TxType {'send', 'receive', 'open', 'change'}\n\n@Injectable()\nexport class UtilService {\n\n  constructor() {\n  }\n\n  hex = {\n    toUint4: hexToUint4,\n    fromUint8: uint8ToHex,\n    toUint8: hexToUint8,\n    isHex: isHex,\n  };\n  uint4 = {\n    toUint5: uint4ToUint5,\n    toUint8: uint4ToUint8,\n  };\n  uint5 = {\n    toString: uint5ToString,\n  };\n  uint8 = {\n    toUint4: uint8ToUint4,\n    fromHex: hexToUint8,\n    toHex: uint8ToHex,\n  };\n  dec = {\n    toHex: decToHex,\n  };\n  big = {\n    add: bigAdd,\n  };\n  string = {\n    isNumeric: isNumeric,\n  };\n  account = {\n    generateAccountSecretKeyBytes: generateAccountSecretKeyBytes,\n    generateAccountKeyPair: generateAccountKeyPair,\n    getPublicAccountID: getPublicAccountID,\n    generateSeedBytes: generateSeedBytes,\n    getAccountPublicKey: getAccountPublicKey,\n    setPrefix: setPrefix,\n    isValidAccount: isValidAccount,\n    isValidCevizAmount: isValidCevizAmount,\n    isValidAmount: isValidAmount,\n  };\n  ceviz = {\n    mcevizToRaw: mcevizToRaw,\n    kcevizToRaw: kcevizToRaw,\n    cevizToRaw: cevizToRaw,\n    rawToMceviz: rawToMceviz,\n    rawToKceviz: rawToKceviz,\n    rawToCeviz: rawToCeviz,\n    hashStateBlock: hashStateBlock,\n    isValidSeed: isValidSeed,\n    isValidHash: isValidHash,\n    isValidIndex: isValidIndex,\n    isValidSignature: isValidSignature,\n    isValidWork: isValidWork,\n    validateWork: validateWork,\n    difficultyFromMultiplier: difficultyFromMultiplier,\n  };\n  array = {\n    shuffle: shuffle\n  };\n\n}\n\n\n\n/** Hex Functions **/\nfunction hexToUint4(hexValue) {\n  const uint4 = new Uint8Array(hexValue.length);\n  for (let i = 0; i < hexValue.length; i++) uint4[i] = parseInt(hexValue.substr(i, 1), 16);\n\n  return uint4;\n}\nfunction hexToUint8(hexValue) {\n  // tslint:disable-next-line:no-bitwise\n  const length = (hexValue.length / 2) | 0;\n  const uint8 = new Uint8Array(length);\n  for (let i = 0; i < length; i++) uint8[i] = parseInt(hexValue.substr(i * 2, 2), 16);\n\n  return uint8;\n}\n\n// Check if string is hexdecimal\nfunction isHex(h) {\n  const re = /^[0-9a-fA-F]+$/;\n  return re.test(h);\n}\n\n\n/** Uint4 Functions **/\nfunction uint4ToUint8(uintValue) {\n  const length = uintValue.length / 2;\n  const uint8 = new Uint8Array(length);\n  for (let i = 0; i < length; i++)\tuint8[i] = uintValue[i * 2] * 16 + uintValue[i * 2 + 1];\n\n  return uint8;\n}\n\n// tslint:disable:no-bitwise\nfunction uint4ToUint5(uintValue) {\n  const length = uintValue.length / 5 * 4;\n  const uint5 = new Uint8Array(length);\n  for (let i = 1; i <= length; i++) {\n    const n = i - 1;\n    const m = i % 4;\n    const z = n + ((i - m) / 4);\n    const right = uintValue[z] << m;\n    let left;\n    if (((length - i) % 4) === 0)\tleft = uintValue[z - 1] << 4;\n    else\tleft = uintValue[z + 1] >> (4 - m);\n    uint5[n] = (left + right) % 32;\n  }\n  return uint5;\n}\n// tslint:enable:no-bitwise\n\nfunction uint4ToHex(uint4) {\n  let hex = '';\n  for (let i = 0; i < uint4.length; i++) hex += uint4[i].toString(16).toUpperCase();\n  return hex;\n}\n\n\n/** Uint5 Functions **/\nfunction uint5ToString(uint5) {\n  const letter_list = '13456789abcdefghijkmnopqrstuwxyz'.split('');\n  let string = '';\n  for (let i = 0; i < uint5.length; i++)\tstring += letter_list[uint5[i]];\n\n  return string;\n}\n\n// tslint:disable:no-bitwise\nfunction uint5ToUint4(uint5) {\n  const length = uint5.length / 4 * 5;\n  const uint4 = new Uint8Array(length);\n  for (let i = 1; i <= length; i++) {\n    const n = i - 1;\n    const m = i % 5;\n    const z = n - ((i - m) / 5);\n    const right = uint5[z - 1] << (5 - m);\n    const left = uint5[z] >> m;\n    uint4[n] = (left + right) % 16;\n  }\n  return uint4;\n}\n// tslint:enable:no-bitwise\n\n\n/** Uint8 Functions **/\nfunction uint8ToHex(uintValue) {\n  let hex = '';\n  let aux;\n  for (let i = 0; i < uintValue.length; i++) {\n    aux = uintValue[i].toString(16).toUpperCase();\n    if (aux.length === 1) {\n      aux = '0' + aux;\n    }\n    hex += aux;\n    aux = '';\n  }\n\n  return(hex);\n}\n\n// tslint:disable:no-bitwise\nfunction uint8ToUint4(uintValue) {\n  const uint4 = new Uint8Array(uintValue.length * 2);\n  for (let i = 0; i < uintValue.length; i++) {\n    uint4[i * 2] = uintValue[i] / 16 | 0;\n    uint4[i * 2 + 1] = uintValue[i] % 16;\n  }\n\n  return uint4;\n}\n// tslint:enable:no-bitwise\n\n\n/** Dec Functions **/\nfunction decToHex(decValue, bytes = null) {\n  // tslint:disable-next-line:prefer-const\n  let dec = decValue.toString().split(''), sum = [], hex = '', hexArray = [], i, s;\n  while (dec.length) {\n    s = 1 * dec.shift();\n    for (i = 0; s || i < sum.length; i++) {\n      s += (sum[i] || 0) * 10;\n      sum[i] = s % 16;\n      s = (s - sum[i]) / 16;\n    }\n  }\n  while (sum.length) {\n    hexArray.push(sum.pop().toString(16));\n  }\n\n  hex = hexArray.join('');\n\n  if (hex.length % 2 !== 0) {\n    hex = '0' + hex;\n  }\n\n  if (bytes > hex.length / 2) {\n    const diff = bytes - hex.length / 2;\n    for (let j = 0; j < diff; j++) {\n      hex = '00' + hex;\n    }\n  }\n\n  return hex;\n}\n\n// BigNumber functions\nfunction bigAdd(input, value) {\n  const insert = new BigNumber(input);\n  const val = new BigNumber(value);\n  return insert.plus(val).toString(10);\n}\n\n/** String Functions **/\nfunction stringToUint5(string) {\n  const letter_list = '13456789abcdefghijkmnopqrstuwxyz'.split('');\n  const length = string.length;\n  const string_array = string.split('');\n  const uint5 = new Uint8Array(length);\n  for (let i = 0; i < length; i++)\tuint5[i] = letter_list.indexOf(string_array[i]);\n  return uint5;\n}\n\nfunction isNumeric(val) {\n  // numerics and last character is not a dot and number of dots is 0 or 1\n  const isnum = /^-?\\d*\\.?\\d*$/.test(val) && val !== '';\n  return isnum && String(val).slice(-1) !== '.';\n}\n\n\n/** Account Functions **/\nfunction generateAccountSecretKeyBytes(seedBytes, accountIndex) {\n  const accountBytes = hexToUint8(decToHex(accountIndex, 4));\n  const context = blake.blake2bInit(32);\n  blake.blake2bUpdate(context, seedBytes);\n  blake.blake2bUpdate(context, accountBytes);\n  const newKey = blake.blake2bFinal(context);\n\n  return newKey;\n}\n\nfunction generateAccountKeyPair(accountSecretKeyBytes, expanded = false) {\n  return nacl.sign.keyPair.fromSecretKey(accountSecretKeyBytes, expanded);\n}\n\nfunction getPublicAccountID(accountPublicKeyBytes, prefix = 'ceviz') {\n  const accountHex = util.uint8.toHex(accountPublicKeyBytes);\n  const keyBytes = util.uint4.toUint8(util.hex.toUint4(accountHex)); // For some reason here we go from u, to hex, to 4, to 8??\n  const checksum = util.uint5.toString(util.uint4.toUint5(util.uint8.toUint4(blake.blake2b(keyBytes, null, 5).reverse())));\n  const account = util.uint5.toString(util.uint4.toUint5(util.hex.toUint4(`0${accountHex}`)));\n\n  return `${prefix}_${account}${checksum}`;\n}\n\nfunction isValidAccount(account: string): boolean {\n  const re = /^ceviz_[13][0-13-9a-km-uw-z]{59}$/;\n  return re.test(account);\n}\n\n// Check if a string is a numeric and larger than 0 but less than Ceviz supply\nfunction isValidCevizAmount(val: string) {\n  // numerics and last character is not a dot and number of dots is 0 or 1\n  const isnum = /^-?\\d*\\.?\\d*$/.test(val);\n  if (isnum && String(val).slice(-1) !== '.') {\n    if (val !== '' && mcevizToRaw(val).gte(1) && nanocurrency.checkAmount(mcevizToRaw(val).toString(10))) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}\n\n// Check if valid raw amount\nfunction isValidAmount(val: string) {\n  return nanocurrency.checkAmount(val);\n}\n\nfunction getAccountPublicKey(account) {\n  if (!isValidAccount(account)) {\n    throw new Error(`Invalid Mikron Account`);\n  }\n  const account_crop = account.length === 64 ? account.substring(4, 64) : account.substring(5, 65);\n  const isValid = /^[13456789abcdefghijkmnopqrstuwxyz]+$/.test(account_crop);\n  if (!isValid) throw new Error(`Invalid CEVZ account`);\n\n  const key_uint4 = array_crop(uint5ToUint4(stringToUint5(account_crop.substring(0, 52))));\n  const hash_uint4 = uint5ToUint4(stringToUint5(account_crop.substring(52, 60)));\n  const key_array = uint4ToUint8(key_uint4);\n  const blake_hash = blake.blake2b(key_array, null, 5).reverse();\n\n  if (!equal_arrays(hash_uint4, uint8ToUint4(blake_hash))) throw new Error(`Incorrect checksum`);\n\n  return uint4ToHex(key_uint4);\n}\n\nfunction setPrefix(account, prefix = 'ceviz') {\n  if (prefix === 'xrb') {\n    return account.replace('xrb_', 'nano_');\n  }\n}\n\n/**\n * Conversion functions\n */\nconst mceviz = 100;\nconst kceviz = 100;\nconst ceviz  = 1;\nfunction mcevizToRaw(value) {\n  return new BigNumber(value).times(mceviz);\n}\nfunction kcevizToRaw(value) {\n  return new BigNumber(value).times(kceviz);\n}\nfunction cevizToRaw(value) {\n  return new BigNumber(value).times(ceviz);\n}\nfunction rawToMceviz(value) {\n  return new BigNumber(value).div(mceviz);\n}\nfunction rawToKceviz(value) {\n  return new BigNumber(value).div(kceviz);\n}\nfunction rawToCeviz(value) {\n  return new BigNumber(value).div(ceviz);\n}\n\n/**\n * Ceviz functions\n */\nfunction isValidSeed(val: string) {\n  return nanocurrency.checkSeed(val);\n}\n\nfunction isValidHash(val: string) {\n  return nanocurrency.checkHash(val);\n}\n\nfunction isValidIndex(val: number) {\n  return nanocurrency.checkIndex(val);\n}\n\nfunction isValidSignature(val: string) {\n  return nanocurrency.checkSignature(val);\n}\n\nfunction isValidWork(val: string) {\n  return nanocurrency.checkWork(val);\n}\n\nfunction validateWork(blockHash: string, threshold: string, work: string) {\n  return nanocurrency.validateWork({blockHash: blockHash, threshold: threshold, work: work});\n}\n\nfunction hashStateBlock(block: StateBlock) {\n  const balance = new BigNumber(block.balance);\n  if (balance.isNegative() || balance.isNaN()) {\n    throw new Error(`Negative or NaN balance`);\n  }\n  let balancePadded = balance.toString(16);\n  while (balancePadded.length < 32) balancePadded = '0' + balancePadded; // Left pad with 0's\n  const context = blake.blake2bInit(32, null);\n  blake.blake2bUpdate(context, hexToUint8(STATE_BLOCK_PREAMBLE));\n  blake.blake2bUpdate(context, hexToUint8(getAccountPublicKey(block.account)));\n  blake.blake2bUpdate(context, hexToUint8(block.previous));\n  blake.blake2bUpdate(context, hexToUint8(getAccountPublicKey(block.representative)));\n  blake.blake2bUpdate(context, hexToUint8(balancePadded));\n  blake.blake2bUpdate(context, hexToUint8(block.link));\n  return blake.blake2bFinal(context);\n}\n\n// Determine new difficulty from base difficulty (hexadecimal string) and a multiplier (float). Returns hex string\nexport function difficultyFromMultiplier(multiplier, base_difficulty) {\n  const big64 = new BigNumber(2).pow(64);\n  const big_multiplier = new BigNumber(multiplier);\n  const big_base = new BigNumber(base_difficulty, 16);\n  return big64.minus((big64.minus(big_base).dividedToIntegerBy(big_multiplier))).toString(16);\n}\n\n// shuffle any array\nfunction shuffle(array) {\n  let currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction array_crop (array) {\n  const length = array.length - 1;\n  const cropped_array = new Uint8Array(length);\n  for (let i = 0; i < length; i++) {\n    cropped_array[i] = array[i + 1];\n  }\n  return cropped_array;\n}\n\nfunction equal_arrays (array1, array2) {\n  for (let i = 0; i < array1.length; i++) {\n    if (array1[i] !== array2[i])\treturn false;\n  }\n  return true;\n}\n\n\nfunction generateSeedBytes() {\n  return nacl.randomBytes(32);\n}\n\nconst util = {\n  hex: {\n    toUint4: hexToUint4,\n    fromUint8: uint8ToHex,\n    toUint8: hexToUint8,\n    isHex: isHex,\n  },\n  uint4: {\n    toUint5: uint4ToUint5,\n    toUint8: uint4ToUint8,\n  },\n  uint5: {\n    toString: uint5ToString,\n  },\n  uint8: {\n    toUint4: uint8ToUint4,\n    fromHex: hexToUint8,\n    toHex: uint8ToHex,\n  },\n  dec: {\n    toHex: decToHex,\n  },\n  big: {\n    add: bigAdd,\n  },\n  string: {\n    isNumeric: isNumeric,\n  },\n  account: {\n    generateAccountSecretKeyBytes: generateAccountSecretKeyBytes,\n    generateAccountKeyPair: generateAccountKeyPair,\n    getPublicAccountID: getPublicAccountID,\n    generateSeedBytes: generateSeedBytes,\n    getAccountPublicKey: getAccountPublicKey,\n    setPrefix: setPrefix,\n    isValidAccount: isValidAccount,\n    isValidCevizAmount: isValidCevizAmount,\n    isValidAmount: isValidCevizAmount,\n  },\n  ceviz: {\n    mcevizToRaw: mcevizToRaw,\n    kcevizToRaw: kcevizToRaw,\n    cevizToRaw: cevizToRaw,\n    rawToMceviz: rawToMceviz,\n    rawToKceviz: rawToKceviz,\n    rawToCeviz: rawToCeviz,\n    hashStateBlock: hashStateBlock,\n    isValidSeed: isValidSeed,\n    isValidHash: isValidHash,\n    isValidIndex: isValidIndex,\n    isValidSignature: isValidSignature,\n    isValidWork: isValidWork,\n    validateWork: validateWork,\n    difficultyFromMultiplier: difficultyFromMultiplier,\n  }\n};\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2 class=\"uk-heading-divider\">Import Address Book Entries</h2>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"activePanel == 'error'\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Bad Import Data</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <p>There was an issue reading the import data for your address book.  Double check the address and try again.</p>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"activePanel == 'import'\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Confirm Import</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <p class=\"uk-text-center\">\n          You are about to import the following address book entries {{hostname ? 'from ' + hostname : ''}}\n        </p>\n        <p class=\"uk-text-center\">\n          <span class=\"import-warning\" *ngIf=\"conflictingEntries\">\n            {{ conflictingEntries }} Labels already exist and will have their name changed.\n          </span>\n          <span class=\"import-warning\" *ngIf=\"newEntries\">\n            {{ newEntries }} New labels will be added.\n          </span>\n          <span class=\"import-warning\" *ngIf=\"existingEntries\">\n            {{ existingEntries }} Labels already exist and will not be modified.\n          </span>\n        </p>\n\n        <div uk-grid>\n          <div class=\"uk-width-1-1\">\n            <ul class=\"uk-list uk-list-striped\" style=\"margin-bottom: 0;\">\n              <li style=\"background: #fff; border-bottom: 0;\">\n                <div uk-grid style=\"color: #999; text-transform: uppercase; font-size: .875rem; font-weight: 400;\">\n                  <div class=\"uk-width-1-4\">New Label</div>\n                  <div class=\"uk-width-1-4\">Current Label</div>\n                  <div class=\"uk-width-1-2 uk-text-truncate\" style=\"padding-left: 0;\">Account</div>\n                </div>\n              </li>\n            </ul>\n            <ul class=\"uk-list uk-list-striped\" style=\"margin-top: 0;\">\n              <li *ngFor=\"let entry of importData\" [ngClass]=\"{ 'uk-text-success': !entry.originalName, 'uk-text-warning': entry.originalName && entry.originalName !== entry.name, 'uk-text-muted': entry.originalName == entry.name }\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-4 uk-text-truncate\">\n                    {{ entry.name }}\n                  </div>\n                  <div class=\"uk-width-1-4 uk-text-truncate\">\n                    {{ entry.originalName }}\n                  </div>\n                  <div class=\"uk-width-1-2 uk-text-truncate\">\n                    {{ entry.account }}\n                  </div>\n                </div>\n\n              </li>\n            </ul>\n          </div>\n        </div>\n\n      </div>\n      <div class=\"uk-card-footer\">\n        <div uk-grid>\n          <div class=\"uk-width-1-2 uk-text-left\">\n            <button routerLink=\"/address-book\" class=\"uk-button uk-button-danger\">Cancel</button>\n          </div>\n          <div class=\"uk-width-1-2 uk-text-right\">\n            <button (click)=\"confirmImport()\" class=\"uk-button uk-button-secondary\">Import Entries</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {NotificationService} from '../../services/notification.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-import-address-book',\n  templateUrl: './import-address-book.component.html',\n  styleUrls: ['./import-address-book.component.css']\n})\nexport class ImportAddressBookComponent implements OnInit {\n  activePanel = 'error';\n\n  validImportData = false;\n  importData: any = null;\n\n  conflictingEntries = 0;\n  newEntries = 0;\n  existingEntries = 0;\n  hostname = '';\n\n  constructor(\n    private route: ActivatedRoute,\n    private notifications: NotificationService,\n    private addressBook: AddressBookService,\n    private router: Router) { }\n\n  ngOnInit() {\n    const importData = this.route.snapshot.fragment;\n    const queryData = this.route.snapshot.queryParams;\n    if (!importData || !importData.length) {\n      return this.importDataError(`No import data found.  Check your link and try again.`);\n    }\n\n    if ('hostname' in queryData) this.hostname = queryData.hostname;\n    const decodedData = atob(importData);\n\n    try {\n      const importBlob = JSON.parse(decodedData);\n      if (!importBlob || !importBlob.length) {\n        return this.importDataError(`Bad import data.  Check your link and try again.`);\n      }\n      this.validImportData = true;\n      this.importData = importBlob;\n      this.activePanel = 'import';\n\n      // Now, find conflicting accounts\n      for (const entry of importBlob) {\n        if (!entry.account || !entry.name) {\n          continue; // Data missing?\n        }\n        entry.originalName = this.addressBook.getAccountName(entry.account);\n        if (!entry.originalName) {\n          this.newEntries++;\n        } else if (entry.originalName === entry.name) {\n          this.existingEntries++;\n        } else {\n          this.conflictingEntries++;\n        }\n      }\n\n    } catch (err) {\n      return this.importDataError(`Unable to decode import data.  Check your link and try again.`);\n    }\n  }\n\n  async confirmImport() {\n    // Go through our address book and see which ones need to be saved\n    let importedCount = 0;\n    for (const entry of this.importData) {\n      if (!entry.originalName) {\n        await this.addressBook.saveAddress(entry.account, entry.name);\n        importedCount++;\n      } else if (entry.originalName && entry.originalName !== entry.name) {\n        await this.addressBook.saveAddress(entry.account, entry.name);\n        importedCount++;\n      }\n    }\n\n    this.router.navigate(['address-book']);\n    this.notifications.sendSuccess(`Successfully imported ${importedCount} address book entries`);\n  }\n\n  importDataError(message) {\n    this.activePanel = 'error';\n    return this.notifications.sendError(message);\n  }\n\n}\n","import {Component, Input, OnChanges, HostBinding} from '@angular/core';\n\n@Component({\n  selector: 'app-nano-account-id',\n  templateUrl: './nano-account-id.component.html',\n  styleUrls: ['./nano-account-id.component.css'],\n})\nexport class CevizAccountIdComponent implements OnChanges {\n\n  @HostBinding('class.uk-flex') isFlex: boolean;\n  @Input() accountID: string;\n  @Input() middle: 'on'|'off'|'auto' = 'auto';\n\n  firstCharacters = '';\n  middleCharacters = '';\n  lastCharacters = '';\n\n  constructor() { }\n\n  ngOnChanges() {\n    this.isFlex = this.middle === 'auto';\n    const accountID = this.accountID;\n    const openingChars = 10;\n    const closingChars = 5;\n    this.firstCharacters = accountID.split('').slice(0, openingChars).join('');\n    this.lastCharacters = accountID.split('').slice(-closingChars).join('');\n    if (this.middle !== 'off') {\n      this.middleCharacters = accountID.split('').slice(openingChars, -closingChars).join('');\n    }\n  }\n\n}\n","<span style=\"color: #4A90E2;\">{{ firstCharacters }}</span>\n<span [class.uk-text-truncate]=\"middle === 'auto'\">{{ middleCharacters || '...'}}</span>\n<span style=\"color: #cba644;\">{{ lastCharacters }}</span>\n","/* (ignored) */","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject} from 'rxjs';\n\n@Injectable()\nexport class PriceService {\n  storeKey = `nanovault-price`;\n  apiUrl = `https://api.coingecko.com/api/v3/coins/nano?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false`;\n\n  price = {\n    lastPrice: 0,\n    lastPriceBTC: 0,\n  };\n  lastPrice$ = new BehaviorSubject(1);\n\n  constructor(private http: HttpClient) {\n    this.loadSavedPrice();\n  }\n\n  async getPrice(currency = 'USD') {\n    if (!currency) return; // No currency defined, do not refetch\n    const response: any = await this.http.get(`${this.apiUrl}`).toPromise();\n    if (!response) {\n      return this.price.lastPrice;\n    }\n\n    const quote = response.market_data.current_price;\n    const currencyPrice = quote[currency.toLowerCase()];\n    const btcPrice = quote.btc;\n\n    this.price.lastPrice = currencyPrice;\n    this.price.lastPriceBTC = btcPrice;\n\n    this.savePrice();\n\n    this.lastPrice$.next(currencyPrice);\n\n    return this.price.lastPrice;\n  }\n\n  loadSavedPrice() {\n    const priceData = localStorage.getItem(this.storeKey);\n    if (!priceData) return false;\n\n    this.price = JSON.parse(priceData);\n  }\n\n  savePrice() {\n    localStorage.setItem(this.storeKey, JSON.stringify(this.price));\n  }\n\n}\n","/* (ignored) */","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UtilService } from '../../services/util.service';\nimport { NotificationService } from '../../services/notification.service';\nimport { WalletService } from '../../services/wallet.service';\nimport { BarcodeFormat } from '@zxing/library';\nimport { BehaviorSubject } from 'rxjs';\nimport { RemoteSignService } from '../../services/remote-sign.service';\n\n@Component({\n  selector: 'app-qr-scan',\n  templateUrl: './qr-scan.component.html',\n  styleUrls: ['./qr-scan.component.css']\n})\nexport class QrScanComponent implements OnInit {\n\n  availableDevices: MediaDeviceInfo[];\n  currentDevice: MediaDeviceInfo = null;\n\n  formatsEnabled: BarcodeFormat[] = [\n    BarcodeFormat.CODE_128,\n    BarcodeFormat.DATA_MATRIX,\n    BarcodeFormat.EAN_13,\n    BarcodeFormat.QR_CODE,\n  ];\n\n  hasDevices: boolean;\n  hasPermission: boolean;\n\n  qrResultString: string;\n\n  torchEnabled = false;\n  torchAvailable$ = new BehaviorSubject<boolean>(false);\n  tryHarder = false;\n\n  hasAccounts = this.walletService.wallet.accounts.length > 0;\n\n  constructor(\n    private router: Router,\n    private notifcationService: NotificationService,\n    private util: UtilService,\n    private walletService: WalletService,\n    private remoteSignService: RemoteSignService,\n  ) { }\n\n  ngOnInit(): void { }\n\n  clearResult(): void {\n    this.qrResultString = null;\n  }\n\n  onCamerasFound(devices: MediaDeviceInfo[]): void {\n    this.availableDevices = devices;\n    this.hasDevices = Boolean(devices && devices.length);\n  }\n\n  onCodeResult(resultString: string) {\n    this.qrResultString = resultString;\n\n    const ceviz_scheme = /^(ceviz|cevizrep|cevizseed|cevizkey|cevizsign|cevizprocess|https):.+$/g;\n\n    if (this.util.account.isValidAccount(resultString)) {\n      // Got address, routing to send...\n      this.router.navigate(['send'], {queryParams: {to: resultString}});\n\n    } else if (this.util.ceviz.isValidSeed(resultString)) {\n      // Seed\n      this.handleSeed(resultString);\n\n    } else if (ceviz_scheme.test(resultString)) {\n      // This is a valid Ceviz scheme URI\n      const url = new URL(resultString);\n\n      // check if QR contains a full URL path\n      if (url.protocol === 'https:') {\n        if (url.pathname === '/import-wallet' && url.hash.slice(1).length) {\n          // wallet import\n          this.router.navigate(['import-wallet'], { queryParams: {hostname: url.hostname}, fragment: url.hash.slice(1)});\n        } else if (url.pathname === '/import-address-book' && url.hash.slice(1).length) {\n          // address book import\n          this.router.navigate(['import-address-book'], { queryParams: {hostname: url.hostname}, fragment: url.hash.slice(1)});\n        }\n      } else if (url.protocol === 'ceviz:' && this.util.account.isValidAccount(url.pathname)) {\n        // Got address, routing to send...\n        const amount = url.searchParams.get('amount');\n        this.router.navigate(['send'], { queryParams: {\n          to: url.pathname,\n          amount: amount ? this.util.ceviz.rawToMceviz(amount) : null\n        }});\n\n      } else if (url.protocol === 'cevizrep:' && this.util.account.isValidAccount(url.pathname)) {\n        // Representative change\n        this.router.navigate(['representatives'], { queryParams: {\n          hideOverview: true,\n          accounts: 'all',\n          representative: url.pathname\n        }});\n\n      } else if (url.protocol === 'cevizseed:' && this.util.ceviz.isValidSeed(url.pathname)) {\n        // Seed\n        this.handleSeed(url.pathname);\n      } else if (url.protocol === 'cevizkey:' && this.util.ceviz.isValidHash(url.pathname)) {\n        // Private key\n        this.handlePrivateKey(url.pathname);\n      } else if (url.protocol === 'cevizsign:') {\n          this.remoteSignService.navigateSignBlock(url);\n\n      } else if (url.protocol === 'cevizprocess:') {\n          this.remoteSignService.navigateProcessBlock(url);\n      }\n\n    } else {\n      this.notifcationService.sendWarning('This QR code is not recognized.', { length: 5000, identifier: 'qr-not-recognized' });\n    }\n  }\n\n  handleSeed(seed) {\n    if (this.hasAccounts) {\n      // Wallet already set up, sweeping...\n      this.router.navigate(['sweeper'], { state: { seed: seed } });\n    } else {\n      // No wallet set up, new wallet...\n      this.router.navigate(['configure-wallet'], { state: { seed: seed }});\n    }\n  }\n\n  handlePrivateKey(key) {\n    if (this.hasAccounts) {\n      // Wallet already set up, sweeping...\n      this.router.navigate(['sweeper'], { state: { seed: key } });\n    } else {\n      // No wallet set up, new wallet...\n      this.router.navigate(['configure-wallet'], { state: { key: key }});\n    }\n  }\n\n  onDeviceSelectChange(selected: string) {\n    const device = this.availableDevices.find(x => x.deviceId === selected);\n    this.currentDevice = device || null;\n  }\n\n  onHasPermission(has: boolean) {\n    this.hasPermission = has;\n  }\n\n  onTorchCompatible(isCompatible: boolean): void {\n    this.torchAvailable$.next(isCompatible || false);\n  }\n\n  toggleTorch(): void {\n    this.torchEnabled = !this.torchEnabled;\n  }\n\n  toggleTryHarder(): void {\n    this.tryHarder = !this.tryHarder;\n  }\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <h2 class=\"uk-heading-divider\">Scan QR Code</h2>\n\n    <div uk-grid class=\"uk-margin-top\">\n\n      <div class=\"uk-width-1-1@m\" [hidden]=\"!hasDevices\">\n\n        <div class=\"uk-width-1-1\">\n          <div class=\"uk-form-horizontal\">\n\n            <div class=\"uk-margin\">\n              <label class=\"uk-form-label\">Device</label>\n              <div class=\"uk-form-controls\">\n                <select class=\"uk-select\" (change)=\"onDeviceSelectChange($event.target.value)\">\n                  <option value=\"\" [selected]=\"!currentDevice\">No Device Selected</option>\n                  <option *ngFor=\"let device of availableDevices\" [value]=\"device.deviceId\"\n                    [selected]=\"currentDevice && device.deviceId === currentDevice.deviceId\">{{device.label}}</option>\n                </select>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div class=\"uk-card uk-card-default uk-card-small\">\n          <div class=\"uk-card-body uk-center\">\n            <zxing-scanner [torch]=\"torchEnabled\" [(device)]=\"currentDevice\" (scanSuccess)=\"onCodeResult($event)\"\n              [formats]=\"formatsEnabled\" [tryHarder]=\"tryHarder\" (permissionResponse)=\"onHasPermission($event)\"\n              (camerasFound)=\"onCamerasFound($event)\" (torchCompatible)=\"onTorchCompatible($event)\"></zxing-scanner>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n</div>\n\n<div *ngIf=\"hasPermission === undefined && hasDevices === undefined\" class=\"uk-alert uk-alert-info\">\n  <b>Waiting for permissions.</b><br>\n  If your device does not has cameras, no permissions will be asked.\n</div>\n\n<div *ngIf=\"hasPermission === false\" class=\"uk-alert uk-alert-danger\">\n  <b>You denied the camera permission.</b><br>\n  We can't scan anything without it. \n</div>\n\n<div *ngIf=\"hasDevices === null || hasPermission === null\" class=\"uk-alert uk-alert-danger\">\n  <b>Couldn't check for devices.</b><br>\n  This may be caused by some security error.\n</div>\n\n<div *ngIf=\"hasDevices === false\" class=\"uk-alert uk-alert-danger\">\n  <b>No devices were found.</b><br>\n  I believe your device has no media devices attached to.\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport {UtilService} from '../../services/util.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport * as nanocurrency from 'nanocurrency';\nimport {PriceService} from '../../services/price.service';\nimport { BigNumber } from 'bignumber.js';\nimport {NotificationService} from '../../services/notification.service';\n\n@Component({\n  selector: 'app-converter',\n  templateUrl: './converter.component.html',\n  styleUrls: ['./converter.component.less']\n})\nexport class ConverterComponent implements OnInit, OnDestroy {\n  Mceviz = '1';\n  raw = '';\n  invalidMceviz = false;\n  invalidRaw = false;\n  invalidFiat = false;\n  fiatPrice = '0';\n  priceSub = null;\n\n  constructor(\n    private util: UtilService,\n    public settings: AppSettingsService,\n    private price: PriceService,\n    public notifications: NotificationService,\n  ) { }\n\n  ngOnInit(): void {\n    BigNumber.config({ DECIMAL_PLACES: 30 });\n    this.Mceviz = '1';\n\n    this.priceSub = this.price.lastPrice$.subscribe(event => {\n      this.fiatPrice = (new BigNumber(this.Mceviz)).times(this.price.price.lastPrice).toString();\n    });\n\n    this.unitChange('mceviz');\n  }\n\n  ngOnDestroy() {\n    if (this.priceSub) {\n      this.priceSub.unsubscribe();\n    }\n  }\n\n  unitChange(unit) {\n    switch (unit) {\n      case 'mceviz':\n        if (this.util.account.isValidCevizAmount(this.Mceviz)) {\n          this.raw = nanocurrency.convert(this.Mceviz, {from: nanocurrency.Unit.NANO, to: nanocurrency.Unit.raw});\n          this.fiatPrice = (new BigNumber(this.Mceviz)).times(this.price.price.lastPrice).toString(10);\n          this.invalidMceviz = false;\n          this.invalidRaw = false;\n          this.invalidFiat = false;\n        } else {\n          this.raw = '';\n          this.fiatPrice = '';\n          this.invalidMceviz = true;\n        }\n        break;\n      case 'raw':\n        if (this.util.account.isValidAmount(this.raw)) {\n          this.Mceviz = nanocurrency.convert(this.raw, {from: nanocurrency.Unit.raw, to: nanocurrency.Unit.NANO});\n          this.fiatPrice = (new BigNumber(this.Mceviz)).times(this.price.price.lastPrice).toString(10);\n          this.invalidRaw = false;\n          this.invalidMceviz = false;\n          this.invalidFiat = false;\n        } else {\n          this.Mceviz = '';\n          this.fiatPrice = '';\n          this.invalidRaw = true;\n        }\n        break;\n      case 'fiat':\n        if (this.util.string.isNumeric(this.fiatPrice)) {\n          this.Mceviz = (new BigNumber(this.fiatPrice)).dividedBy(this.price.price.lastPrice).toString(10);\n          this.raw = nanocurrency.convert(this.Mceviz, {from: nanocurrency.Unit.NANO, to: nanocurrency.Unit.raw});\n          this.invalidRaw = false;\n          this.invalidMceviz = false;\n          this.invalidFiat = false;\n        } else {\n          this.Mceviz = '';\n          this.raw = '';\n          this.invalidFiat = true;\n        }\n        break;\n    }\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <h2 class=\"uk-heading-divider\">Unit Converter</h2>\n\n    <div class=\"uk-card uk-card-default\">\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"mceviz\">CEVZ <span uk-icon=\"icon: info;\" uk-tooltip title=\"The main unit used in Ceviz wallets and exchanges.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                      <div class=\"uk-inline uk-width-1-1\">\n                        <a class=\"uk-form-icon uk-form-icon-flip\" ngxClipboard [cbContent]=\"Mceviz\" (cbOnSuccess)=\"notifications.sendSuccess('Value Copied!')\" uk-icon=\"icon: copy\" title=\"Copy Value\" uk-tooltip></a>\n                        <input [(ngModel)]=\"Mceviz\" class=\"uk-input uk-margin-small-bottom\" [ngClass]=\"{ 'uk-form-danger': invalidMceviz }\" id=\"mceviz\" type=\"text\" (ngModelChange)=\"unitChange('mceviz')\" placeholder=\"\" autocomplete=\"off\">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"raw\">raw <span uk-icon=\"icon: info;\" uk-tooltip title=\"The smallest possible Ceviz unit\"></span></label>\n                <div class=\"uk-form-controls\">\n                <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                    <div class=\"uk-inline uk-width-1-1\">\n                      <a class=\"uk-form-icon uk-form-icon-flip\" ngxClipboard [cbContent]=\"raw\" (cbOnSuccess)=\"notifications.sendSuccess('Value Copied!')\" uk-icon=\"icon: copy\" title=\"Copy Value\" uk-tooltip></a>\n                      <input [(ngModel)]=\"raw\" class=\"uk-input uk-margin-small-bottom\" [ngClass]=\"{ 'uk-form-danger': invalidRaw }\" id=\"raw\" type=\"text\" (ngModelChange)=\"unitChange('raw')\" placeholder=\"\" autocomplete=\"off\">\n                    </div>\n                    </div>\n                </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"fiat\">{{settings.settings.displayCurrency}} <span uk-icon=\"icon: info;\" uk-tooltip title=\"Latest fiat price. The currency can be changed from the app settings.\"></span></label>\n                <div class=\"uk-form-controls\">\n                <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                    <div class=\"uk-inline uk-width-1-1\">\n                      <a class=\"uk-form-icon uk-form-icon-flip\" ngxClipboard [cbContent]=\"fiatPrice\" (cbOnSuccess)=\"notifications.sendSuccess('Value Copied!')\" uk-icon=\"icon: copy\" title=\"Copy Value\" uk-tooltip></a>\n                      <input [(ngModel)]=\"fiatPrice\" class=\"uk-input uk-margin-small-bottom\" [ngClass]=\"{ 'uk-form-danger': invalidFiat }\" id=\"fiat\" type=\"text\" (ngModelChange)=\"unitChange('fiat')\" placeholder=\"\" autocomplete=\"off\">\n                    </div>\n                    </div>\n                </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {UtilService} from '../services/util.service';\nimport {AppSettingsService} from '../services/app-settings.service';\n\n@Pipe({\n  name: 'account'\n})\nexport class AccountPipe implements PipeTransform {\n\n  constructor(private util: UtilService, private settings: AppSettingsService) {\n\n  }\n\n  transform(value: any, args?: any): any {\n    // const val = this.util.account.setPrefix(value, this.settings.settings.displayPrefix);\n\n    return value;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\n\n\ninterface AddressBookEntry {\n  account: string;\n  name: string;\n}\n\n\n@Injectable()\nexport class AddressBookService {\n  storeKey = `nanovault-addressbook`;\n\n  addressBook: AddressBookEntry[] = [];\n\n  addressBook$ = new BehaviorSubject([]);\n\n  constructor() { }\n\n  loadAddressBook() {\n    let addressBook = [];\n    const addressBookStore = localStorage.getItem(this.storeKey);\n    if (addressBookStore) {\n      addressBook = JSON.parse(addressBookStore);\n    }\n    this.addressBook = addressBook;\n    this.addressBook$.next(this.addressBook);\n\n    return this.addressBook;\n  }\n\n  patchXrbPrefixData() {\n    const addressBookStore = localStorage.getItem(this.storeKey);\n    if (!addressBookStore) return;\n\n    const addressBook = JSON.parse(addressBookStore);\n\n    const newAddressBook = addressBook.map(entry => {\n      if (entry.account.indexOf('ceviz_') !== -1) {\n        entry.account = entry.account.replace('ceviz_', 'ceviz_');\n      }\n      return entry;\n    });\n\n    localStorage.setItem(this.storeKey, JSON.stringify(newAddressBook));\n\n    return true;\n  }\n\n  async saveAddress(account, name) {\n    const existingName = this.addressBook.find(a => a.name.toLowerCase() === name.toLowerCase());\n    if (existingName) throw new Error(`Name already exists in the address book`);\n\n    const existingAccount = this.addressBook.find(a => a.account.toLowerCase() === account.toLowerCase());\n    if (existingAccount) {\n      existingAccount.name = name;\n    } else {\n      this.addressBook.push({ account, name });\n    }\n    this.saveAddressBook();\n    this.addressBook$.next(this.addressBook);\n\n  }\n\n  deleteAddress(account) {\n    const existingAccountIndex = this.addressBook.findIndex(a => a.account.toLowerCase() === account.toLowerCase());\n    if (existingAccountIndex === -1) return;\n\n    this.addressBook.splice(existingAccountIndex, 1);\n\n    this.saveAddressBook();\n\n    this.addressBook$.next(this.addressBook);\n  }\n\n  saveAddressBook(): void {\n    localStorage.setItem(this.storeKey, JSON.stringify(this.addressBook));\n  }\n\n  clearAddressBook(): void {\n    this.addressBook = [];\n    this.addressBook$.next(this.addressBook);\n    localStorage.removeItem(this.storeKey);\n  }\n\n  setAddressBookOrder(addressList) {\n    this.addressBook = addressList\n      .map(address => ({\n        account: address,\n        name: this.getAccountName(address)\n      }))\n      .filter(entry => entry.name !== null);\n\n    this.saveAddressBook();\n    this.addressBook$.next(this.addressBook);\n  }\n\n  getAccountName(account: string): string|null {\n    if (!account || !account.length) return null;\n    const match = this.addressBook.find(a => a.account.toLowerCase() === account.toLowerCase());\n    return match && match.name || null;\n  }\n\n  nameExists(name: string): boolean {\n    return this.addressBook.findIndex(a => a.name.toLowerCase() === name.toLowerCase()) !== -1;\n  }\n\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  desktop: false,\n};\n","<h2 class=\"uk-heading-divider\">Configure Wallet</h2>\n<p *ngIf=\"activePanel === panels.create || activePanel === panels.import\">Use the options below to import an existing wallet or create a new one</p>\n\n<div *ngIf=\"isConfigured() && (activePanel === panels.create || activePanel === panels.import)\" class=\"uk-alert uk-alert-danger\">\n  <b>You already have a local Nault wallet configured</b><br>\n  Before going any further, be 100% certain you have backed up the seed to your current wallet!<br>\n  Without it, <b>any funds you have will become completely unrecoverable!</b>\n</div>\n\n<div uk-grid *ngIf=\"activePanel === panels.create || activePanel === panels.import\">\n  <div class=\"uk-width-1-1\">\n    <div class=\"uk-button-group uk-width-1-1\">\n      <button (click)=\"setPanel(0)\" class=\"uk-button uk-width-1-2\" [ngClass]=\"{ 'uk-button-primary': activePanel === panels.create, 'uk-button-secondary': activePanel !== panels.create }\">Create New Wallet</button>\n      <button (click)=\"setPanel(1)\" class=\"uk-button uk-width-1-2\" [ngClass]=\"{ 'uk-button-primary': activePanel === panels.import, 'uk-button-secondary': activePanel !== panels.import }\">Import Existing Wallet</button>\n    </div>\n  </div>\n</div>\n\n<div class=\"uk-card uk-card-default\" *ngIf=\"activePanel === panels.create\">\n  <div class=\"uk-card-body\">\n    <p>\n      When you create a new wallet, a new Ceviz seed will be generated which can be used to create brand new accounts\n      on the Ceviz network.  Your Ceviz seed is the master key to all of your accounts and any money inside of them!\n    </p>\n    <div class=\"uk-alert-primary\" uk-alert>\n      <p>Make sure you back up your seed, write it down, and keep it incredibly safe! All funds inside can be lost without it!</p>\n    </div>\n  </div>\n  <div class=\"uk-card-footer uk-text-right\">\n    <button class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"setPasswordInit()\">Create Wallet</button>\n  </div>\n</div>\n\n<div class=\"uk-card uk-card-default\" *ngIf=\"activePanel === panels.import\">\n  <div class=\"uk-card-body\">\n    <p>\n      If you already have a Ceviz wallet, you can import it below.  When you import a wallet, it replaces the previous one in the GUI but none of your existing\n      accounts are affected since the wallet can be restored simply by importing it again. The seed is not stored anywhere besides in your local client so please make sure you have it stored elsewhere.  Use the drop\n      down below to select which type of import you want to use.\n    </p>\n    <div uk-grid>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-form-horizontal\">\n          <div class=\"uk-margin\">\n            <label class=\"uk-form-label\" for=\"form-horizontal-select\">Select Import Type</label>\n            <div class=\"uk-form-controls\">\n              <select class=\"uk-select\" [(ngModel)]=\"selectedImportOption\" id=\"form-horizontal-select\" (change)=\"onMethodChange(selectedImportOption)\">\n                <option *ngFor=\"let option of importOptions\" [value]=\"option.value\">{{ option.name }}</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <hr class=\"uk-divider-icon\" style=\"margin-top: 10px;\">\n\n    <div uk-grid *ngIf=\"selectedImportOption === 'file'\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          If you have saved your wallet to a file using Nault before, use the button below to import it.\n        </p>\n      </div>\n    </div>\n    <div uk-grid *ngIf=\"selectedImportOption === 'seed'\" class=\"uk-margin-top\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          Enter your seed from any Ceviz wallet to import it below.\n        </p>\n        <div class=\"uk-inline uk-width-1-1\">\n          <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('seed1','hash')\" uk-tooltip title=\"Scan from QR code\"></a>\n          <input type=\"text\" class=\"uk-input\" (keyup.enter)=\"importExistingWallet()\" [(ngModel)]=\"importSeedModel\" placeholder=\"64 character Ceviz Backup Seed\">\n        </div>\n      </div>\n    </div>\n    <div uk-grid *ngIf=\"selectedImportOption === 'mnemonic'\" class=\"uk-margin-top\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          Enter your mnemonic generated from Nault or other Ceviz wallets. If it came from a Ledger device or certain multi-currency wallets, use \"BIP39 Mnemonic\" import type instead.\n        </p>\n        <div class=\"uk-inline uk-width-1-1\">\n          <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('mnemo1','mnemonic')\" uk-tooltip title=\"Scan from QR code\"></a>\n          <textarea class=\"uk-textarea\" rows=\"3\" (keyup.enter)=\"importExistingWallet()\" [(ngModel)]=\"importSeedMnemonicModel\" placeholder=\"24-words mnemonic\"></textarea>\n        </div>\n      </div>\n    </div>\n    <div uk-grid *ngIf=\"selectedImportOption === 'bip39-mnemonic'\" class=\"uk-margin-top\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          Enter your mnemonic generated from a Ledger device or certain multi-currency wallets. If it was generated in Nault, use \"Ceviz Mnemonic\" import type instead.\n        </p>\n        <div class=\"uk-form-horizontal\">\n          <div class=\"uk-margin\">\n            <label class=\"uk-form-label\" for=\"form-horizontal-select\">BIP39 Mnemonic</label>\n            <div class=\"uk-form-controls\">\n              <div class=\"uk-inline uk-width-expand\">\n                <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('mnemo2','mnemonic')\" uk-tooltip title=\"Scan from QR code\"></a>\n                <textarea class=\"uk-textarea\" rows=\"2\" (keyup.enter)=\"importExistingWallet()\" [(ngModel)]=\"importSeedBip39MnemonicModel\" placeholder=\"12,15,18,21 or 24-words mnemonic\" autocomplete=\"off\"></textarea>\n              </div>\n           </div>\n          </div>\n        </div>\n        <div class=\"uk-form-horizontal\">\n          <div class=\"uk-margin\">\n            <label class=\"uk-form-label\" for=\"form-horizontal-select\">Account Index <span uk-icon=\"icon: info;\" uk-tooltip title=\"The wallet will be imported as a single private key for the account index you provide.\"></span></label>\n            <div class=\"uk-form-controls\">\n              <input type=\"text\" class=\"uk-input uk-margin-small-bottom {{validIndex ? '':'uk-form-danger'}}\" (keyup.enter)=\"importExistingWallet()\" [(ngModel)]=\"importSeedBip39MnemonicIndexModel\" (ngModelChange)=\"accountIndexChange(importSeedBip39MnemonicIndexModel)\" maxLength=\"10\" placeholder=\"0 to {{indexMax}}\" autocomplete=\"off\">\n            </div>\n          </div>\n        </div>\n        <div class=\"uk-form-horizontal\">\n          <div class=\"uk-margin\">\n            <label class=\"uk-form-label\" for=\"form-horizontal-select\">BIP39 Passphrase <span uk-icon=\"icon: info;\" uk-tooltip title=\"Required only if the BIP39 seed is protected by a password or passphrase.\"></span></label>\n            <div class=\"uk-form-controls\">\n              <input type=\"password\" class=\"uk-input\" (keyup.enter)=\"importExistingWallet()\" [(ngModel)]=\"importSeedBip39MnemonicPasswordModel\" placeholder=\"Optional\" autocomplete=\"off\">\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div uk-grid *ngIf=\"selectedImportOption === 'ledger'\" class=\"uk-margin-top\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          Make sure you have the Ceviz app installed, then connect your ledger device via USB. <a href=\"https://docs.nault.cc/2020/08/04/ledger-guide.html\" target=\"_blank\" rel=\"noopener noreferrer\">Ledger/Nault User Guide</a><br>\n          <br>\n        </p>\n        <div *ngIf=\"ledger.status === ledgerStatus.NOT_CONNECTED\" class=\"uk-alert uk-alert-warning\">\n          <b>Ledger Device Not Connected</b><br>\n          Connect your ledger device via USB and make sure you have the Ceviz app installed, then press the button below to retry\n        </div>\n        <div *ngIf=\"ledger.status === ledgerStatus.LOCKED\" class=\"uk-alert uk-alert-warning\">\n          <b>Ledger Device Locked</b><br>\n          Unlock your Ledger device, then press the button below to retry\n        </div>\n        <div *ngIf=\"ledger.status === ledgerStatus.READY\" class=\"uk-alert uk-alert-success\">\n          <b>Ledger Device Ready</b><br>\n          Press the import button below to use your ledger wallet\n        </div>\n      </div>\n    </div>\n    <div uk-grid *ngIf=\"selectedImportOption === 'privateKey'\" class=\"uk-margin-top\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          Enter your Ceviz private key below. These are not to be confused with Ceviz seeds, which are more common, and produce many private keys.\n        </p>\n        <div class=\"uk-inline uk-width-1-1\">\n          <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('priv1','hash')\" uk-tooltip title=\"Scan from QR code\"></a>\n          <input type=\"text\" class=\"uk-input\" (keyup.enter)=\"importSingleKeyWallet()\" [(ngModel)]=\"importPrivateKeyModel\" placeholder=\"64 character Ceviz Private Key\">\n        </div>\n      </div>\n    </div>\n    <div uk-grid *ngIf=\"selectedImportOption === 'expandedKey'\" class=\"uk-margin-top\">\n      <div class=\"uk-width-1-1\">\n        <p>\n          Enter your expanded private key below. These are rare, and are usually generated from multi-party cryptography magic.\n        </p>\n        <div class=\"uk-inline uk-width-1-1\">\n          <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('expanded1','hash')\" uk-tooltip title=\"Scan from QR code\"></a>\n          <input type=\"text\" class=\"uk-input\" (keyup.enter)=\"importSingleKeyWallet()\" [(ngModel)]=\"importExpandedKeyModel\" placeholder=\"64 or 128 character Ceviz Expanded Private Key\">\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"uk-card-footer uk-text-right\">\n    <div *ngIf=\"selectedImportOption === 'file'\" class=\"js-upload uk-width-auto@s uk-width-1-1\" uk-form-custom style=\"display: inline-block;\">\n      <input type=\"file\" id=\"import-from-file\" (change)=\"importFromFile($event.target.files)\" multiple>\n      <button class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" type=\"button\" tabindex=\"-1\">Import From File</button>\n    </div>\n    <button *ngIf=\"selectedImportOption === 'mnemonic'\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"setPasswordInit()\">Import From Mnemonic</button>\n    <button *ngIf=\"selectedImportOption === 'bip39-mnemonic'\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" [disabled]=\"!validIndex\" (click)=\"setPasswordInit()\">Import From Mnemonic</button>\n    <button *ngIf=\"selectedImportOption === 'seed'\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"setPasswordInit()\">Import From Seed</button>\n    <button *ngIf=\"selectedImportOption === 'ledger' && ledger.status === ledgerStatus.READY\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"importLedgerWallet()\">Import From Ledger</button>\n    <button *ngIf=\"selectedImportOption === 'ledger' && ledger.status !== ledgerStatus.READY\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"importLedgerWallet(true)\">Refresh Ledger Status</button>\n    <button *ngIf=\"selectedImportOption === 'privateKey'\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"setPasswordInit()\">Import From Private Key</button>\n    <button *ngIf=\"selectedImportOption === 'expandedKey'\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" (click)=\"setPasswordInit()\">Import From Expanded Private Key</button>\n  </div>\n</div>\n\n\n\n<div class=\"uk-card uk-card-default\" *ngIf=\"activePanel === panels.backup\">\n  <div class=\"uk-card-header\">\n    <h3 class=\"uk-card-title\">Save Wallet Backup</h3>\n  </div>\n  <div class=\"uk-card-body\">\n    <p>\n      Below is the seed and mnemonic backup. You can use whichever you prefer in any other compatible wallet.\n    </p>\n    <div class=\"uk-alert-danger uk-alert-primary\">\n      Make sure to write down your seed and/or mnemonic or save it somewhere safe, and <strong>never share it with anyone!</strong><br>\n      It is the master key to all of your accounts, and the only way to recover your funds in an emergency.<br>\n    </div>\n    <br>\n\n    <div uk-grid>\n      <div class=\"uk-width-1-4\">Ceviz Seed</div>\n      <div class=\"uk-width-3-4 uk-text-truncate\">\n        {{ newWalletSeed }}<br>\n        <a title=\"Copy Seed To Clipboard\" ngxClipboard [cbContent]=\"newWalletSeed\" (cbOnSuccess)=\"copied()\" uk-tooltip>Copy seed to clipboard</a>\n      </div>\n    </div>\n\n    <hr class=\"uk-divider-icon\">\n\n    <div uk-grid>\n      <div class=\"uk-width-1-4@m\">\n        Ceviz Mnemonic<br>\n      </div>\n      <div class=\"uk-width-3-4@m\">\n        <pre class=\"mne-box\"><span *ngFor=\"let line of newWalletMnemonicLines; let l = index\" class=\"mne-cont\"><span *ngFor=\"let word of line; let i = index\" class=\"mne-word\"><span class=\"mne-num\">{{ (l * 4) + i + 1 }}</span> {{ word }}</span></span></pre>\n        <a title=\"Copy Mnemonic To Clipboard\" ngxClipboard [cbContent]=\"newWalletMnemonic\" (cbOnSuccess)=\"copied()\" uk-tooltip>Copy mnemonic to clipboard</a>\n      </div>\n    </div>\n  </div>\n  <div class=\"uk-card-footer\">\n    <div class=\"uk-width-1-1\">\n      <label style=\"cursor: pointer;\"><input type=\"checkbox\" class=\"uk-checkbox\" [(ngModel)]=\"hasConfirmedBackup\"> &nbsp; I have securely stored the seed and/or mnemonic</label>\n    </div>\n    <button class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" id=\"create-wallet\" [disabled]=\"!hasConfirmedBackup\" (click)=\"confirmNewSeed()\">CREATE WALLET</button>\n  </div>\n</div>\n\n<div class=\"uk-card uk-card-default\" *ngIf=\"activePanel === panels.password\">\n  <div class=\"uk-card-header\">\n    <h3 class=\"uk-card-title\">Set Wallet Password</h3>\n  </div>\n  <div class=\"uk-card-body\">\n    <p>\n      Your password is used to encrypt the sensitive parts of\n      your wallet when it is locked, which disables sending, receiving, creating accounts, and other operations.\n    </p>\n\n    <p>\n      For the safety of your funds, use a secure (green) password.\n    </p>\n    <div uk-grid>\n      <div class=\"uk-width-1-2@m\">\n        <input type=\"password\" class=\"uk-input\" [(ngModel)]=\"walletPasswordModel\" placeholder=\"New Wallet Password\">\n        <password-strength-meter *ngIf=\"walletPasswordModel.length > 0\" [password]=\"walletPasswordModel\" [enableFeedback]=\"true\" [minPasswordLength]=\"6\"></password-strength-meter>\n        <span class=\"password-helper\" *ngIf=\"walletPasswordModel.length > 0 && walletPasswordModel.length < 6\">Password must be at least 6 characters long</span>\n        <span class=\"password-helper\" *ngIf=\"walletPasswordConfirmModel.length >= 6 && walletPasswordModel !== walletPasswordConfirmModel\">Passwords do not match!</span>\n      </div>\n      <div class=\"uk-width-1-2@m\">\n        <input type=\"password\" class=\"uk-input\" (keyup.enter)=\"saveWalletPassword()\" [(ngModel)]=\"walletPasswordConfirmModel\" placeholder=\"Confirm Wallet Password\">\n      </div>\n    </div>\n  </div>\n  <div class=\"uk-card-footer uk-text-right\">\n    <button class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" [disabled]=\"walletPasswordModel.length < 6 || (walletPasswordModel !== walletPasswordConfirmModel)\" (click)=\"saveWalletPassword()\">{{isNewWallet ? 'Next':'Import Wallet'}}</button>\n  </div>\n</div>\n\n<div class=\"uk-card uk-card-default\" *ngIf=\"activePanel === panels.final\">\n  <div class=\"uk-card-header\">\n    <h3 class=\"uk-card-title\">Wallet Created!</h3>\n  </div>\n  <div class=\"uk-card-body\">\n    <p>\n      Your wallet has been created and you are ready to send and receive Ceviz!<br>\n      It will lock after a certain amount of inactivity which can be changed in the <a routerLink=\"/configure-app\" routerLinkActive=\"active\">app settings</a>.\n    </p>\n  </div>\n  <div class=\"uk-card-footer uk-text-right\">\n    <button routerLink=\"/accounts\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\">View Accounts</button>\n  </div>\n</div>\n\n<div *ngIf=\"activePanel === panels.final && !walletService.isLedgerWallet()\" class=\"uk-alert-primary\" uk-alert>\n  <p><strong>ProTip:</strong> If you lose your password, you can always restore your wallet using your seed or mnemonic you were given.</p>\n</div>\n<div *ngIf=\"activePanel === panels.final && walletService.isLedgerWallet()\" class=\"uk-alert-primary\" uk-alert>\n  <p><strong>ProTip:</strong> Press the Ledger status bar on the left side to reload your Ledger when connecting or disconnecting it.</p>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {WalletService, NotificationService, RepresentativeService} from '../../services';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport * as bip from 'bip39';\nimport {LedgerService, LedgerStatus} from '../../services/ledger.service';\nimport { QrModalService } from '../../services/qr-modal.service';\nimport {UtilService} from '../../services/util.service';\nimport { wallet } from 'nanocurrency-web';\n\nenum panels {'create', 'import', 'password', 'backup', 'final'}\nconst INDEX_MAX = 4294967295; // seed index\n\n@Component({\n  selector: 'app-configure-wallet',\n  templateUrl: './configure-wallet.component.html',\n  styleUrls: ['./configure-wallet.component.css']\n})\nexport class ConfigureWalletComponent implements OnInit {\n  panels = panels;\n  activePanel = panels.create;\n  wallet = this.walletService.wallet;\n  isConfigured = this.walletService.isConfigured;\n  isNewWallet = true;\n  hasConfirmedBackup = false;\n  importSeed = '';\n  isExpanded = false;\n  keyString = '';\n\n  newWalletSeed = '';\n  newWalletMnemonic = '';\n  newWalletMnemonicLines = [];\n  newPassword = '';\n  importSeedModel = '';\n  importPrivateKeyModel = '';\n  importExpandedKeyModel = '';\n  importSeedMnemonicModel = '';\n  importSeedBip39MnemonicModel = '';\n  importSeedBip39MnemonicIndexModel = '0';\n  importSeedBip39MnemonicPasswordModel = '';\n  walletPasswordModel = '';\n  walletPasswordConfirmModel = '';\n  validIndex = true;\n  indexMax = INDEX_MAX;\n\n  selectedImportOption = 'seed';\n  importOptions = [\n    { name: 'Ceviz Seed', value: 'seed' },\n    { name: 'Ceviz Mnemonic Phrase', value: 'mnemonic' },\n    { name: 'BIP39 Mnemonic Phrase', value: 'bip39-mnemonic' },\n    { name: 'Nault Wallet File', value: 'file' },\n    { name: 'Ledger Ceviz S / Ceviz X', value: 'ledger' },\n    { name: 'Private Key', value: 'privateKey' },\n    { name: 'Expanded Private Key', value: 'expandedKey' },\n  ];\n\n  ledgerStatus = LedgerStatus;\n  ledger = this.ledgerService.ledger;\n\n  constructor(\n    private router: ActivatedRoute,\n    public walletService: WalletService,\n    private notifications: NotificationService,\n    private route: Router,\n    private qrModalService: QrModalService,\n    private ledgerService: LedgerService,\n    private util: UtilService) {\n    if (this.route.getCurrentNavigation().extras.state && this.route.getCurrentNavigation().extras.state.seed) {\n      this.activePanel = panels.import;\n      this.importSeedModel = this.route.getCurrentNavigation().extras.state.seed;\n      this.isNewWallet = false;\n    } else if (this.route.getCurrentNavigation().extras.state && this.route.getCurrentNavigation().extras.state.key) {\n      this.activePanel = panels.import;\n      this.importPrivateKeyModel = this.route.getCurrentNavigation().extras.state.key;\n      this.selectedImportOption = 'privateKey';\n      this.isNewWallet = false;\n    }\n  }\n\n  async ngOnInit() {\n    const toggleImport = this.router.snapshot.queryParams.import;\n    if (toggleImport) {\n      this.activePanel = panels.import;\n      this.isNewWallet = false;\n    }\n  }\n\n  onMethodChange(method) {\n    if (method === 'ledger') {\n      this.importLedgerWallet(true);\n    }\n  }\n\n  async importExistingWallet() {\n    this.notifications.sendInfo(`Starting to scan the first 10 accounts and importing them if they have been used...`, {length: 7000});\n    this.route.navigate(['accounts']); // load accounts and watch them update in real-time\n    await this.walletService.createWalletFromSeed(this.importSeed);\n    this.importSeed = '';\n    this.storePassword();\n\n    this.notifications.sendSuccess(`Successfully imported wallet!`, {length: 10000});\n\n    // this.repService.detectChangeableReps(); // this is now called from change-rep-widget.component when new wallet\n    this.walletService.informNewWallet();\n  }\n\n  async importSingleKeyWallet() {\n    this.walletService.createWalletFromSingleKey(this.keyString, this.isExpanded);\n    this.storePassword();\n    this.route.navigate(['accounts']); // load accounts and watch them update in real-time\n    this.keyString = '';\n\n    this.notifications.sendSuccess(`Successfully imported wallet from a private key!`);\n    this.walletService.informNewWallet();\n  }\n\n  async importLedgerWallet(refreshOnly = false) {\n    // Determine status of ledger device using ledger service\n    this.notifications.sendInfo(`Checking for Ledger device...`, { identifier: 'ledger-status', length: 0 });\n    await this.ledgerService.loadLedger(true);\n    this.notifications.removeNotification('ledger-status');\n\n    if (this.ledger.status === LedgerStatus.NOT_CONNECTED) {\n      return this.notifications.sendWarning(`No ledger device detected, make sure it is connected and you are using Chrome/Opera`);\n    }\n\n    if (this.ledger.status === LedgerStatus.LOCKED) {\n      return this.notifications.sendWarning(`Unlock your ledger device and open the Ceviz app to continue`);\n    }\n\n    if (refreshOnly) {\n      return;\n    }\n\n    // If a wallet exists already, make sure they know they are overwriting it\n    const confirmed = await this.confirmWalletOverwrite();\n    if (!confirmed) {\n      return;\n    }\n\n    // We skip the password panel\n    this.route.navigate(['accounts']); // load accounts and watch them update in real-time\n\n    // If they are using Chrome, warn them.\n    if (this.ledgerService.isBrokenBrowser()) {\n      this.notifications.sendLedgerChromeWarning();\n    }\n\n    // Create new ledger wallet\n    const newWallet = await this.walletService.createLedgerWallet();\n    this.notifications.sendSuccess(`Successfully loaded ledger device!`);\n\n    this.walletService.informNewWallet();\n  }\n\n  // Send a confirmation dialog to the user if they already have a wallet configured\n  async confirmWalletOverwrite() {\n    if (!this.isConfigured()) return true;\n\n    const UIkit = window['UIkit'];\n    try {\n      await UIkit.modal.confirm('<p style=\"text-align: center;\"><span style=\"font-size: 18px;\">You are about to create a new wallet<br>which will <b>reset the local Nault wallet you already have</b></span><br><br><b style=\"font-size: 18px;\">Be sure you have saved your current Ceviz seed and/or mnemonic before continuing</b><br><br>Without a backup - <b>ALL FUNDS WILL BE UNRECOVERABLE</b><br/><br/></p>');\n      return true;\n    } catch (err) {\n      this.notifications.sendInfo(`You can use the 'Manage Wallet' page to back up your Ceviz seed and/or mnemonic`);\n      return false;\n    }\n  }\n\n  async setPasswordInit() {\n    // if importing from existing, the format check must be done prior the password page\n    if (!this.isNewWallet) {\n      if (this.selectedImportOption === 'mnemonic' || this.selectedImportOption === 'seed') {\n        if (this.selectedImportOption === 'seed') {\n          const existingSeed = this.importSeedModel.trim();\n          if (existingSeed.length !== 64) return this.notifications.sendError(`Seed is invalid, double check it!`);\n          this.importSeed = existingSeed;\n        } else if (this.selectedImportOption === 'mnemonic') {\n          // Clean the value by trimming it and removing newlines\n          const mnemonic = this.importSeedMnemonicModel.toLowerCase().trim().replace(/\\n/g, ``);\n\n          const words = mnemonic.split(' ');\n          if (words.length < 20) return this.notifications.sendError(`Mnemonic is too short, double check it!`);\n\n          // Try and decode the mnemonic\n          try {\n            const newSeed = bip.mnemonicToEntropy(mnemonic);\n            if (!newSeed || newSeed.length !== 64) return this.notifications.sendError(`Mnemonic is invalid, double check it!`);\n            this.importSeed = newSeed.toUpperCase(); // Force uppercase, for consistency\n          } catch (err) {\n            return this.notifications.sendError(`Unable to decode mnemonic, double check it!`);\n          }\n        } else {\n          return this.notifications.sendError(`Invalid import option`);\n        }\n      } else if (this.selectedImportOption === 'privateKey' || this.selectedImportOption === 'expandedKey') {\n        if (this.selectedImportOption === 'privateKey') {\n          this.isExpanded = false;\n        } else if (this.selectedImportOption === 'expandedKey') {\n          this.isExpanded = true;\n        } else {\n          return this.notifications.sendError(`Invalid import option`);\n        }\n\n        this.keyString = this.isExpanded ? this.importExpandedKeyModel : this.importPrivateKeyModel;\n        this.keyString = this.keyString.trim();\n        if (this.isExpanded && this.keyString.length === 128) {\n          // includes deterministic R value material which we ignore\n          this.keyString = this.keyString.substring(0, 64);\n        } else if (this.keyString.length !== 64) {\n          return this.notifications.sendError(`Private key is invalid, double check it!`);\n        }\n      } else if (this.selectedImportOption === 'bip39-mnemonic') {\n        // If bip39, import wallet as a single private key\n        if (!bip.validateMnemonic(this.importSeedBip39MnemonicModel)) {\n          return this.notifications.sendError(`Mnemonic is invalid, double check it!`);\n        }\n        if (!this.validIndex) {\n          return this.notifications.sendError(`The account index is invalid, double check it!`);\n        }\n\n        // convert mnemonic to bip39 seed\n        const bip39Seed = this.importSeedBip39MnemonicPasswordModel !== '' ?\n        bip.mnemonicToSeedSync(this.importSeedBip39MnemonicModel, this.importSeedBip39MnemonicPasswordModel).toString('hex') :\n        bip.mnemonicToSeedSync(this.importSeedBip39MnemonicModel).toString('hex');\n\n        // derive private key from bip39 seed using the account index provided\n        const accounts = wallet.accounts(bip39Seed, Number(this.importSeedBip39MnemonicIndexModel),\n        Number(this.importSeedBip39MnemonicIndexModel));\n        this.keyString = accounts[0].privateKey;\n        this.isExpanded = false;\n      }\n    }\n\n    // If a wallet already exists, confirm that the seed is saved\n    const confirmed = await this.confirmWalletOverwrite();\n    if (!confirmed) return;\n    this.activePanel = panels.password;\n  }\n\n  async createNewWallet() {\n    const seedBytes = this.util.account.generateSeedBytes();\n    this.newWalletSeed = this.util.hex.fromUint8(seedBytes);\n    this.newWalletMnemonic = bip.entropyToMnemonic(this.newWalletSeed);\n\n    // Split the seed up so we can show 4 per line\n    const words = this.newWalletMnemonic.split(' ');\n    const lines = [\n      words.slice(0, 4),\n      words.slice(4, 8),\n      words.slice(8, 12),\n      words.slice(12, 16),\n      words.slice(16, 20),\n      words.slice(20, 24),\n    ];\n    this.newWalletMnemonicLines = lines;\n\n    this.activePanel = panels.backup;\n  }\n\n  confirmNewSeed() {\n    if (!this.hasConfirmedBackup) {\n      return this.notifications.sendWarning(`Please confirm you have saved a wallet backup!`);\n    }\n    this.walletService.createNewWallet(this.newWalletSeed);\n    this.storePassword();\n    this.newWalletSeed = '';\n    this.newWalletMnemonicLines = [];\n    this.saveNewWallet();\n\n    this.activePanel = panels.final;\n  }\n\n  saveWalletPassword() {\n    if (this.walletPasswordConfirmModel !== this.walletPasswordModel) {\n      return this.notifications.sendError(`Password confirmation does not match, try again!`);\n    }\n    if (this.walletPasswordModel.length < 6) {\n      return this.notifications.sendWarning(`Password length must be at least 6`);\n    }\n    this.newPassword = this.walletPasswordModel;\n    this.walletPasswordModel = '';\n    this.walletPasswordConfirmModel = '';\n\n    if (this.isNewWallet) {\n      this.createNewWallet();\n    } else if (this.selectedImportOption === 'mnemonic' || this.selectedImportOption === 'seed') {\n      this.importExistingWallet();\n    } else if (this.selectedImportOption === 'privateKey' || this.selectedImportOption === 'expandedKey'\n    || this.selectedImportOption === 'bip39-mnemonic') {\n      this.importSingleKeyWallet();\n    }\n  }\n\n  storePassword() {\n    this.walletService.wallet.password = this.newPassword;\n    this.newPassword = '';\n  }\n\n  saveNewWallet() {\n    this.walletService.saveWalletExport();\n    this.walletService.informNewWallet();\n\n    this.notifications.sendSuccess(`Successfully created new wallet! Do not lose the seed/mnemonic!`);\n  }\n\n  setPanel(panel) {\n    this.activePanel = panel;\n    if (panel === panels.create) {\n      this.isNewWallet = true;\n    } else if (panel === panels.import) {\n      this.isNewWallet = false;\n    }\n  }\n\n  copied() {\n    this.notifications.sendSuccess(`Wallet seed copied to clipboard!`);\n  }\n\n  importFromFile(files) {\n    if (!files.length) return;\n\n    const file = files[0];\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      const fileData = event.target['result'] as string;\n      try {\n        const importData = JSON.parse(fileData);\n        if (!importData.seed || (!importData.hasOwnProperty('accountsIndex') && !importData.hasOwnProperty('indexes'))) {\n          return this.notifications.sendError(`Bad import data `);\n        }\n\n        const walletEncrypted = btoa(JSON.stringify(importData));\n        this.route.navigate(['import-wallet'], { fragment: walletEncrypted });\n      } catch (err) {\n        this.notifications.sendError(`Unable to parse import data, make sure you selected the right file!`);\n      }\n    };\n\n    reader.readAsText(file);\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'seed1':\n          this.importSeedModel = data.content;\n          break;\n        case 'mnemo1':\n          this.importSeedMnemonicModel = data.content;\n          break;\n        case 'mnemo2':\n          this.importSeedBip39MnemonicModel = data.content;\n          break;\n        case 'priv1':\n          this.importPrivateKeyModel = data.content;\n          break;\n        case 'expanded1':\n          this.importExpandedKeyModel = data.content;\n          break;\n      }\n    }, () => {}\n    );\n  }\n\n  accountIndexChange(index) {\n    let invalid = false;\n    if (this.util.string.isNumeric(index) && index % 1 === 0) {\n      index = parseInt(index, 10);\n      if (!this.util.ceviz.isValidIndex(index)) {\n        invalid = true;\n      }\n      if (index > INDEX_MAX) {\n        invalid = true;\n      }\n    } else {\n      invalid = true;\n    }\n    this.validIndex = !invalid;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { QrModalComponent, QRType } from '../components/qr-modal/qr-modal.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QrModalService {\n\n  constructor(\n    private modalService: NgbModal) { }\n\n  /** Will return a promise that will only resolve if the type matches the QR string read and is valid\n   *\n   * @param reference Unique reference ID for example a text input\n   * @param type String type to match in QR\n   */\n  openQR(reference: string, type: QRType) {\n    const response = this.getDeferredPromise();\n    const modalRef = this.modalService.open(QrModalComponent, {windowClass: 'scanner-modal'});\n    modalRef.componentInstance.reference = reference;\n    modalRef.componentInstance.type = type;\n    modalRef.result.then((data) => {\n      response.resolve(data);\n    }, () => {\n      response.reject();\n    });\n    return response.promise;\n  }\n\n  // Helper for returning a deferred promise that we can resolve when QR is ready\n  private getDeferredPromise() {\n    const defer = {\n      promise: null,\n      resolve: null,\n      reject: null,\n    };\n\n    defer.promise = new Promise((resolve, reject) => {\n      defer.resolve = resolve;\n      defer.reject = reject;\n    });\n\n    return defer;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {UtilService} from './util.service';\nimport {ApiService} from './api.service';\nimport {BigNumber} from 'bignumber.js';\nimport {AddressBookService} from './address-book.service';\nimport * as CryptoJS from 'crypto-js';\nimport {WorkPoolService} from './work-pool.service';\nimport {WebsocketService} from './websocket.service';\nimport {CevizBlockService} from './nano-block.service';\nimport {NotificationService} from './notification.service';\nimport {AppSettingsService} from './app-settings.service';\nimport {PriceService} from './price.service';\nimport {LedgerService} from './ledger.service';\n\nexport type WalletType = 'seed' | 'ledger' | 'privateKey' | 'expandedKey';\n\nexport interface WalletAccount {\n  id: string;\n  frontier: string|null;\n  secret: any;\n  keyPair: any;\n  index: number;\n  balance: BigNumber;\n  pending: BigNumber;\n  pendingBelowThreshold: BigNumber[];\n  pendingOriginal: BigNumber;\n  balanceRaw: BigNumber;\n  pendingRaw: BigNumber;\n  balanceFiat: number;\n  pendingFiat: number;\n  addressBookName: string|null;\n}\n\nexport interface Block {\n  account: string;\n  hash: string;\n  amount: string;\n  source: string;\n}\n\nexport interface FullWallet {\n  type: WalletType;\n  seedBytes: any;\n  seed: string|null;\n  balance: BigNumber;\n  pending: BigNumber;\n  balanceRaw: BigNumber;\n  pendingRaw: BigNumber;\n  balanceFiat: number;\n  pendingFiat: number;\n  hasPending: boolean;\n  accounts: WalletAccount[];\n  selectedAccountId: string|null;\n  selectedAccount: WalletAccount|null;\n  selectedAccount$: BehaviorSubject<WalletAccount|null>;\n  locked: boolean;\n  password: string;\n  pendingBlocks: Block[];\n  pendingBelowThreshold: BigNumber[];\n  newWallet$: BehaviorSubject<boolean|false>;\n}\n\nexport interface BaseApiAccount {\n  account_version: string;\n  balance: string;\n  block_count: string;\n  frontier: string;\n  modified_timestamp: string;\n  open_block: string;\n  pending: string;\n  representative: string;\n  representative_block: string;\n  weight: string;\n}\n\nexport interface WalletApiAccount extends BaseApiAccount {\n  addressBookName?: string|null;\n  id?: string;\n}\n\n@Injectable()\nexport class WalletService {\n  ceviz = 100;\n  storeKey = `nanovault-wallet`;\n\n  wallet: FullWallet = {\n    type: 'seed',\n    seedBytes: null,\n    seed: '',\n    balance: new BigNumber(0),\n    pending: new BigNumber(0),\n    balanceRaw: new BigNumber(0),\n    pendingRaw: new BigNumber(0),\n    balanceFiat: 0,\n    pendingFiat: 0,\n    hasPending: false,\n    accounts: [],\n    selectedAccountId: null,\n    selectedAccount: null,\n    selectedAccount$: new BehaviorSubject(null),\n    locked: false,\n    password: '',\n    pendingBlocks: [],\n    pendingBelowThreshold: [new BigNumber(0)],\n    newWallet$: new BehaviorSubject(false),\n  };\n\n  processingPending = false;\n  successfulBlocks = [];\n  reloadingBalance = false;\n\n  constructor(\n    private util: UtilService,\n    private api: ApiService,\n    private appSettings: AppSettingsService,\n    private addressBook: AddressBookService,\n    private price: PriceService,\n    private workPool: WorkPoolService,\n    private websocket: WebsocketService,\n    private cevizBlock: CevizBlockService,\n    private ledgerService: LedgerService,\n    private notifications: NotificationService) {\n    this.websocket.newTransactions$.subscribe(async (transaction) => {\n      if (!transaction) return; // Not really a new transaction\n      console.log('New Transaction', transaction);\n      let shouldNotify = false;\n\n      // Find out if this is a send, with our account as a destination or not\n      const walletAccountIDs = this.wallet.accounts.map(a => a.id);\n      // If we have a minimum receive,  once we know the account... add the amount to wallet pending? set pending to true\n\n      if (transaction.block.type === 'state' && transaction.block.subtype === 'send'\n      && walletAccountIDs.indexOf(transaction.block.link_as_account) !== -1) {\n        if (this.appSettings.settings.minimumReceive) {\n          const minAmount = this.util.ceviz.mcevizToRaw(this.appSettings.settings.minimumReceive);\n          if ((new BigNumber(transaction.amount)).gte(minAmount)) {\n            shouldNotify = true;\n          }\n        } else {\n          shouldNotify = true;\n        }\n        if (shouldNotify) {\n          if (this.wallet.locked && this.appSettings.settings.pendingOption !== 'manual') {\n            this.notifications.sendWarning(`New incoming transaction - Unlock the wallet to receive`, { length: 10000, identifier: 'pending-locked' });\n          } else if (this.appSettings.settings.pendingOption === 'manual') {\n            this.notifications.sendWarning(`New incoming transaction - Set to be received manually`, { length: 10000, identifier: 'pending-locked' });\n          }\n        } else {\n          console.log(\n            `Found new pending block that was below minimum receive amount: `,\n            transaction.amount,\n            this.appSettings.settings.minimumReceive\n          );\n        }\n        await this.processStateBlock(transaction);\n      } else if (transaction.block.type === 'state') {\n        shouldNotify = true;\n        await this.processStateBlock(transaction);\n      }\n\n      // TODO: We don't really need to call to update balances, we should be able to balance on our own from here\n      // I'm not sure about that because what happens if the websocket is disconnected and misses a transaction?\n      // won't the balance be incorrect if relying only on the websocket? / Json\n      if (shouldNotify) {\n        await this.reloadBalances(false);\n      }\n    });\n\n    this.addressBook.addressBook$.subscribe(newAddressBook => {\n      this.reloadAddressBook();\n    });\n  }\n\n  async processStateBlock(transaction) {\n    // If we have a minimum receive,  once we know the account... add the amount to wallet pending? set pending to true\n    if (transaction.block.subtype === 'send' && transaction.block.link_as_account) {\n      // This is an incoming send block, we want to perform a receive\n      const walletAccount = this.wallet.accounts.find(a => a.id === transaction.block.link_as_account);\n      if (!walletAccount) return; // Not for our wallet?\n\n      // Check for a min receive\n      const txAmount = new BigNumber(transaction.amount);\n\n      if (this.appSettings.settings.minimumReceive) {\n        const minAmount = this.util.ceviz.mcevizToRaw(this.appSettings.settings.minimumReceive);\n\n        if (txAmount.gte(minAmount)) {\n          this.wallet.pending = this.wallet.pending.plus(txAmount);\n          this.wallet.pendingRaw = this.wallet.pendingRaw.plus(txAmount.mod(this.ceviz));\n          this.wallet.pendingFiat += this.util.ceviz.rawToMceviz(txAmount).times(this.price.price.lastPrice).toNumber();\n          this.wallet.hasPending = true;\n          this.addPendingBlock(walletAccount.id, transaction.hash, txAmount, transaction.account);\n        } else {\n          // The resons for using push and shift is to keep the reference when used in another component\n          this.wallet.pendingBelowThreshold.push(this.wallet.pendingBelowThreshold[0].plus(txAmount));\n          this.wallet.pendingBelowThreshold.shift();\n          walletAccount.pendingBelowThreshold.push(walletAccount.pendingBelowThreshold[0].plus(txAmount));\n          walletAccount.pendingBelowThreshold.shift();\n        }\n      } else {\n        this.wallet.pending = this.wallet.pending.plus(txAmount);\n        this.wallet.pendingRaw = this.wallet.pendingRaw.plus(txAmount.mod(this.ceviz));\n        this.wallet.pendingFiat += this.util.ceviz.rawToMceviz(txAmount).times(this.price.price.lastPrice).toNumber();\n        this.wallet.hasPending = true;\n        this.addPendingBlock(walletAccount.id, transaction.hash, txAmount, transaction.account);\n      }\n\n      await this.processPendingBlocks();\n    } else {\n      // Not a send to us, which means it was a block posted by us.  We shouldnt need to do anything...\n      const walletAccount = this.wallet.accounts.find(a => a.id === transaction.block.link_as_account);\n      if (!walletAccount) return; // Not for our wallet?\n    }\n  }\n\n  reloadAddressBook() {\n    this.wallet.accounts.forEach(account => {\n      account.addressBookName = this.addressBook.getAccountName(account.id);\n    });\n  }\n\n  getWalletAccount(accountID) {\n    return this.wallet.accounts.find(a => a.id === accountID);\n  }\n\n\n  async patchOldSavedData() {\n    // Look for saved accounts using an ceviz_ prefix\n    const walletData = localStorage.getItem(this.storeKey);\n    if (!walletData) return;\n\n    const walletJson = JSON.parse(walletData);\n\n    if (walletJson.accounts) {\n      const newAccounts = walletJson.accounts.map(account => {\n        if (account.id.indexOf('ceviz_') !== -1) {\n          account.id = account.id.replace('ceviz_', 'ceviz_');\n        }\n        return account;\n      });\n\n      walletJson.accounts = newAccounts;\n    }\n\n    localStorage.setItem(this.storeKey, JSON.stringify(walletJson));\n\n    return;\n  }\n\n  async loadStoredWallet() {\n    this.resetWallet();\n\n    const walletData = localStorage.getItem(this.storeKey);\n    if (!walletData) return this.wallet;\n\n    const walletJson = JSON.parse(walletData);\n    const walletType = walletJson.type || 'seed';\n    this.wallet.type = walletType;\n    if (walletType === 'seed' || walletType === 'privateKey' || walletType === 'expandedKey') {\n      this.wallet.seed = walletJson.seed;\n      this.wallet.seedBytes = this.util.hex.toUint8(walletJson.seed);\n      this.wallet.locked = true;\n    }\n    if (walletType === 'ledger') {\n      // Check ledger status?\n    }\n\n    if (walletJson.accounts && walletJson.accounts.length) {\n      walletJson.accounts.forEach(account => this.loadWalletAccount(account.index, account.id));\n    }\n\n    this.wallet.selectedAccountId = walletJson.selectedAccountId || null;\n\n    if (walletType === 'ledger') {\n      this.ledgerService.loadLedger(true);\n    }\n\n    return this.wallet;\n  }\n\n  // Using full list of indexes is the latest standard with back compatability with accountsIndex\n  async loadImportedWallet(seed: string, password: string, accountsIndex: number, indexes: Array<number>) {\n    this.resetWallet();\n\n    this.wallet.seed = seed;\n    this.wallet.seedBytes = this.util.hex.toUint8(seed);\n    this.wallet.password = password;\n\n    // Old method\n    if (accountsIndex > 0) {\n      for (let i = 0; i < accountsIndex; i++) {\n        await this.addWalletAccount(i, false);\n      }\n    } else if (indexes) {\n      // New method (the promise ensures all wallets have been added before moving on)\n      await Promise.all(indexes.map(async (i) => {\n        await this.addWalletAccount(i, false);\n      }));\n    } else return false;\n\n    await this.reloadBalances(true);\n\n    if (this.wallet.accounts.length) {\n      this.websocket.subscribeAccounts(this.wallet.accounts.map(a => a.id));\n    }\n\n    return true;\n  }\n\n  generateExportData() {\n    const exportData: any = {\n      indexes: this.wallet.accounts.map(a => a.index),\n    };\n    if (this.wallet.locked) {\n      exportData.seed = this.wallet.seed;\n    } else {\n      exportData.seed = CryptoJS.AES.encrypt(this.wallet.seed, this.wallet.password).toString();\n    }\n\n    return exportData;\n  }\n\n  generateExportUrl() {\n    const exportData = this.generateExportData();\n    const base64Data = btoa(JSON.stringify(exportData));\n\n    return `https://nault.cc/import-wallet#${base64Data}`;\n  }\n\n  lockWallet() {\n    if (!this.wallet.seed || !this.wallet.password) return; // Nothing to lock, password not set\n    const encryptedSeed = CryptoJS.AES.encrypt(this.wallet.seed, this.wallet.password);\n\n    // Update the seed\n    this.wallet.seed = encryptedSeed.toString();\n    this.wallet.seedBytes = null;\n\n    // Remove secrets from accounts\n    this.wallet.accounts.forEach(a => {\n      a.keyPair = null;\n      a.secret = null;\n    });\n\n    this.wallet.locked = true;\n    this.wallet.password = '';\n\n    this.saveWalletExport(); // Save so that a refresh gives you a locked wallet\n\n    return true;\n  }\n  unlockWallet(password: string) {\n    try {\n      const decryptedBytes = CryptoJS.AES.decrypt(this.wallet.seed, password);\n      const decryptedSeed = decryptedBytes.toString(CryptoJS.enc.Utf8);\n      if (!decryptedSeed || decryptedSeed.length !== 64) return false;\n\n      this.wallet.seed = decryptedSeed;\n      this.wallet.seedBytes = this.util.hex.toUint8(this.wallet.seed);\n      this.wallet.accounts.forEach(a => {\n        if (this.wallet.type === 'seed') {\n          a.secret = this.util.account.generateAccountSecretKeyBytes(this.wallet.seedBytes, a.index);\n        } else {\n          a.secret = this.wallet.seedBytes;\n        }\n        a.keyPair = this.util.account.generateAccountKeyPair(a.secret, this.wallet.type === 'expandedKey');\n      });\n\n      this.wallet.locked = false;\n      this.wallet.password = password;\n\n      this.notifications.removeNotification('pending-locked'); // If there is a notification to unlock, remove it\n\n      // Process any pending blocks\n      this.processPendingBlocks();\n\n      this.saveWalletExport(); // Save so a refresh also gives you your unlocked wallet?\n\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  walletIsLocked() {\n    return this.wallet.locked;\n  }\n\n  async createWalletFromSeed(seed: string) {\n    this.resetWallet();\n\n    this.wallet.seed = seed;\n    this.wallet.seedBytes = this.util.hex.toUint8(seed);\n\n    await this.scanAccounts();\n  }\n\n  async scanAccounts(emptyAccountBuffer: number = 10) {\n    let emptyTicker = 0;\n    const usedIndices = [];\n    let greatestUsedIndex = 0;\n    const batchSize = emptyAccountBuffer + 1;\n\n    // Getting accounts...\n    for (let batch = 0; emptyTicker < emptyAccountBuffer; batch++) {\n      const batchAccounts = {};\n      const batchAccountsArray = [];\n      for (let i = 0; i < batchSize; i++) {\n        const index = batch * batchSize + i;\n\n        let accountAddress = '';\n        let accountPublicKey = '';\n\n        if (this.wallet.type === 'seed') {\n          const accountBytes = this.util.account.generateAccountSecretKeyBytes(this.wallet.seedBytes, index);\n          const accountKeyPair = this.util.account.generateAccountKeyPair(accountBytes);\n          accountPublicKey = this.util.uint8.toHex(accountKeyPair.publicKey).toUpperCase();\n          accountAddress = this.util.account.getPublicAccountID(accountKeyPair.publicKey);\n\n        } else if (this.wallet.type === 'ledger') {\n          const account: any = await this.ledgerService.getLedgerAccount(index);\n          accountAddress = account.address.replace('ceviz_', 'ceviz_');\n          accountPublicKey = account.publicKey.toUpperCase();\n\n        } else {\n          return false;\n        }\n\n        batchAccounts[accountAddress] = {\n          index: index,\n          publicKey: accountPublicKey,\n          used: false\n        };\n        batchAccountsArray.push(accountAddress);\n      }\n\n      // Checking frontiers...\n      const batchResponse = await this.api.accountsFrontiers(batchAccountsArray);\n      if (batchResponse) {\n        for (const accountID in batchResponse.frontiers) {\n          if (batchResponse.frontiers.hasOwnProperty(accountID)) {\n            const frontier = batchResponse.frontiers[accountID];\n            console.log(accountID, frontier, batchAccounts[accountID].publicKey);\n            if (frontier !== batchAccounts[accountID].publicKey) {\n              batchAccounts[accountID].used = true;\n            }\n          }\n        }\n      }\n\n      // Check index usage\n      for (const accountID in batchAccounts) {\n        if (batchAccounts.hasOwnProperty(accountID)) {\n          const account = batchAccounts[accountID];\n          if (account.used) {\n            usedIndices.push(account.index);\n            if (account.index > greatestUsedIndex) {\n              greatestUsedIndex = account.index;\n              emptyTicker = 0;\n            }\n          } else {\n            if (account.index > greatestUsedIndex) {\n              emptyTicker ++;\n            }\n          }\n        }\n      }\n    }\n\n    // Add accounts\n    if (usedIndices.length > 0) {\n      for (const index of usedIndices) {\n        await this.addWalletAccount(index);\n      }\n    } else {\n      await this.addWalletAccount();\n    }\n\n    // Reload balances for all accounts\n    this.reloadBalances();\n  }\n\n  createNewWallet(seed: string) {\n    this.resetWallet();\n\n    this.wallet.seedBytes = this.util.hex.toUint8(seed);\n    this.wallet.seed = seed;\n\n    this.addWalletAccount();\n\n    return this.wallet.seed;\n  }\n\n  async createLedgerWallet() {\n    this.resetWallet();\n\n    this.wallet.type = 'ledger';\n\n    await this.scanAccounts();\n\n    return this.wallet;\n  }\n\n  createWalletFromSingleKey(key: string, expanded: boolean) {\n    this.resetWallet();\n\n    this.wallet.type = expanded ? 'expandedKey' : 'privateKey';\n    this.wallet.seed = key;\n    this.wallet.seedBytes = this.util.hex.toUint8(key);\n\n    this.wallet.accounts.push(this.createSingleKeyAccount(expanded));\n    this.saveWalletExport();\n  }\n\n  async createLedgerAccount(index) {\n    const account: any = await this.ledgerService.getLedgerAccount(index);\n\n    const accountID = account.address;\n    const nanoAccountID = accountID.replace('ceviz_', 'ceviz_');\n    const addressBookName = this.addressBook.getAccountName(nanoAccountID);\n\n    const newAccount: WalletAccount = {\n      id: nanoAccountID,\n      frontier: null,\n      secret: null,\n      keyPair: null,\n      balance: new BigNumber(0),\n      pending: new BigNumber(0),\n      pendingBelowThreshold: [new BigNumber(0)],\n      pendingOriginal: new BigNumber(0),\n      balanceRaw: new BigNumber(0),\n      pendingRaw: new BigNumber(0),\n      balanceFiat: 0,\n      pendingFiat: 0,\n      index: index,\n      addressBookName,\n    };\n\n    return newAccount;\n  }\n\n  createKeyedAccount(index, accountBytes, accountKeyPair) {\n    const accountName = this.util.account.getPublicAccountID(accountKeyPair.publicKey);\n    const addressBookName = this.addressBook.getAccountName(accountName);\n\n    const newAccount: WalletAccount = {\n      id: accountName,\n      frontier: null,\n      secret: accountBytes,\n      keyPair: accountKeyPair,\n      balance: new BigNumber(0),\n      pending: new BigNumber(0),\n      pendingBelowThreshold: [new BigNumber(0)],\n      pendingOriginal: new BigNumber(0),\n      balanceRaw: new BigNumber(0),\n      pendingRaw: new BigNumber(0),\n      balanceFiat: 0,\n      pendingFiat: 0,\n      index: index,\n      addressBookName,\n    };\n\n    return newAccount;\n  }\n\n  async createSeedAccount(index) {\n    const accountBytes = this.util.account.generateAccountSecretKeyBytes(this.wallet.seedBytes, index);\n    const accountKeyPair = this.util.account.generateAccountKeyPair(accountBytes);\n    return this.createKeyedAccount(index, accountBytes, accountKeyPair);\n  }\n\n  createSingleKeyAccount(expanded: boolean) {\n    const accountBytes = this.wallet.seedBytes;\n    const accountKeyPair = this.util.account.generateAccountKeyPair(accountBytes, expanded);\n    return this.createKeyedAccount(0, accountBytes, accountKeyPair);\n  }\n\n  /**\n   * Reset wallet to a base state, without changing reference to the main object\n   */\n  resetWallet() {\n    if (this.wallet.accounts.length) {\n      this.websocket.unsubscribeAccounts(this.wallet.accounts.map(a => a.id)); // Unsubscribe from old accounts\n    }\n    this.wallet.type = 'seed';\n    this.wallet.password = '';\n    this.wallet.locked = false;\n    this.wallet.seed = '';\n    this.wallet.seedBytes = null;\n    this.wallet.accounts = [];\n    this.wallet.balance = new BigNumber(0);\n    this.wallet.pending = new BigNumber(0);\n    this.wallet.balanceRaw = new BigNumber(0);\n    this.wallet.pendingRaw = new BigNumber(0);\n    this.wallet.balanceFiat = 0;\n    this.wallet.pendingFiat = 0;\n    this.wallet.hasPending = false;\n    this.wallet.selectedAccountId = null;\n    this.wallet.selectedAccount = null;\n    this.wallet.selectedAccount$.next(null);\n    this.wallet.pendingBelowThreshold = [new BigNumber(0)];\n    this.wallet.pendingBlocks = [];\n  }\n\n  isConfigured() {\n    switch (this.wallet.type) {\n      case 'privateKey':\n      case 'expandedKey':\n      case 'seed': return !!this.wallet.seed;\n      case 'ledger': return true;\n    }\n  }\n\n  isLocked() {\n    switch (this.wallet.type) {\n      case 'privateKey':\n      case 'expandedKey':\n      case 'seed': return this.wallet.locked;\n      case 'ledger': return false;\n    }\n  }\n\n  isLedgerWallet() {\n    return this.wallet.type === 'ledger';\n  }\n\n  isSingleKeyWallet() {\n    return (this.wallet.type === 'privateKey' || this.wallet.type === 'expandedKey');\n  }\n\n  hasPendingTransactions() {\n    return this.wallet.hasPending;\n    // if (this.appSettings.settings.minimumReceive) {\n    //   return this.wallet.hasPending;\n    // } else {\n    //   return this.wallet.pendingRaw.gt(0);\n    // }\n  }\n\n  reloadFiatBalances() {\n    const fiatPrice = this.price.price.lastPrice;\n\n    this.wallet.accounts.forEach(account => {\n      account.balanceFiat = this.util.ceviz.rawToMceviz(account.balance).times(fiatPrice).toNumber();\n      account.pendingFiat = this.util.ceviz.rawToMceviz(account.pending).times(fiatPrice).toNumber();\n    });\n\n    this.wallet.balanceFiat = this.util.ceviz.rawToMceviz(this.wallet.balance).times(fiatPrice).toNumber();\n    this.wallet.pendingFiat = this.util.ceviz.rawToMceviz(this.wallet.pending).times(fiatPrice).toNumber();\n  }\n\n  async reloadBalances(reloadPending = true) {\n    // to block two reloads to happen at the same time (websocket)\n    if (this.reloadingBalance) return;\n\n    this.reloadingBalance = true;\n    const fiatPrice = this.price.price.lastPrice;\n    this.wallet.balance = new BigNumber(0);\n    this.wallet.pending = new BigNumber(0);\n    this.wallet.balanceRaw = new BigNumber(0);\n    this.wallet.pendingRaw = new BigNumber(0);\n    this.wallet.balanceFiat = 0;\n    this.wallet.pendingFiat = 0;\n    this.wallet.hasPending = false;\n\n    const accountIDs = this.wallet.accounts.map(a => a.id);\n    const accounts = await this.api.accountsBalances(accountIDs);\n    const frontiers = await this.api.accountsFrontiers(accountIDs);\n    // const allFrontiers = [];\n    // for (const account in frontiers.frontiers) {\n    //   allFrontiers.push({ account, frontier: frontiers.frontiers[account] });\n    // }\n    // const frontierBlocks = await this.api.blocksInfo(allFrontiers.map(f => f.frontier));\n\n    let walletBalance = new BigNumber(0);\n    let walletPending = new BigNumber(0);\n    let walletPendingReal = new BigNumber(0);\n\n    if (!accounts) {\n      this.reloadingBalance = false;\n      return;\n    }\n    for (const accountID in accounts.balances) {\n      if (!accounts.balances.hasOwnProperty(accountID)) continue;\n      // Find the account, update it\n      // const prefixedAccount = this.util.account.setPrefix(accountID, this.appSettings.settings.displayPrefix);\n      const walletAccount = this.wallet.accounts.find(a => a.id === accountID);\n      // console.log(`Finding account by id: ${accountID} - prefixed: ${accountID} - resulting account: `, walletAccount);\n      if (!walletAccount) continue;\n      walletAccount.balance = new BigNumber(accounts.balances[accountID].balance);\n      walletAccount.pendingOriginal = new BigNumber(accounts.balances[accountID].pending);\n\n      walletAccount.balanceRaw = new BigNumber(walletAccount.balance).mod(this.ceviz);\n\n      walletAccount.balanceFiat = this.util.ceviz.rawToMceviz(walletAccount.balance).times(fiatPrice).toNumber();\n\n      walletAccount.frontier = frontiers.frontiers[accountID] || null;\n      walletAccount.pendingBelowThreshold = [new BigNumber(0)];\n\n      walletBalance = walletBalance.plus(walletAccount.balance);\n      walletPending = walletPending.plus(walletAccount.pendingOriginal);\n    }\n\n    let hasPending = false;\n\n    // Check if there is a pending balance at all\n    if (walletPending.gt(0)) {\n      // If we have a minimum receive amount, check accounts for actual receivable transactions\n      if (this.appSettings.settings.minimumReceive) {\n        const minAmount = this.util.ceviz.mcevizToRaw(this.appSettings.settings.minimumReceive);\n        const pending = await this.api.accountsPendingLimit(this.wallet.accounts.map(a => a.id), minAmount.toString(10));\n\n        if (pending && pending.blocks) {\n          for (const block in pending.blocks) {\n            if (!pending.blocks.hasOwnProperty(block)) {\n              continue;\n            }\n            const walletAccount = this.wallet.accounts.find(a => a.id === block);\n            if (pending.blocks[block]) {\n              hasPending = true;\n              let accountPending = new BigNumber(0);\n              for (const hash in pending.blocks[block]) {\n                if (!pending.blocks[block].hasOwnProperty(hash)) {\n                  continue;\n                }\n                walletPendingReal = walletPendingReal.plus(pending.blocks[block][hash].amount);\n                accountPending = accountPending.plus(pending.blocks[block][hash].amount);\n              }\n              // Update the actual account pending amount with this above-threshold-value\n              walletAccount.pendingBelowThreshold.push(walletAccount.pendingOriginal.minus(accountPending));\n              walletAccount.pendingBelowThreshold.shift();\n              walletAccount.pending = accountPending;\n              walletAccount.pendingRaw = accountPending.mod(this.ceviz);\n              walletAccount.pendingFiat = this.util.ceviz.rawToMceviz(accountPending).times(fiatPrice).toNumber();\n            } else {\n              walletAccount.pendingBelowThreshold.push(walletAccount.pendingOriginal);\n              walletAccount.pendingBelowThreshold.shift();\n              walletAccount.pending = new BigNumber(0);\n              walletAccount.pendingRaw = new BigNumber(0);\n              walletAccount.pendingFiat = 0;\n            }\n          }\n        }\n      } else {\n        hasPending = true; // No minimum receive, but pending balance, set true\n        walletPendingReal = walletPending;\n\n        // update the individual pending here to avoid setting it twice (GUI flickering)\n        this.updateAccountPending(accounts);\n      }\n    } else {\n      // update pending also when they are zero\n      this.updateAccountPending(accounts);\n    }\n\n    // Make sure any frontiers are in the work pool\n    // If they have no frontier, we want to use their pub key?\n    const hashes = this.wallet.accounts.map(account => account.frontier || this.util.account.getAccountPublicKey(account.id));\n    hashes.forEach(hash => this.workPool.addWorkToCache(hash));\n\n    this.wallet.balance = walletBalance;\n    this.wallet.pending = walletPendingReal;\n\n    this.wallet.balanceRaw = new BigNumber(walletBalance).mod(this.ceviz);\n    this.wallet.pendingRaw = new BigNumber(walletPendingReal).mod(this.ceviz);\n\n    this.wallet.balanceFiat = this.util.ceviz.rawToMceviz(walletBalance).times(fiatPrice).toNumber();\n    this.wallet.pendingFiat = this.util.ceviz.rawToMceviz(walletPendingReal).times(fiatPrice).toNumber();\n\n    // Save pending that will be ignored, to be displayed to the user\n    // The resons for using push and shift is to keep the reference when used in another component\n    this.wallet.pendingBelowThreshold.push(walletPending.minus(walletPendingReal));\n    this.wallet.pendingBelowThreshold.shift();\n\n    // tslint:disable-next-line\n    this.wallet.hasPending = hasPending;\n\n    if (reloadPending) {\n      this.clearPendingBlocks();\n    }\n\n    // If there is a pending balance, search for the actual pending transactions\n    if (reloadPending && walletPending.gt(0)) {\n      await this.loadPendingBlocksForWallet();\n    }\n    this.reloadingBalance = false;\n  }\n\n  updateAccountPending(accounts) {\n    for (const accountID in accounts.balances) {\n      if (!accounts.balances.hasOwnProperty(accountID)) continue;\n      const walletAccount = this.wallet.accounts.find(a => a.id === accountID);\n      if (!walletAccount) continue;\n      walletAccount.pending = new BigNumber(accounts.balances[accountID].pending);\n      walletAccount.pendingRaw = new BigNumber(walletAccount.pending).mod(this.ceviz);\n      walletAccount.pendingFiat = this.util.ceviz.rawToMceviz(walletAccount.pending).times(this.price.price.lastPrice).toNumber();\n    }\n  }\n\n  async loadWalletAccount(accountIndex, accountID) {\n    const index = accountIndex;\n    const addressBookName = this.addressBook.getAccountName(accountID);\n\n    const newAccount: WalletAccount = {\n      id: accountID,\n      frontier: null,\n      secret: null,\n      keyPair: null,\n      balance: new BigNumber(0),\n      pending: new BigNumber(0),\n      pendingBelowThreshold: [new BigNumber(0)],\n      pendingOriginal: new BigNumber(0),\n      balanceRaw: new BigNumber(0),\n      pendingRaw: new BigNumber(0),\n      balanceFiat: 0,\n      pendingFiat: 0,\n      index: index,\n      addressBookName,\n    };\n\n    this.wallet.accounts.push(newAccount);\n    this.websocket.subscribeAccounts([accountID]);\n\n    return newAccount;\n  }\n\n  async addWalletAccount(accountIndex: number|null = null, reloadBalances: boolean = true) {\n    // if (!this.wallet.seedBytes) return;\n    let index = accountIndex;\n    if (index === null) {\n      index = 0; // Use the existing number, then increment it\n\n      // Make sure the index is not being used (ie. if you delete acct 3/5, then press add twice, it goes 3, 6, 7)\n      while (this.wallet.accounts.find(a => a.index === index)) index++;\n    }\n\n    let newAccount: WalletAccount|null;\n\n    if (this.isSingleKeyWallet()) {\n      throw new Error(`Wallet consists of a single private key.`);\n    } else if (this.wallet.type === 'seed') {\n      newAccount = await this.createSeedAccount(index);\n    } else if (this.isLedgerWallet()) {\n      try {\n        newAccount = await this.createLedgerAccount(index);\n      } catch (err) {\n        // this.notifications.sendWarning(`Unable to load account from ledger.  Make sure it is connected`);\n        throw err;\n      }\n\n    }\n\n    this.wallet.accounts.push(newAccount);\n\n    if (reloadBalances) await this.reloadBalances();\n\n    this.websocket.subscribeAccounts([newAccount.id]);\n\n    this.saveWalletExport();\n\n    return newAccount;\n  }\n\n  async removeWalletAccount(accountID: string) {\n    const walletAccount = this.getWalletAccount(accountID);\n    if (!walletAccount) throw new Error(`Account is not in wallet`);\n\n    const walletAccountIndex = this.wallet.accounts.findIndex(a => a.id === accountID);\n    if (walletAccountIndex === -1) throw new Error(`Account is not in wallet`);\n\n    this.wallet.accounts.splice(walletAccountIndex, 1);\n\n    this.websocket.unsubscribeAccounts([accountID]);\n\n    // Reload the balances, save new wallet state\n    await this.reloadBalances();\n    this.saveWalletExport();\n\n    return true;\n  }\n\n  addPendingBlock(accountID, blockHash, amount, source) {\n    if (this.successfulBlocks.indexOf(blockHash) !== -1) return; // Already successful with this block\n    const existingHash = this.wallet.pendingBlocks.find(b => b.hash === blockHash);\n    if (existingHash) return; // Already added\n\n    this.wallet.pendingBlocks.push({ account: accountID, hash: blockHash, amount: amount, source: source });\n    this.wallet.hasPending = true;\n  }\n\n  // Remove a pending account from the pending list\n  async removePendingBlock(blockHash) {\n    const index = this.wallet.pendingBlocks.findIndex(b => b.hash === blockHash);\n    this.wallet.pendingBlocks.splice(index, 1);\n  }\n\n  // Clear the list of pending blocks\n  async clearPendingBlocks() {\n    this.wallet.pendingBlocks.splice(0, this.wallet.pendingBlocks.length);\n  }\n\n  async loadPendingBlocksForWallet() {\n    if (!this.wallet.accounts.length) return;\n\n    // Check minimum receive\n    let pending;\n    if (this.appSettings.settings.minimumReceive) {\n      const minAmount = this.util.ceviz.mcevizToRaw(this.appSettings.settings.minimumReceive);\n      pending = await this.api.accountsPendingLimit(this.wallet.accounts.map(a => a.id), minAmount.toString(10));\n    } else {\n      pending = await this.api.accountsPending(this.wallet.accounts.map(a => a.id));\n    }\n    if (!pending || !pending.blocks) return;\n\n    for (const account in pending.blocks) {\n      if (!pending.blocks.hasOwnProperty(account)) continue;\n      for (const block in pending.blocks[account]) {\n        if (!pending.blocks[account].hasOwnProperty(block)) continue;\n        if (pending.blocks[account] === '') continue; // Accounts show up as nothing with threshold there...\n\n        this.addPendingBlock(account, block, pending.blocks[account][block].amount, pending.blocks[account][block].source);\n      }\n    }\n\n    if (this.wallet.pendingBlocks.length) {\n      this.processPendingBlocks();\n    }\n  }\n\n  sortByAmount(a, b) {\n    const x = new BigNumber(a.amount);\n    const y = new BigNumber(b.amount);\n    return y.comparedTo(x);\n  }\n\n  async processPendingBlocks() {\n    if (this.processingPending || this.wallet.locked || !this.wallet.pendingBlocks.length || this.appSettings.settings.pendingOption === 'manual') return;\n\n    // Sort pending by amount\n    if (this.appSettings.settings.pendingOption === 'amount') {\n      this.wallet.pendingBlocks.sort(this.sortByAmount);\n    }\n\n    this.processingPending = true;\n\n    const nextBlock = this.wallet.pendingBlocks[0];\n    if (this.successfulBlocks.find(b => b.hash === nextBlock.hash)) {\n      return setTimeout(() => this.processPendingBlocks(), 1500); // Block has already been processed\n    }\n    const walletAccount = this.getWalletAccount(nextBlock.account);\n    if (!walletAccount) return; // Dispose of the block, no matching account\n\n    const newHash = await this.cevizBlock.generateReceive(walletAccount, nextBlock.hash, this.isLedgerWallet());\n    if (newHash) {\n      if (this.successfulBlocks.length >= 15) this.successfulBlocks.shift();\n      this.successfulBlocks.push(nextBlock.hash);\n\n      const receiveAmount = this.util.ceviz.rawToMceviz(nextBlock.amount);\n      this.notifications.sendSuccess(`Successfully received ${receiveAmount.isZero() ? '' : receiveAmount.toFixed(6)} Ceviz!`);\n\n      await this.reloadBalances();\n    } else {\n      if (this.isLedgerWallet()) {\n        return null; // Denied to receive, stop processing\n      }\n      return this.notifications.sendError(`There was a problem performing the receive transaction, try manually!`);\n    }\n\n    // shifting no longer needed because reloadBalances will make sure wallet.pendingBlocks is up to date\n    // keep it for now in case we remove reloadBalances above but I think it's good precaution /Json\n    // this.wallet.pendingBlocks.shift(); // Remove it after processing, to prevent attempting to receive duplicated messages\n    this.processingPending = false;\n\n    setTimeout(() => this.processPendingBlocks(), 1500);\n  }\n\n  saveWalletExport() {\n    const exportData = this.generateWalletExport();\n\n    switch (this.appSettings.settings.walletStore) {\n      case 'none':\n        this.removeWalletData();\n        break;\n      default:\n      case 'localStorage':\n        localStorage.setItem(this.storeKey, JSON.stringify(exportData));\n        break;\n    }\n  }\n\n  removeWalletData() {\n    localStorage.removeItem(this.storeKey);\n  }\n\n  generateWalletExport() {\n    const data: any = {\n      type: this.wallet.type,\n      accounts: this.wallet.accounts.map(a => ({ id: a.id, index: a.index })),\n      selectedAccountId: this.wallet.selectedAccount ? this.wallet.selectedAccount.id : null,\n    };\n\n    if (this.wallet.type === 'ledger') {\n    } else {\n      // Forcefully encrypt the seed so an unlocked wallet is never saved\n      if (!this.wallet.locked) {\n        const encryptedSeed = CryptoJS.AES.encrypt(this.wallet.seed, this.wallet.password || '');\n        data.seed = encryptedSeed.toString();\n      } else {\n        data.seed = this.wallet.seed;\n      }\n      data.locked = true;\n    }\n\n    return data;\n  }\n\n  // Run an accountInfo call for each account in the wallet to get their representatives\n  async getAccountsDetails(): Promise<WalletApiAccount[]> {\n    return await Promise.all(\n      this.wallet.accounts.map(account =>\n        this.api.accountInfo(account.id)\n          .then(res => {\n            try {\n              res.id = account.id;\n              res.addressBookName = account.addressBookName;\n            } catch {return null; }\n\n            return res;\n          })\n      )\n    );\n  }\n\n  // Subscribable event when a new wallet is created\n  informNewWallet() {\n    this.wallet.newWallet$.next(true);\n    this.wallet.newWallet$.next(false);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport {AppSettingsService} from './app-settings.service';\n\n@Injectable()\nexport class WebsocketService {\n\n  queuedCommands = [];\n\n  keepaliveTimeout = 60 * 1000;\n  reconnectTimeout = 5 * 1000;\n\n  keepaliveSet = false;\n\n  socket = {\n    connected: false,\n    ws: null,\n  };\n\n  subscribedAccounts = [];\n\n  newTransactions$ = new BehaviorSubject(null);\n\n  constructor(private appSettings: AppSettingsService) { }\n\n  forceReconnect() {\n    console.log('Reconnecting Websocket...');\n    if (this.socket.connected && this.socket.ws) {\n      // Override the onclose event so it doesnt try to reconnect the old instance\n      this.socket.ws.onclose = event => {\n      };\n      this.socket.ws.close();\n      delete this.socket.ws;\n      this.socket.connected = false;\n    }\n\n    setTimeout(() => this.connect(), 250);\n  }\n\n  connect() {\n    if (this.socket.connected && this.socket.ws) {\n      // Already connected\n      return;\n    }\n    if (!this.appSettings.settings.serverWS) {\n      console.log('No Websocket server available.');\n      return;\n    }\n    delete this.socket.ws; // Maybe this will erase old connections\n\n    const wsUrl = this.appSettings.settings.serverWS;\n    const ws = new WebSocket(wsUrl);\n    this.socket.ws = ws;\n\n    ws.onopen = event => {\n      this.socket.connected = true;\n      this.queuedCommands.forEach(queueevent => ws.send(JSON.stringify(queueevent)));\n\n      // Resubscribe to accounts?\n      if (this.subscribedAccounts.length) {\n        this.subscribeAccounts(this.subscribedAccounts);\n      }\n\n      if (!this.keepaliveSet) {\n        this.keepalive(); // Start keepalives!\n      }\n    };\n    ws.onerror = event => {\n      // this.socket.connected = false;\n      console.log(`Socket error`, event);\n    };\n    ws.onclose = event => {\n      this.socket.connected = false;\n      console.log(`Socket close`, event);\n\n      // Start attempting to recconect\n      setTimeout(() => this.attemptReconnect(), this.reconnectTimeout);\n    };\n    ws.onmessage = event => {\n      try {\n        const newEvent = JSON.parse(event.data);\n        console.log('WS', newEvent);\n\n        if (newEvent.topic === 'confirmation' && newEvent.message.block.subtype === 'send') {\n          this.newTransactions$.next(newEvent.message);\n        }\n      } catch (err) {\n        console.log(`Error parsing message`, err);\n      }\n    };\n  }\n\n  attemptReconnect() {\n    this.connect();\n    if (this.reconnectTimeout < 30 * 1000) {\n      this.reconnectTimeout += 5 * 1000; // Slowly increase the timeout up to 30 seconds\n    }\n  }\n\n  keepalive() {\n    this.keepaliveSet = true;\n    if (this.socket.connected) {\n      this.socket.ws.send(JSON.stringify({ action: 'ping' }));\n    }\n\n    setTimeout(() => {\n      this.keepalive();\n    }, this.keepaliveTimeout);\n  }\n\n\n\n  subscribeAccounts(accountIDs: string[]) {\n    const event = {\n      action: 'subscribe',\n      topic: 'confirmation',\n      options: {\n        accounts: accountIDs\n      }\n    };\n\n    accountIDs.forEach(account => {\n      if (this.subscribedAccounts.indexOf(account) === -1) {\n        this.subscribedAccounts.push(account); // Keep a unique list of subscriptions for reconnecting\n      }\n    });\n    if (!this.socket.connected) {\n      this.queuedCommands.push(event);\n      if (this.queuedCommands.length >= 3) {\n        this.queuedCommands.shift(); // Prune queued commands\n      }\n      return;\n    }\n    this.socket.ws.send(JSON.stringify(event));\n  }\n\n  unsubscribeAccounts(accountIDs: string[]) {\n    const event = {\n      action: 'unsubscribe',\n      topic: 'confirmation',\n      options: {\n        accounts: accountIDs\n      }\n    };\n\n    accountIDs.forEach(account => {\n      const existingIndex = this.subscribedAccounts.indexOf(account);\n      if (existingIndex !== -1) {\n        this.subscribedAccounts.splice(existingIndex, 1); // Remove from our internal subscription list\n      }\n    });\n    // If we aren't connected, we don't need to do anything.  On reconnect, it won't subscribe.\n    if (this.socket.connected) {\n      this.socket.ws.send(JSON.stringify(event));\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {HttpHeaders} from '@angular/common/http';\nimport {NodeService} from './node.service';\nimport {AppSettingsService} from './app-settings.service';\nimport { TxType } from './util.service';\n\n@Injectable()\nexport class ApiService {\n  constructor(private http: HttpClient, private node: NodeService, private appSettings: AppSettingsService) { }\n\n  private async request(action, data, skipError= false): Promise<any> {\n    data.action = action;\n    const apiUrl = this.appSettings.settings.serverAPI;\n    if (!apiUrl) {\n      this.node.setOffline(null); // offline mode\n      return;\n    }\n    if (this.node.node.status === false) {\n      if (!skipError) {\n        this.node.setLoading();\n      }\n    }\n    let header;\n    if (this.appSettings.settings.serverAuth != null && this.appSettings.settings.serverAuth !== '') {\n      header = {\n        headers: new HttpHeaders()\n          .set('Authorization',  this.appSettings.settings.serverAuth)\n      };\n    }\n    return await this.http.post(apiUrl, data, header).toPromise()\n      .then(res => {\n        this.node.setOnline();\n        return res;\n      })\n      .catch(err => {\n        if (skipError) return;\n        if (err.status === 500 || err.status === 0) {\n          this.node.setOffline(); // Hard error, node is offline\n          throw err;\n        } else if (err.status === 429) {\n          if (this.appSettings.settings.serverName === 'random') {\n            console.log('Too many requests, new backend...');\n            this.appSettings.loadServerSettings();\n            return this.request(action, data);\n          } else {\n            this.node.setOffline('Too Many Requests to the node. Try again later or choose a different node.');\n          }\n        }\n      });\n  }\n\n  async accountsBalances(accounts: string[]): Promise<{balances: any }> {\n    return await this.request('accounts_balances', { accounts });\n  }\n  async accountsFrontiers(accounts: string[]): Promise<{frontiers: any }> {\n    return await this.request('accounts_frontiers', { accounts });\n  }\n  async accountsPending(accounts: string[], count: number = 50): Promise<{blocks: any }> {\n    return await this.request('accounts_pending', { accounts, count, source: true, include_only_confirmed: true });\n  }\n  async accountsPendingLimit(accounts: string[], threshold: string, count: number = 50): Promise<{blocks: any }> {\n    return await this.request('accounts_pending', { accounts, count, threshold, source: true, include_only_confirmed: true });\n  }\n  async delegatorsCount(account: string): Promise<{ count: string }> {\n    return await this.request('delegators_count', { account });\n  }\n  async representativesOnline(): Promise<{ representatives: any }> {\n    return await this.request('representatives_online', { });\n  }\n\n  async blocksInfo(blocks): Promise<{blocks: any, error?: string}> {\n    return await this.request('blocks_info', { hashes: blocks, pending: true, source: true });\n  }\n  async blockInfo(hash): Promise<any> {\n    return await this.request('block_info', { hash: hash });\n  }\n  async blockCount(): Promise<{count: number, unchecked: number, cemented: number }> {\n    return await this.request('block_count', { include_cemented: 'true'});\n  }\n  async workGenerate(hash): Promise<{ work: string }> {\n    return await this.request('work_generate', { hash });\n  }\n  async process(block, subtype: TxType): Promise<{ hash: string, error?: string }> {\n    return await this.request('process', { block: JSON.stringify(block), watch_work: 'false', subtype: TxType[subtype] });\n  }\n  async accountHistory(account, count = 25, raw = false): Promise<{history: any }> {\n    return await this.request('account_history', { account, count, raw });\n  }\n  async accountInfo(account): Promise<any> {\n    return await this.request('account_info', { account, pending: true, representative: true, weight: true });\n  }\n  async pending(account, count): Promise<any> {\n    return await this.request('pending', { account, count, source: true, include_only_confirmed: true });\n  }\n  async pendingLimit(account, count, threshold): Promise<any> {\n    return await this.request('pending', { account, count, threshold, source: true, include_only_confirmed: true });\n  }\n  async pendingSorted(account, count): Promise<any> {\n    return await this.request('pending', { account, count, source: true, include_only_confirmed: true, sorting: true });\n  }\n  async pendingLimitSorted(account, count, threshold): Promise<any> {\n    return await this.request('pending', { account, count, threshold, source: true, include_only_confirmed: true, sorting: true });\n  }\n  async version(): Promise<{rpc_version: number, store_version: number, protocol_version: number, node_vendor: string, network: string,\n    network_identifier: string, build_info: string }> {\n    return await this.request('version', { }, true);\n  }\n  async confirmationQuorum(): Promise<{quorum_delta: string, online_weight_quorum_percent: number, online_weight_minimum: string,\n    online_stake_total: string, peers_stake_total: string, peers_stake_required: string }> {\n    return await this.request('confirmation_quorum', { }, true);\n  }\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2 class=\"uk-heading-divider\">Transaction Details</h2>\n\n    <div class=\"uk-alert uk-alert-primary\" *ngIf=\"!transaction\">\n      Unable to load the transaction, double check that the hash is correct and try again!\n    </div>\n\n    <div class=\"uk-width-1-1\" *ngIf=\"transaction\">\n      <div class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\" *ngIf=\"blockType !== 'change'\">\n        <span style=\"display: block; padding-top: 8px;\">\n          <span *ngIf=\"blockType == 'send'\">Send</span>\n          <span *ngIf=\"blockType == 'open'\">Receive</span>\n          <span *ngIf=\"blockType == 'receive'\">Receive</span>\n        </span>\n        <span style=\"display:block; font-size: 32px;\">{{ transaction?.amount | ceviz: settings.settings.displayDenomination }}</span>\n        <span *ngIf=\"amountRaw.gt(0)\" style=\"display:block; font-size: 12px;\">+{{ amountRaw.toString(10) }} raw</span>\n      </div>\n      <div class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\" *ngIf=\"blockType == 'change'\">\n        <span style=\"display:block; font-size: 32px;\">Change Representative</span>\n      </div>\n      <br>\n      <div uk-grid>\n        <div class=\"uk-width-1-2@s\">\n          <div class=\"uk-card uk-card-default\">\n\n            <div class=\"uk-text-truncate\" style=\"padding: 20px 20px;\">\n\n              <span class=\"confirm-title\">\n                <a [routerLink]=\"'/account/' + fromAccountID\" class=\"uk-link-reset\" uk-tooltip title=\"View Account Details\">\n                  <span class=\"uk-label\" *ngIf=\"fromAddressBook\">{{ fromAddressBook }}</span> {{ fromAccountID }}\n                </a>\n              </span>\n              <span class=\"confirm-subtitle\" *ngIf=\"blockType != 'change'\">From Account</span>\n              <span class=\"confirm-subtitle\" *ngIf=\"blockType == 'change'\">Account</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"uk-width-1-2@s\">\n          <div class=\"uk-card uk-card-default\">\n            <div class=\"uk-text-truncate\" style=\"padding: 20px 20px;\">\n              <span class=\"confirm-title\">\n                <a [routerLink]=\"'/account/' + toAccountID\" class=\"uk-link-reset\" uk-tooltip title=\"View Account Details\">\n                  <span class=\"uk-label\" *ngIf=\"toAddressBook\">{{ toAddressBook }}</span> {{ toAccountID }}\n                </a>\n              </span>\n              <span class=\"confirm-subtitle\" *ngIf=\"blockType != 'change'\">To Account</span>\n              <span class=\"confirm-subtitle\" *ngIf=\"blockType == 'change'\">New Representative</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"transaction\">\n      <div class=\"uk-card-body uk-padding-small uk-form-horizontal\">\n\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\">Block:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            {{ hashID }}\n          </div>\n        </div>\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\">Type:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            {{ transaction?.contents?.type }}\n          </div>\n        </div>\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\">Date:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            <span *ngIf=\"transaction.local_timestamp\">{{ transaction?.local_timestamp * 1000 | date: 'yyyy-MM-dd HH:mm' }}</span>\n            <span *ngIf=\"!transaction.local_timestamp\" class=\"uk-text-muted\">N/A</span>\n          </div>\n        </div>\n        <div class=\"uk-margin\" *ngIf=\"transaction?.contents?.balance\">\n          <label class=\"uk-form-label\">Balance:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            {{ (isStateBlock ? getBalanceFromDec(transaction?.contents?.balance) : getBalanceFromHex(transaction?.contents?.balance)) | ceviz: settings.settings.displayDenomination }}<br>\n            <span class=\"uk-text-small\">{{ transaction?.contents?.balance }}</span>\n          </div>\n        </div>\n        <div class=\"uk-margin\" *ngIf=\"transaction?.contents?.representative\">\n          <label class=\"uk-form-label\">Representative:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            <a [routerLink]=\"'/account/' + transaction?.contents?.representative\" class=\"uk-link-text\" uk-tooltip title=\"View Account Details\">{{ transaction?.contents?.representative }}</a>\n          </div>\n        </div>\n        <div class=\"uk-margin\" *ngIf=\"transaction?.contents?.previous\">\n          <label class=\"uk-form-label\">Previous:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            <a [routerLink]=\"'/transaction/' + transaction?.contents?.previous\" class=\"uk-link-text\" uk-tooltip title=\"View Block Details\">{{ transaction?.contents?.previous }}</a>\n          </div>\n        </div>\n        <div class=\"uk-margin\" *ngIf=\"transaction?.contents?.source\">\n          <label class=\"uk-form-label\">Source:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            <a [routerLink]=\"'/transaction/' + transaction?.contents?.source\" class=\"uk-link-text\" uk-tooltip title=\"View Block Details\">{{ transaction?.contents?.source }}</a>\n          </div>\n        </div>\n        <div class=\"uk-margin\" *ngIf=\"transaction?.contents?.link && blockType == 'receive'\">\n          <label class=\"uk-form-label\">Link (Source):</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            <a [routerLink]=\"'/transaction/' + transaction?.contents?.link\" class=\"uk-link-text\" uk-tooltip title=\"View Block Details\">{{ transaction?.contents?.link }}</a>\n          </div>\n        </div>\n        <div class=\"uk-margin\" *ngIf=\"transaction?.contents?.link_as_account && blockType == 'send'\">\n          <label class=\"uk-form-label\">Link (Destination):</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            <a [routerLink]=\"'/account/' + transaction?.contents?.link_as_account\" class=\"uk-link-text\" uk-tooltip title=\"View Account Details\">{{ transaction?.contents?.link_as_account }}</a>\n          </div>\n        </div>\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\">Work:</label>\n          <div class=\"uk-form-controls uk-text-truncate\">\n            {{ transaction?.contents?.work }}\n          </div>\n        </div>\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\">Signature:</label>\n          <div class=\"uk-form-controls uk-text-small uk-text-truncate\">\n            {{ transaction?.contents?.signature }}\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div uk-grid>\n      <div class=\"uk-width-1-1 uk-text-center\">\n        <a (click)=\"showBlockData = !showBlockData\" class=\"uk-link-text\">{{ showBlockData ? 'Hide' : 'Show' }} Block Data</a>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"transaction && transactionJSON && showBlockData\">\n      <div class=\"uk-card-header\">\n        Raw Block Data\n      </div>\n      <div class=\"uk-card-body uk-padding-small uk-form-horizontal\">\n        <pre><code>{{ transactionJSON }}</code></pre>\n      </div>\n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, ChildActivationEnd, Router} from '@angular/router';\nimport {ApiService} from '../../services/api.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport BigNumber from 'bignumber.js';\nimport {AddressBookService} from '../../services/address-book.service';\n\n@Component({\n  selector: 'app-transaction-details',\n  templateUrl: './transaction-details.component.html',\n  styleUrls: ['./transaction-details.component.css']\n})\nexport class TransactionDetailsComponent implements OnInit {\n  ceviz = 100;\n\n  routerSub = null;\n  transaction: any = {};\n  hashID = '';\n  blockType = 'send';\n  isStateBlock = true;\n\n  toAccountID = '';\n  fromAccountID = '';\n  toAddressBook = '';\n  fromAddressBook = '';\n\n  transactionJSON = '';\n  showBlockData = false;\n\n  amountRaw = new BigNumber(0);\n\n  constructor(private route: ActivatedRoute,\n              private router: Router,\n              private addressBook: AddressBookService,\n              private api: ApiService,\n              public settings: AppSettingsService\n  ) { }\n\n  async ngOnInit() {\n    this.routerSub = this.router.events.subscribe(event => {\n      if (event instanceof ChildActivationEnd) {\n        this.loadTransaction(); // Reload the state when navigating to itself from the transactions page\n      }\n    });\n\n    await this.loadTransaction();\n  }\n\n  async loadTransaction() {\n    this.toAccountID = '';\n    this.fromAccountID = '';\n    this.toAddressBook = '';\n    this.fromAddressBook = '';\n    this.transactionJSON = '';\n    this.showBlockData = false;\n    let legacyFromAccount = '';\n    this.amountRaw = new BigNumber(0);\n    const hash = this.route.snapshot.params.transaction;\n    this.hashID = hash;\n    const blockData = await this.api.blocksInfo([hash]);\n    if (!blockData || blockData.error || !blockData.blocks[hash]) {\n      this.transaction = null;\n      return;\n    }\n    const hashData = blockData.blocks[hash];\n    const hashContents = JSON.parse(hashData.contents);\n    hashData.contents = hashContents;\n\n    this.transactionJSON = JSON.stringify(hashData.contents, null , 4);\n\n    this.blockType = hashData.contents.type;\n    if (this.blockType === 'state') {\n      const isOpen = hashData.contents.previous === '0000000000000000000000000000000000000000000000000000000000000000';\n      if (isOpen) {\n        this.blockType = 'open';\n      } else {\n        const prevRes = await this.api.blocksInfo([hashData.contents.previous]);\n        const prevData = prevRes.blocks[hashData.contents.previous];\n        prevData.contents = JSON.parse(prevData.contents);\n        if (!prevData.contents.balance) {\n          // Previous block is not a state block.\n          this.blockType = prevData.contents.type;\n          legacyFromAccount = prevData.source_account;\n        } else {\n          const prevBalance = new BigNumber(prevData.contents.balance);\n          const curBalance = new BigNumber(hashData.contents.balance);\n          const balDifference = curBalance.minus(prevBalance);\n          if (balDifference.isNegative()) {\n            this.blockType = 'send';\n          } else if (balDifference.isZero()) {\n            this.blockType = 'change';\n          } else {\n            this.blockType = 'receive';\n          }\n        }\n      }\n    } else {\n      this.isStateBlock = false;\n    }\n    if (hashData.amount) {\n      this.amountRaw = new BigNumber(hashData.amount).mod(this.ceviz);\n    }\n\n    this.transaction = hashData;\n\n    let fromAccount = '';\n    let toAccount = '';\n    switch (this.blockType) {\n      case 'send':\n        fromAccount = this.transaction.block_account;\n        toAccount = this.transaction.contents.destination || this.transaction.contents.link_as_account;\n        break;\n      case 'open':\n      case 'receive':\n        fromAccount = this.transaction.source_account;\n        toAccount = this.transaction.block_account;\n        break;\n      case 'change':\n        fromAccount = this.transaction.block_account;\n        toAccount = this.transaction.contents.representative;\n        break;\n    }\n\n    if (legacyFromAccount) {\n      fromAccount = legacyFromAccount;\n    }\n\n    this.toAccountID = toAccount;\n    this.fromAccountID = fromAccount;\n\n    this.fromAddressBook = this.addressBook.getAccountName(fromAccount);\n    this.toAddressBook = this.addressBook.getAccountName(toAccount);\n\n  }\n\n  getBalanceFromHex(balance) {\n    return new BigNumber(balance, 16);\n  }\n\n  getBalanceFromDec(balance) {\n    return new BigNumber(balance, 10);\n  }\n\n}\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"07aa2b7dea0bfd4b70bc.worker.js\");\n};","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from './notification.service';\nimport { UtilService } from './util.service';\n\n@Injectable()\nexport class NinjaService {\n\n  // URL to Ninja API\n  ninjaUrl = 'https://mynano.ninja/api/';\n\n  // null - loading, false - offline, true - online\n  status = null;\n\n  constructor(private http: HttpClient, private notifications: NotificationService, private util: UtilService) { }\n\n  private async request(action): Promise<any> {\n    return await this.http.get(this.ninjaUrl + action).toPromise()\n      .then(res => {\n        return res;\n      })\n      .catch(err => {\n        return;\n      });\n  }\n\n  private randomizeByScore(replist: any) {\n\n    const scores = {};\n    const newlist = [];\n\n    for (const account of replist) {\n      scores[account.score] = scores[account.score] || [];\n      scores[account.score].push(account);\n    }\n\n    for (const score in scores) {\n      if (scores.hasOwnProperty(score)) {\n        let accounts = scores[score];\n        accounts = this.util.array.shuffle(accounts);\n\n        for (const account of accounts) {\n          newlist.unshift(account);\n        }\n      }\n    }\n\n    return newlist;\n  }\n\n  async recommended(): Promise<any> {\n    return await this.request('accounts/verified');\n  }\n\n  async recommendedRandomized(): Promise<any> {\n    const replist = await this.recommended();\n    return this.randomizeByScore(replist);\n  }\n\n  async getSuggestedRep(): Promise<any> {\n    const replist = await this.recommendedRandomized();\n    return replist[0];\n  }\n\n  // false - does not exist, null - any other error\n  async getAccount(account: string): Promise<any> {\n    return await this.http.get(this.ninjaUrl + 'accounts/' + account).toPromise()\n      .then(res => {\n        return res;\n      })\n      .catch(err => {\n        if (err.status === 404) {\n          return false;\n        }\n\n        return null;\n      });\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <h2 class=\"uk-heading-divider\">Wallet Sweeper</h2>\n\n    <div class=\"uk-width-1-1 nlt-page-intro\">\n      <p>\n        This lets you collect all funds from all accounts in a given wallet and transfer them to any destination.\n      </p>\n      <p>\n        Could be used to load a paper wallet into some of your existing accounts, transfer a wallet or even empty your existing Nault wallet and transfer it somewhere else.\n      </p>\n      <p>\n        Even a mnemonic from a Ledger hardware wallet or other multicurrency wallets using BIP39/44 can be recovered using this tool.\n      </p>\n      <p>\n        <strong>Please use with caution if you are using an external destination. Make sure you have access to the seed on the receiving side!</strong>\n      </p>\n    </div>\n\n    <div class=\"uk-card uk-card-default\">\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"source-wallet\">Source Wallet <span uk-icon=\"icon: info;\" uk-tooltip title=\"The wallet to empty/sweep into the destination. WARNING: This wallet and all coresponding accounts will be emptied.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                      <div class=\"uk-inline uk-width-1-1\">\n                        <input [(ngModel)]=\"sourceWallet\" class=\"uk-input uk-margin-small-bottom {{validSeed ? '':'uk-form-danger'}}\" id=\"source-wallet\" type=\"text\" (ngModelChange)=\"seedChange(sourceWallet)\" placeholder=\"Ceviz seed, BIP39 seed, private key or 12,15,18,21,24-word mnemonic\" autocomplete=\"off\">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"destination-account\">Local Destination<span uk-icon=\"icon: info;\" uk-tooltip title=\"Local accounts that can be used as destination for the swept funds. Make sure you are able to unlock your Nault wallet.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <select class=\"uk-select\" id=\"destination-account\" [(ngModel)]=\"myAccountModel\" (change)=\"setDestination(myAccountModel)\">\n                    <option *ngFor=\"let account of accounts\" [value]=\"account.id\">{{account.addressBookName ? account.addressBookName + ' - ' : '#' + account.index + ' - ' }} {{ account.id | squeeze }} ({{ account.balance | ceviz: settings.settings.displayDenomination }})</option>\n                    <option [value]=\"0\">Custom Destination</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div *ngIf=\"customAccountSelected\" class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"custom-destination\">Custom Destination<span uk-icon=\"icon: info;\" uk-tooltip title=\"The deposit account for the sweps funds. Can be any remote account.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                      <div class=\"uk-inline uk-width-1-1\">\n                        <input [(ngModel)]=\"destinationAccount\" class=\"uk-input uk-margin-small-bottom {{validDestination ? '':'uk-form-danger'}}\" id=\"custom-destination\" type=\"text\" (ngModelChange)=\"destinationChange(destinationAccount)\" placeholder=\"ceviz_abc..123\">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"start-index\">Start Index <span uk-icon=\"icon: info;\" uk-tooltip title=\"The account index to start looking for funds. The first account in any wallet is usually 0. Ignored if using private key as source. The maximum number of indexes to check in each run is 100.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <input [(ngModel)]=\"startIndex\" class=\"uk-input uk-margin-small-bottom {{validStartIndex ? '':'uk-form-danger'}}\" id=\"start-index\" type=\"text\" maxLength=\"10\" (ngModelChange)=\"startIndexChange(startIndex)\" placeholder=\"0 to {{indexMax}}\" autocomplete=\"off\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"end-index\">End Index <span uk-icon=\"icon: info;\" uk-tooltip title=\"The account index to stop looking for funds. The first account in any wallet is usually 0. Ignored if using private key as source. The maximum number of indexes to check in each run is 100.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <input [(ngModel)]=\"endIndex\" class=\"uk-input uk-margin-small-bottom {{validEndIndex ? '':'uk-form-danger'}}\" id=\"end-index\" type=\"text\" maxLength=\"10\" (ngModelChange)=\"endIndexChange(endIndex)\" placeholder=\"0 to {{indexMax}}\" autocomplete=\"off\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"max-incoming\">Max Incoming Tx's <span uk-icon=\"icon: info;\" uk-tooltip title=\"Maximum number of incoming transactions to receive on each source account before sweeping. 0 is allowed. You can also use the 'Min Receive' in the app settings to get rid of spam. If not enough, you can just run the process multiple times.\"></span></label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <input [(ngModel)]=\"maxIncoming\" class=\"uk-input uk-margin-small-bottom {{validMaxIncoming ? '':'uk-form-danger'}}\" id=\"max-incoming\" type=\"text\" maxLength=\"10\" (ngModelChange)=\"maxIncomingChange(maxIncoming)\" placeholder=\"0 to {{incomingMax}}\" autocomplete=\"off\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-1 narrow-div\">\n            <button *ngIf=\"!sweeping\" class=\"uk-button uk-button-primary uk-width-1-1\" type=\"button\" (click)=\"sweep()\">START SWEEPING</button>\n            <button *ngIf=\"sweeping\" class=\"uk-button uk-button-primary uk-disabled uk-width-1-1\" type=\"button\"><span class=\"uk-margin-right\" uk-spinner></span> PROCESSING...</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-width-1-1\">\n      <textarea [(ngModel)]=\"output\" rows=\"4\" readOnly #outputarea class=\"uk-input uk-margin-small-bottom\" placeholder=\"The output log will be visible here\"></textarea>   \n    </div>\n  </div>\n</div>\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {ModalService} from '../../services/modal.service';\nimport {ApiService} from '../../services/api.service';\nimport {UtilService, TxType} from '../../services/util.service';\nimport {WorkPoolService} from '../../services/work-pool.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport {CevizBlockService} from '../../services/nano-block.service';\nimport * as nanocurrency from 'nanocurrency';\nimport { wallet } from 'nanocurrency-web';\nimport * as bip39 from 'bip39';\nimport {Router} from '@angular/router';\n\nconst INDEX_MAX = 4294967295; // seed index\nconst SWEEP_MAX_INDEX = 100; // max index keys to sweep\nconst SWEEP_MAX_PENDING = 100; // max pending blocks to process per run\n\n@Component({\n  selector: 'app-sweeper',\n  templateUrl: './sweeper.component.html',\n  styleUrls: ['./sweeper.component.css'],\n})\n\nexport class SweeperComponent implements OnInit {\n  accounts = this.walletService.wallet.accounts;\n  indexMax = INDEX_MAX;\n  incomingMax = SWEEP_MAX_PENDING;\n\n  myAccountModel = this.accounts.length > 0 ? this.accounts[0].id : '0';\n  sourceWallet = '';\n  destinationAccount = this.accounts.length > 0 ? this.accounts[0].id : '';\n  startIndex = '0';\n  endIndex = '5';\n  maxIncoming = SWEEP_MAX_PENDING.toString();\n\n  output = '';\n  sweeping = false;\n  pubKey = '';\n  adjustedBalance = '0';\n  representative = '';\n  privKey = '';\n  previous = '';\n  subType = '';\n  blocks = [];\n  keys = [];\n  keyCount = 0;\n  pendingCallback = null;\n  totalSwept = '0';\n  customAccountSelected = this.accounts.length === 0;\n\n  validSeed = false;\n  validDestination = this.myAccountModel !== '0' ? true : false;\n  validStartIndex = true;\n  validEndIndex = true;\n  validMaxIncoming = true;\n  selAccountInit = false;\n\n  @ViewChild('outputarea') logArea: ElementRef;\n\n  constructor(\n    private walletService: WalletService,\n    private notificationService: NotificationService,\n    private appSettings: AppSettingsService,\n    public modal: ModalService,\n    private api: ApiService,\n    private workPool: WorkPoolService,\n    public settings: AppSettingsService,\n    private cevizBlock: CevizBlockService,\n    private util: UtilService,\n    private route: Router) {\n      if (this.route.getCurrentNavigation().extras.state && this.route.getCurrentNavigation().extras.state.seed) {\n        this.sourceWallet = this.route.getCurrentNavigation().extras.state.seed;\n        this.validSeed = true;\n      }\n    }\n\n  async ngOnInit() {\n    // Update selected account if changed in the sidebar\n    this.walletService.wallet.selectedAccount$.subscribe(async acc => {\n      if (this.selAccountInit) {\n        this.myAccountModel = acc ? acc.id : (this.accounts.length > 0 ? this.accounts[0].id : '0');\n      }\n      this.selAccountInit = true;\n    });\n\n    // Set the account selected in the sidebar as default\n    if (this.walletService.wallet.selectedAccount !== null) {\n      this.myAccountModel = this.walletService.wallet.selectedAccount.id;\n    }\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  setDestination(account) {\n    if (account !== '0') {\n      this.destinationAccount = account;\n      this.customAccountSelected = false;\n    } else {\n      this.destinationAccount = '';\n      this.customAccountSelected = true;\n    }\n    this.destinationChange(account);\n  }\n\n  // set min value for start index\n  setMin() {\n  this.startIndex = '0';\n  // check end index\n  if (this.validEndIndex) {\n    if (parseInt(this.endIndex, 10) > 0 + SWEEP_MAX_INDEX) {\n      this.endIndex = (0 + SWEEP_MAX_INDEX).toString(); }\n    }\n  }\n\n  // set max value for end index\n  setMax() {\n    this.endIndex = INDEX_MAX.toString();\n    // check start index\n    if (this.validStartIndex) {\n      if (parseInt(this.startIndex, 10) < INDEX_MAX - SWEEP_MAX_INDEX) {\n        this.startIndex = (INDEX_MAX - SWEEP_MAX_INDEX).toString();\n      }\n    }\n  }\n\n  // set max value for pending limit\n  setMaxIncoming() {\n    this.maxIncoming = SWEEP_MAX_PENDING.toString();\n  }\n\n  seedChange(seed) {\n    if (this.checkMasterKey(seed)) {\n      this.validSeed = true;\n    } else {\n      this.validSeed = false;\n    }\n  }\n\n  destinationChange(address) {\n    if (nanocurrency.checkAddress(address)) {\n      this.validDestination = true;\n    } else {\n      this.validDestination = false;\n    }\n  }\n\n  startIndexChange(index) {\n    let invalid = false;\n    if (this.util.string.isNumeric(index) && index % 1 === 0) {\n      index = parseInt(index, 10);\n      if (!nanocurrency.checkIndex(index)) {\n        invalid = true;\n      }\n      if (index > INDEX_MAX) {\n        invalid = true;\n      }\n    } else {\n      invalid = true;\n    }\n    if (invalid) {\n      this.validStartIndex = false;\n      return;\n    }\n    // check end index\n    if (this.validEndIndex) {\n      if (parseInt(this.endIndex, 10) > index + SWEEP_MAX_INDEX) {\n        this.endIndex = (index + SWEEP_MAX_INDEX).toString();\n      }\n    }\n    this.validStartIndex = true;\n  }\n\n  endIndexChange(index) {\n    let invalid = false;\n    if (this.util.string.isNumeric(index) && index % 1 === 0) {\n      index = parseInt(index, 10);\n      if (!nanocurrency.checkIndex(index)) {\n        invalid = true;\n      }\n      if (index > INDEX_MAX) {\n        invalid = true;\n      }\n    } else {\n      invalid = true;\n    }\n    if (invalid) {\n      this.validEndIndex = false;\n      return;\n    }\n    // check end index\n    if (this.validStartIndex) {\n      if (parseInt(this.startIndex, 10) < index - SWEEP_MAX_INDEX) {\n        this.startIndex = (index - SWEEP_MAX_INDEX).toString();\n      }\n    }\n    this.validEndIndex = true;\n  }\n\n  maxIncomingChange(value) {\n    if (!this.util.string.isNumeric(value) || value % 1 !== 0) {\n      this.validMaxIncoming = false;\n      return;\n    } else {\n      value = parseInt(value, 10);\n      if (value > SWEEP_MAX_PENDING) {\n        this.validMaxIncoming = false;\n        return;\n      }\n    }\n\n    this.validMaxIncoming = true;\n  }\n\n  // Validate type of master key. Seed and private key can't be differentiated\n  checkMasterKey(key) {\n    // validate nano seed or private key\n    if (key.length === 64) {\n      if (nanocurrency.checkSeed(key)) {\n        return 'ceviz_seed';\n      }\n    }\n    // validate bip39 seed\n    if (key.length === 128) {\n      if (this.util.hex.isHex(key)) {\n        return 'bip39_seed';\n      }\n    }\n    // validate mnemonic\n    if (bip39.validateMnemonic(key)) {\n      return 'mnemonic';\n    }\n    return false;\n  }\n\n  // Append row to log output\n  appendLog(row) {\n    let linebreak = '\\n';\n    if (this.output === '') {\n      linebreak = '';\n    }\n    this.output = this.output + linebreak + row;\n    // scroll to bottom\n    this.logArea.nativeElement.scrollTop = this.logArea.nativeElement.scrollHeight;\n  }\n\n  // Process final send block\n  async processSend(privKey, previous, sendCallback) {\n    const pubKey = nanocurrency.derivePublicKey(privKey);\n    const address = nanocurrency.deriveAddress(pubKey, {useNanoPrefix: false});\n\n    // make an extra check on valid destination\n    if (this.validDestination && nanocurrency.checkAddress(this.destinationAccount)) {\n      this.appendLog('Transfer started: ' + address);\n      const work = await this.workPool.getWork(previous);\n      // create the block with the work found\n      const block = nanocurrency.createBlock(privKey, {balance: '0', representative: this.representative,\n      work: work, link: this.destinationAccount, previous: previous});\n      // replace ceviz with nano (old library)\n      block.block.account = block.block.account.replace('ceviz', 'ceviz');\n      block.block.link_as_account = block.block.link_as_account.replace('ceviz', 'ceviz');\n\n      // publish block for each iteration\n      const data = await this.api.process(block.block, TxType.send);\n      if (data.hash) {\n        const blockInfo = await this.api.blockInfo(data.hash);\n        let cevizAmountSent = null;\n        if (blockInfo.amount) {\n          cevizAmountSent = this.util.ceviz.rawToMceviz(blockInfo.amount);\n          this.totalSwept = this.util.big.add(this.totalSwept, cevizAmountSent);\n        }\n        this.notificationService.sendInfo('Account ' + address + ' was swept and ' +\n        (cevizAmountSent ? (cevizAmountSent.toString(10) + ' Ceviz') : '') + ' transferred to ' + this.destinationAccount, {length: 15000});\n        this.appendLog('Funds transferred ' + (cevizAmountSent ? ('(' + cevizAmountSent.toString(10) + ' Ceviz)') : '') + ': ' + data.hash);\n        console.log(this.adjustedBalance + ' raw transferred to ' + this.destinationAccount);\n      } else {\n        this.notificationService.sendWarning(`Failed processing block.`);\n        this.appendLog('Failed processing block: ' + data.error);\n      }\n      sendCallback();\n    } else {\n      this.notificationService.sendError(`The destination address is not valid.`);\n      sendCallback();\n    }\n  }\n\n  // For each pending block\n  async processPending(blocks, keys, keyCount) {\n    const key = keys[keyCount];\n    this.blocks = blocks;\n    this.keys = keys;\n    this.keyCount = keyCount;\n    this.adjustedBalance = this.util.big.add(this.adjustedBalance, blocks[key].amount);\n\n    // generate local work\n    try {\n      this.appendLog('Started generating PoW...');\n\n      // determine input work hash depending if open block or receive block\n      let workInputHash = this.previous;\n      if (this.subType === 'open') {\n        // input hash is the opening address public key\n        workInputHash = this.pubKey;\n      }\n      const work = await this.workPool.getWork(workInputHash);\n      // create the block with the work found\n      const block = nanocurrency.createBlock(this.privKey, {balance: this.adjustedBalance, representative: this.representative,\n      work: work, link: key, previous: this.previous});\n      // replace ceviz with nano (old library)\n      block.block.account = block.block.account.replace('ceviz', 'ceviz');\n      block.block.link_as_account = block.block.link_as_account.replace('ceviz', 'ceviz');\n      // new previous\n      this.previous = block.hash;\n\n      // publish block for each iteration\n      const data = await this.api.process(block.block, this.subType === 'open' ? TxType.open : TxType.receive);\n      if (data.hash) {\n        this.appendLog('Processed pending: ' + data.hash);\n\n        // continue with the next pending\n        this.keyCount += 1;\n        if (this.keyCount < this.keys.length) {\n          // if last block was open, the next one will be a receive\n          if (this.subType === 'open') {\n            this.subType = 'receive';\n          }\n          this.processPending(this.blocks, this.keys, this.keyCount);\n        } else { // all pending done, now we process the final send block\n          this.appendLog('All pending processed!');\n          this.pendingCallback(this.previous);\n        }\n      } else {\n        this.notificationService.sendWarning(`Failed processing block`);\n        this.appendLog('Failed processing block: ' + data.error);\n      }\n    } catch (error) {\n      if (error.message === 'invalid_hash') {\n        this.notificationService.sendError(`Block hash must be 64 character hex string`);\n      } else {\n        this.notificationService.sendError(`An unknown error occurred while generating PoW`);\n        console.log('An unknown error occurred while generating PoW' + error);\n      }\n      this.sweeping = false;\n      return;\n    }\n  }\n\n  // Create pending blocks based on current balance and previous block (or start with an open block)\n  async createPendingBlocks(privKey, address, balance, previous, subType, callback, accountCallback) {\n    this.privKey = privKey;\n    this.previous = previous;\n    this.subType = subType;\n    this.pendingCallback = callback;\n    // check for pending first\n    let data = null;\n    if (this.appSettings.settings.minimumReceive) {\n      const minAmount = this.util.ceviz.mcevizToRaw(this.appSettings.settings.minimumReceive).toString(10);\n      if (this.appSettings.settings.pendingOption === 'amount') {\n        data = await this.api.pendingLimitSorted(address, this.maxIncoming, minAmount);\n      } else {\n        data = await this.api.pendingLimit(address, this.maxIncoming, minAmount);\n      }\n\n    } else {\n      if (this.appSettings.settings.pendingOption === 'amount') {\n        data = await this.api.pendingSorted(address, this.maxIncoming);\n      } else {\n        data = await this.api.pending(address, this.maxIncoming);\n      }\n    }\n\n    // if there are any pending, process them\n    if (data.blocks) {\n      // sum all raw amounts\n      let raw = '0';\n      Object.keys(data.blocks).forEach(function(key) {\n        raw = this.util.big.add(raw, data.blocks[key].amount);\n      }.bind(this));\n      const cevizAmount = this.util.ceviz.rawToMceviz(raw);\n      const pending = {count: Object.keys(data.blocks).length, raw: raw, CEVIZ: cevizAmount, blocks: data.blocks};\n      const row = 'Found ' + pending.count + ' pending containing total ' + pending.CEVIZ + ' CEVZ';\n      this.appendLog(row);\n\n      // create receive blocks for all pending\n      const keys = [];\n      // create an array with all keys to be used recurively\n      Object.keys(pending.blocks).forEach(function(key) {\n        keys.push(key);\n      });\n\n      this.processPending(pending.blocks, keys, 0);\n    } else { // no pending, create final block directly\n      if (parseInt(this.adjustedBalance, 10) > 0) {\n        this.processSend(this.privKey, this.previous, () => {\n          accountCallback(); // tell that we are ok to continue with next step\n        });\n      } else {\n        accountCallback(); // tell that we are ok to continue with next step\n      }\n    }\n  }\n\n  // Process an account\n  async processAccount(privKey, accountCallback) {\n    if (privKey.length !== 64) {\n      accountCallback();\n      return;\n    }\n\n    this.pubKey = nanocurrency.derivePublicKey(privKey);\n    const address = nanocurrency.deriveAddress(this.pubKey, {useNanoPrefix: false});\n\n    // get account info required to build the block\n    let balance = 0; // balance will be 0 if open block\n    this.adjustedBalance = balance.toString();\n    let previous = null; // previous is null if we create open block\n    this.representative = this.settings.settings.defaultRepresentative || this.cevizBlock.getRandomRepresentative();\n    let subType = 'open';\n\n    // retrive from RPC\n    const accountInfo = await this.api.accountInfo(address);\n    let validResponse = false;\n    // if frontier is returned it means the account has been opened and we create a receive block\n    if (accountInfo.frontier) {\n      validResponse = true;\n      balance = accountInfo.balance;\n      this.adjustedBalance = balance.toString();\n      previous = accountInfo.frontier;\n      this.representative = accountInfo.representative;\n      subType = 'receive';\n      validResponse = true;\n    } else if (accountInfo.error === 'Account not found') {\n      validResponse = true;\n      this.adjustedBalance = '0';\n    }\n    if (validResponse) {\n      // create and publish all pending\n      this.createPendingBlocks(privKey, address, balance, previous, subType, function(previous_) {\n        // the previous is the last received block and will be used to create the final send block\n        if (parseInt(this.adjustedBalance, 10) > 0) {\n          this.processSend(privKey, previous_, () => {\n            accountCallback();\n          });\n        } else {\n          accountCallback();\n        }\n      }.bind(this), () => {\n        accountCallback();\n      });\n    } else {\n      this.notificationService.sendError(`Bad RPC response. Please try again.`);\n      accountCallback();\n    }\n  }\n\n  // Recursively process private keys from index range\n  async processIndexRecursive(privKeys, keyCount) {\n    // delay each process to not hit backend rate limiters\n    await this.sleep(300);\n    const privKey = privKeys[keyCount][0];\n    this.appendLog('Checking index ' + privKeys[keyCount][2] + ' using ' + privKeys[keyCount][1]);\n    this.processAccount(privKey, function() {\n      // continue with the next pending\n      keyCount += 1;\n      if (keyCount < privKeys.length) {\n        this.processIndexRecursive(privKeys, keyCount);\n      } else {\n        // all private keys have been processed\n        this.appendLog('Finished processing all accounts');\n        this.appendLog(this.totalSwept + ' Ceviz transferred');\n        this.notificationService.sendInfo('Finished processing all accounts. ' + this.totalSwept + ' Ceviz transferred', {length: 0});\n        this.sweeping = false;\n      }\n    }.bind(this));\n  }\n\n  async sweepContinue () {\n    this.sweeping = true;\n    this.totalSwept = '0';\n\n    const keyType = this.checkMasterKey(this.sourceWallet);\n    if (this.validEndIndex && this.validStartIndex && this.validMaxIncoming) {\n      let seed = '', privKey;\n      let bip39Seed = '';\n      // input is mnemonic\n      if (keyType === 'mnemonic') {\n        seed = bip39.mnemonicToEntropy(this.sourceWallet).toUpperCase();\n        bip39Seed = bip39.mnemonicToSeedSync(this.sourceWallet).toString('hex');\n        // Seed must be 64 for regular nano blake derivation to happen\n        // For other lengths, only bip39/44 derivation is possible\n        if (seed.length !== 32 && seed.length !== 40 && seed.length !== 48 && seed.length !== 56 && seed.length !== 64) {\n          this.notificationService.sendError(`Mnemonic not 12,15,18,21 or 24 words`);\n          return;\n        }\n      }\n\n      // nano seed or private key\n      if (keyType === 'ceviz_seed' || seed !== '' || keyType === 'bip39_seed') {\n        // check if a private key first (no index)\n        this.appendLog('Checking if input is a private key');\n        if (seed === '') { // seed from input, no mnemonic\n          seed = this.sourceWallet;\n        }\n        this.processAccount(seed, function() {\n          // done checking if private key, continue interpret as seed\n          const privKeys = [];\n          // start with blake2b derivation (but not if the mnemonic is anything other than 24 words)\n          if (keyType !== 'bip39_seed' && seed.length === 64) {\n            for (let i = parseInt(this.startIndex, 10); i <= parseInt(this.endIndex, 10); i++) {\n              privKey = nanocurrency.deriveSecretKey(seed, i);\n              privKeys.push([privKey, 'blake2b', i]);\n            }\n          }\n          // also check all indexes using bip39/44 derivation\n          // take 128 char bip39 seed directly from input or convert it from a 64 char nano seed (entropy)\n          if (keyType === 'bip39_seed') {\n            bip39Seed = this.sourceWallet;\n          } else if (seed.length === 64) {\n            bip39Seed = wallet.generate(seed).seed;\n          }\n\n          if (bip39Seed.length !== 128) return this.notificationService.sendError(`Invalid input format! Please check.`);\n          const accounts = wallet.accounts(bip39Seed, this.startIndex, this.endIndex);\n          let k = 0;\n          for (let i = parseInt(this.startIndex, 10); i <= parseInt(this.endIndex, 10); i++) {\n            privKey = accounts[k].privateKey;\n            k += 1;\n            privKeys.push([privKey, 'bip39/44', i]);\n          }\n          this.processIndexRecursive(privKeys, 0);\n        }.bind(this));\n      }\n\n    } else {\n      this.notificationService.sendError(`Invalid input format! Please check.`);\n    }\n  }\n\n  /* Start the sweeping */\n  async sweep() {\n    if (!this.validSeed) {\n      this.notificationService.sendError(`No valid source wallet provided!`);\n      return;\n    }\n    if (!this.validDestination) {\n      this.notificationService.sendError(`No valid destination account provided!`);\n      return;\n    }\n\n    if (this.validStartIndex && this.validEndIndex) {\n      if (parseInt(this.startIndex, 10) > parseInt(this.endIndex, 10)) {\n        this.notificationService.sendError(`End Index must be equal or larger than Start Index`);\n        return;\n      }\n    } else {\n      this.notificationService.sendError(`Not valid start and end indexes`);\n      return;\n    }\n\n    if (!this.validMaxIncoming) {\n      this.notificationService.sendError(`Not a valid number for Max Incoming`);\n      return;\n    }\n\n    // let user confirm account\n    const UIkit = window['UIkit'];\n    try {\n      await UIkit.modal.confirm('<p style=\"text-align: center;\">You are about to <b>empty the source wallet</b>.<br> \\\n      Be sure to have access to the destination account, as in having the corresponding seed.<br><br> \\\n      <b>Without the destination seed - ALL FUNDS MAY BE UNRECOVERABLE</b></p>');\n      this.sweepContinue();\n    } catch (err) {\n      console.log(err);\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {WalletService} from '../services/wallet.service';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.css']\n})\nexport class WelcomeComponent implements OnInit {\n\n  donationAccount = `ceviz_3niceeeyiaa86k58zhaeygxfkuzgffjtwju9ep33z9c8qekmr3iuc95jbqc8`;\n\n  wallet = this.walletService.wallet;\n  isConfigured = this.walletService.isConfigured;\n\n  constructor(private walletService: WalletService) { }\n\n  ngOnInit() {\n\n  }\n\n}\n","<div uk-grid>\n  <div class=\"uk-width-1-1 uk-animation-slide-left-small\">\n    <div uk-grid class=\"uk-text-center\" style=\"margin-bottom: 90px;\">\n      <div class=\"uk-width-1-1\" style=\"margin-top: 45px;\">\n        <img src=\"assets/img/nault-logo.svg\" width=\"250px\" style=\"display: block; margin: 0 auto 20px auto;\" alt=\"Logo\"/>\n        <span class=\"uk-text-lead\">A secure open source wallet for Ceviz</span><br>\n      </div>\n      <div class=\"uk-width-1-1\" *ngIf=\"!isConfigured()\">\n        <div uk-grid>\n          <div class=\"uk-width-1-1\" style=\"margin-top: 10px;\">\n            <span class=\"uk-text-small\">To get started, choose an option below to configure your wallet</span>\n          </div>\n          <div class=\"uk-width-1-2@m\">\n            <button routerLink=\"/configure-wallet\" class=\"uk-button uk-button-primary uk-width-1-1 uk-button-large\">Create A New Wallet</button>\n          </div>\n          <div class=\"uk-width-1-2@m\">\n            <button routerLink=\"/configure-wallet\" [queryParams]=\"{ import: 1}\" class=\"uk-button uk-button-primary uk-width-1-1 uk-button-large\">Import An Existing Wallet</button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"uk-width-1-1\" *ngIf=\"isConfigured()\">\n        <div uk-grid>\n          <div class=\"uk-width-1-1\" style=\"margin-top: 10px;\">\n            <span class=\"uk-text-small\">Welcome back!  It looks like your wallet is already configured.</span>\n          </div>\n          <div class=\"uk-width-1-1@m\">\n            <button routerLink=\"/accounts\" class=\"uk-button uk-button-primary uk-width-1-1 uk-button-large\">View My Accounts</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n      <div class=\"uk-width-1-1\">\n\n        <hr class=\"uk-divider-icon\">\n\n        <div class=\"uk-card uk-card-small uk-card-default uk-margin uk-width-1-1\">\n          <div class=\"uk-card-body uk-text-center\">\n            Nault is open source and all code is available at <a href=\"https://github.com/Nault/Nault\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/Nault/Nault</a>.<br>\n            Please submit any feedback or bug reports on our GitHub page.  Thank you for using Nault!\n          </div>\n        </div>\n\n        <div class=\"uk-text-center uk-text-small uk-text-truncate\">\n          Donation Address: <a [routerLink]=\"'/send'\" [queryParams]=\"{ to: donationAccount }\">{{ donationAccount }}</a>\n        </div>\n      </div>\n    </div>\n</div>\n\n\n","import { Component, Input, OnInit } from '@angular/core';\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\nimport { NotificationService } from '../../services/notification.service';\nimport { BarcodeFormat } from '@zxing/library';\nimport { BehaviorSubject } from 'rxjs';\nimport { UtilService } from '../../services/util.service';\nimport * as bip39 from 'bip39';\n\nexport type QRType = 'account' | 'hash' | 'mnemonic' | 'generic';\n\n@Component({\n  selector: 'app-qr-modal',\n  templateUrl: './qr-modal.component.html',\n  styleUrls: ['./qr-modal.component.css']\n})\nexport class QrModalComponent implements OnInit {\n\n  @Input() title = 'QR Scanner';\n  @Input() reference: string;\n  @Input() type: QRType;\n  availableDevices: MediaDeviceInfo[];\n  currentDevice: MediaDeviceInfo = null;\n  ceviz_scheme = /^(ceviz|cevizrep|cevizseed|cevizkey):.+$/g;\n\n  formatsEnabled: BarcodeFormat[] = [\n    BarcodeFormat.CODE_128,\n    BarcodeFormat.DATA_MATRIX,\n    BarcodeFormat.EAN_13,\n    BarcodeFormat.QR_CODE,\n  ];\n\n  hasDevices: boolean;\n  hasPermission: boolean;\n\n  torchEnabled = false;\n  torchAvailable$ = new BehaviorSubject<boolean>(false);\n  tryHarder = false;\n\n  constructor(\n    public activeModal: NgbActiveModal,\n    private notifcationService: NotificationService,\n    private util: UtilService,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  onCamerasFound(devices: MediaDeviceInfo[]): void {\n    this.availableDevices = devices;\n    this.hasDevices = Boolean(devices && devices.length);\n  }\n\n  onCodeResult(resultString: string) {\n    let type: QRType = null;\n    let content = '';\n    // account\n    if (this.util.account.isValidAccount(resultString)) {\n      type = 'account';\n      content = resultString;\n    } else if (bip39.validateMnemonic(resultString)) {\n      type = 'mnemonic';\n      content = resultString;\n    } else if (resultString.length === 128) {\n      // includes deterministic R value material which we ignore\n      resultString = resultString.substring(0, 64);\n      if (this.util.ceviz.isValidHash(resultString)) {\n        type = 'hash';\n        content = resultString;\n      }\n    } else if (this.util.ceviz.isValidHash(resultString)) {\n      type = 'hash';\n      content = resultString;\n    } else if (this.ceviz_scheme.test(resultString)) {\n      // This is a valid Ceviz scheme URI\n      const url = new URL(resultString);\n      content = url.pathname;\n\n      if (['ceviz:', 'cevizrep:', 'ceviz:'].includes(url.protocol) && this.util.account.isValidAccount(url.pathname)) {\n        type = 'account';\n      } else if (['cevizseed:', 'cevizkey:'].includes(url.protocol) && this.util.ceviz.isValidHash(url.pathname)) {\n        type = 'hash';\n      }\n    } else {\n      type = 'generic';\n      content = resultString;\n    }\n\n    // check that the result is valid and matched the requested type\n    if (type != null && type === this.type || this.type === 'generic') {\n      this.activeModal.close({reference: this.reference, content: content});\n    } else {\n      this.notifcationService.sendWarning('This QR code is not recognized.', { length: 5000, identifier: 'qr-not-recognized' });\n      return;\n    }\n  }\n\n  onDeviceSelectChange(selected: string) {\n    const device = this.availableDevices.find(x => x.deviceId === selected);\n    this.currentDevice = device || null;\n  }\n\n  onHasPermission(has: boolean) {\n    this.hasPermission = has;\n  }\n\n  onTorchCompatible(isCompatible: boolean): void {\n    this.torchAvailable$.next(isCompatible || false);\n  }\n\n  toggleTorch(): void {\n    this.torchEnabled = !this.torchEnabled;\n  }\n\n  toggleTryHarder(): void {\n    this.tryHarder = !this.tryHarder;\n  }\n}\n","<div role=\"document\" class=\"modal-dialog scanner-modal-sub\">\n    <div class=\"modal-content\">\n        <div class=\"modal-header\">\n            <h4 class=\"modal-title\">Scan a QR</h4>\n            <button class=\"uk-modal-close-default\" type=\"button\" uk-close (click)=\"activeModal.dismiss('QR scanner dismissed')\"></button>\n        </div>\n        <div class=\"modal-body\">\n            <ng-content></ng-content>\n            <div uk-grid>\n                <div class=\"uk-width-1-1 uk-animation-slide-left-small\">\n                  <div uk-grid class=\"uk-margin-top\">\n                    <div class=\"uk-width-1-1@m\" [hidden]=\"!hasDevices\">\n                      <div class=\"uk-width-1-1\">\n                        <div class=\"uk-form-horizontal\">\n              \n                          <div class=\"uk-margin\">\n                            <label class=\"uk-form-label\">Device</label>\n                            <div class=\"uk-form-controls\">\n                              <select class=\"uk-select\" (change)=\"onDeviceSelectChange($event.target.value)\">\n                                <option value=\"\" [selected]=\"!currentDevice\">No Device Selected</option>\n                                <option *ngFor=\"let device of availableDevices\" [value]=\"device.deviceId\"\n                                  [selected]=\"currentDevice && device.deviceId === currentDevice.deviceId\">{{device.label}}</option>\n                              </select>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n              \n                      <div class=\"uk-card uk-card-default uk-card-small\">\n                        <div class=\"uk-card-body uk-center\">\n                          <zxing-scanner [torch]=\"torchEnabled\" [(device)]=\"currentDevice\" (scanSuccess)=\"onCodeResult($event)\"\n                            [formats]=\"formatsEnabled\" [tryHarder]=\"tryHarder\" (permissionResponse)=\"onHasPermission($event)\"\n                            (camerasFound)=\"onCamerasFound($event)\" (torchCompatible)=\"onTorchCompatible($event)\"></zxing-scanner>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <div *ngIf=\"hasPermission === undefined && hasDevices === undefined\" class=\"uk-alert uk-alert-info\">\n                <b>Waiting for permissions.</b><br>\n                If your device does not has cameras, no permissions will be asked.\n              </div>\n              \n              <div *ngIf=\"hasPermission === false\" class=\"uk-alert uk-alert-danger\">\n                <b>You denied the camera permission.</b><br>\n                We can't scan anything without it. \n              </div>\n              \n              <div *ngIf=\"hasDevices === null || hasPermission === null\" class=\"uk-alert uk-alert-danger\">\n                <b>Couldn't check for devices.</b><br>\n                This may be caused by some security error.\n              </div>\n              \n              <div *ngIf=\"hasDevices === false\" class=\"uk-alert uk-alert-danger\">\n                <b>No devices were found.</b><br>\n                I believe your device has no media devices attached to.\n              </div>\n        </div>\n    </div>\n</div>","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <h2 class=\"uk-heading-divider\">Manage Wallet</h2>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"!walletService.isLedgerWallet()\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Change Wallet Password</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n          <div class=\"uk-width-1-2@s\">\n            <input class=\"uk-input\" [(ngModel)]=\"newPassword\" placeholder=\"New Password\" type=\"password\">\n            <password-strength-meter *ngIf=\"newPassword.length > 0\" [password]=\"newPassword\" [enableFeedback]=\"true\" [minPasswordLength]=\"6\"></password-strength-meter>\n            <span class=\"password-helper\" *ngIf=\"newPassword.length > 0 && newPassword.length < 6\">Password must be at least 6 characters long</span>\n            <span class=\"password-helper\" *ngIf=\"confirmPassword.length >= 6 && newPassword !== confirmPassword\">Passwords do not match!</span>\n          </div>\n          <div class=\"uk-width-1-2@s\">\n            <input class=\"uk-input\" [(ngModel)]=\"confirmPassword\" placeholder=\"Confirm New Password\" type=\"password\">\n          </div>\n        </div>\n      </div>\n      <div class=\"uk-card-footer uk-text-right@s uk-text-center nlt-button-group\">\n        <button [disabled]=\"newPassword.length < 6 || (newPassword !== confirmPassword)\" (click)=\"changePassword()\" class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\">Update Password</button>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"!walletService.isLedgerWallet()\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Backup Wallet</h3>\n      </div>\n      <div class=\"uk-card-body\">\n        <p *ngIf=\"wallet.locked\">\n          <span uk-icon=\"icon: lock;\"></span> Unlock wallet to access the seed/mnemonic.\n        </p>\n        <p *ngIf=\"!wallet.locked\">\n          To backup your wallet mnemonic phrase, <a title=\"Copy Mnemonic To Clipboard\" ngxClipboard [cbContent]=\"seedMnemonic()\" (cbOnSuccess)=\"notifications.sendSuccess('Wallet mnemonic copied to clipboard!')\" uk-tooltip>click here</a> to copy it to your clipboard.<br>\n          <br>\n          To backup your wallet seed, <a title=\"Copy Seed To Clipboard\" ngxClipboard [cbContent]=\"wallet.seed\" (cbOnSuccess)=\"notifications.sendSuccess('Wallet seed copied to clipboard!')\" uk-tooltip>click here</a> to copy it to your clipboard.<br>\n        </p>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-card-default uk-margin\" *ngIf=\"!walletService.isLedgerWallet()\">\n      <div class=\"uk-card-header\">\n        <h3 class=\"uk-card-title\">Export Nault Wallet</h3>\n      </div>\n      <ng-container *ngIf=\"wallet.locked else walletUnlocked\">\n        <div class=\"uk-card-body\">\n          <span uk-icon=\"icon: lock;\"></span> Unlock wallet to access the export tool.\n        </div>\n      </ng-container>\n      <ng-template #walletUnlocked>\n        <ng-container *ngIf=\"wallet.password else walletHasNoPassword\">\n          <div class=\"uk-card-body\">\n            Use this export tool to simplify wallet transfer to other devices.\n            <br>\n            Your data will be encrypted with your wallet's password, and then can be imported into Nault on any device!\n            <br><br>\n            Note: The export does not contain your address book.<br>\n            <div *ngIf=\"showQRExport\" uk-grid>\n              <div class=\"uk-width-1-1\">\n                <hr class=\"uk-divider-icon uk-margin-small-top\">\n                <div class=\"uk-alert uk-alert-danger\">\n                  <b>If you forget the wallet password used at the time of this export, you will NOT be able to restore your wallet.</b>\n                  <br>\n                  For backup purposes, <b>always store the seed and/or mnemonic</b> from the \"Backup Wallet\" section above.\n                </div>\n              </div>\n\n              <div class=\"uk-width-1-1@s uk-width-1-2@m uk-width-1-3@l\">\n                <img [src]=\"QRExportImg\" alt=\"QR code\">\n              </div>\n              <div class=\"uk-width-1-1@s uk-width-1-2@m uk-width-2-3@l\">\n                <br>\n                Scan the QR code on any device to import your Nault wallet!<br>\n                <br>\n                You can also import your wallet by using the URL below.\n                <br><br>\n                <input type=\"text\" class=\"uk-input\" style=\"max-width: 750px;\" value=\"{{ QRExportUrl }}\">\n                <div class=\"nlt-button-group uk-margin-small-top\">\n                  <button ngxClipboard [cbContent]=\"QRExportUrl\" (cbOnSuccess)=\"notifications.sendSuccess('Wallet export copied to clipboard!')\" class=\"uk-button uk-button-secondary\" style=\"margin-left: 0;\">Copy To Clipboard</button>\n                  <button (click)=\"exportToFile()\" class=\"uk-button uk-button-primary\">Export As File</button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"uk-card-footer uk-text-right@s uk-text-center nlt-button-group\" *ngIf=\"!showQRExport\">\n            <button (click)=\"exportWallet()\" class=\"uk-button uk-button-secondary uk-width-auto@s uk-width-1-1\">Export Wallet</button>\n          </div>\n        </ng-container>\n        <ng-template #walletHasNoPassword>\n          <div class=\"uk-card-body\">\n            You need to set a secure wallet password before you can use this export tool.\n          </div>\n        </ng-template>\n      </ng-template>\n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport * as QRCode from 'qrcode';\nimport * as bip from 'bip39';\n\n@Component({\n  selector: 'app-manage-wallet',\n  templateUrl: './manage-wallet.component.html',\n  styleUrls: ['./manage-wallet.component.css']\n})\nexport class ManageWalletComponent implements OnInit {\n\n  wallet = this.walletService.wallet;\n\n  newPassword = '';\n  confirmPassword = '';\n\n  showQRExport = false;\n  QRExportUrl = '';\n  QRExportImg = '';\n\n  constructor(\n    public walletService: WalletService,\n    public notifications: NotificationService) { }\n\n  async ngOnInit() {\n    this.wallet = this.walletService.wallet;\n  }\n\n  async changePassword() {\n    if (this.newPassword !== this.confirmPassword) {\n      return this.notifications.sendError(`Passwords do not match`);\n    }\n    if (this.newPassword.length < 1) {\n      return this.notifications.sendError(`Password cannot be empty`);\n    }\n    if (this.walletService.walletIsLocked()) {\n      return this.notifications.sendWarning(`Wallet must be unlocked`);\n    }\n\n    this.walletService.wallet.password = this.newPassword;\n    this.walletService.saveWalletExport();\n\n    this.newPassword = '';\n    this.confirmPassword = '';\n    this.notifications.sendSuccess(`Wallet password successfully updated`);\n\n    this.showQRExport = false;\n  }\n\n  async exportWallet() {\n    if (this.walletService.walletIsLocked()) {\n      return this.notifications.sendWarning(`Wallet must be unlocked`);\n    }\n\n    const exportUrl = this.walletService.generateExportUrl();\n    this.QRExportUrl = exportUrl;\n    this.QRExportImg = await QRCode.toDataURL(exportUrl, { errorCorrectionLevel: 'M', scale: 8 });\n    this.showQRExport = true;\n  }\n\n  copied() {\n    this.notifications.sendSuccess(`Wallet seed copied to clipboard!`);\n  }\n\n  seedMnemonic() {\n    if (this.wallet && this.wallet.seed ) {\n      return bip.entropyToMnemonic(this.wallet.seed);\n    }\n  }\n\n  triggerFileDownload(fileName, exportData) {\n    const blob = new Blob([JSON.stringify(exportData)], { type: 'application/json' });\n\n    // Check for iOS, which is weird with saving files\n    const iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveBlob(blob, fileName);\n    } else {\n      const elem = window.document.createElement('a');\n      const objUrl = window.URL.createObjectURL(blob);\n      if (iOS) {\n        elem.href = `data:attachment/file,${JSON.stringify(exportData)}`;\n      } else {\n        elem.href = objUrl;\n      }\n      elem.download = fileName;\n      document.body.appendChild(elem);\n      elem.click();\n      setTimeout(function() {\n        document.body.removeChild(elem);\n        window.URL.revokeObjectURL(objUrl);\n      }, 200);\n    }\n  }\n\n  exportToFile() {\n    if (this.walletService.walletIsLocked()) {\n      return this.notifications.sendWarning(`Wallet must be unlocked`);\n    }\n\n    const fileName = `Nault-Wallet.json`;\n    const exportData = this.walletService.generateExportData();\n    this.triggerFileDownload(fileName, exportData);\n\n    this.notifications.sendSuccess(`Wallet export downloaded!`);\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\" id=\"address-book-sortable\">\n\n    <div class=\"uk-margin-bottom\" uk-grid>\n      <div class=\"uk-width-expand@s uk-width-1-1\">\n        <h2 class=\"uk-heading-divider\">Representatives List</h2>\n      </div>\n      <div class=\"uk-width-auto@s uk-width-1-1 uk-text-right\">\n        <button class=\"uk-button uk-button-secondary uk-align-right uk-width-auto@s\" (click)=\"activePanel = 1;\">Add New Rep</button>\n      </div>\n    </div>\n\n    <div class=\"uk-width-1-1 nlt-page-intro\">\n      <p>\n        You can use the representatives list to store a label and other information for representatives you use.\n      </p>\n    </div>\n\n    <div class=\"uk-animation-slide-left-small\" *ngIf=\"activePanel == 0\" uk-grid>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-margin\">\n\n          <ul class=\"uk-list uk-list-striped\" style=\"margin-bottom: 0;\">\n            <li style=\"background: #fff; border-bottom: 0;\">\n              <div uk-grid style=\"color: #999; text-transform: uppercase; font-size: .875rem; font-weight: 400;\">\n                <div class=\"uk-width-2-5\">Name</div>\n                <div class=\"uk-width-expand\">Account ID</div>\n                <div class=\"uk-width-1-6 uk-text-center\" style=\"padding-left: 0;\">Options</div>\n              </div>\n            </li>\n          </ul>\n\n          <ul class=\"uk-list uk-list-striped\" style=\"margin-top: 0;\">\n            <li class=\"\" *ngFor=\"let representative of representatives$ | async;\" [attr.data-account]=\"representative.id\">\n              <div uk-grid>\n                <div class=\"uk-width-2-5 uk-text-truncate uk-visible-toggle\">\n                  <div uk-grid>\n                    <div class=\"uk-width-expand uk-text-truncate\">\n                      <span class=\"circle circle-online\" *ngIf=\"representative.online\" uk-tooltip title=\"Representative is online\"></span>\n                      <span class=\"circle circle-offline\" *ngIf=\"!representative.online\" uk-tooltip title=\"Representative is offline\"></span>\n                      <a (click)=\"editEntry(representative)\" class=\"uk-link-text\" title=\"Edit Representative\" uk-tooltip>{{ representative.name }}</a>\n                    </div>\n                    <ul class=\"uk-iconnav uk-width-auto\" style=\"padding-left: 0;\">\n                      <!--<li><span class=\"uk-sortable-handle uk-margin-small-right\" uk-icon=\"icon: table\"></span></li>-->\n                      <li *ngIf=\"representative.trusted\"><span class=\"uk-text-success\" uk-icon=\"icon: star\" uk-tooltip title=\"Representative marked as trusted\"></span></li>\n                      <li *ngIf=\"representative.warn\"><span class=\"uk-text-warning\" uk-icon=\"icon: warning\" uk-tooltip title=\"Representative marked as avoid\"></span></li>\n                    </ul>\n                  </div>\n                </div>\n                <div class=\"uk-width-expand uk-text-truncate uk-visible-toggle\">\n                  <div uk-grid>\n                    <div class=\"uk-width-expand uk-text-truncate\">\n                      <a [routerLink]=\"'/account/' + representative.id\" class=\"uk-link-text uk-display-block\" title=\"View Account Details\" uk-tooltip>\n                        <app-nano-account-id [accountID]=\"representative.id\"></app-nano-account-id>\n                      </a>\n                    </div>\n                    <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n                      <li><a ngxClipboard [cbContent]=\"representative.id\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                    </ul>\n                  </div>\n\n                </div>\n                <div class=\"uk-width-1-6 uk-text-center\" style=\"padding-left: 0;\">\n                  <a (click)=\"deleteRepresentative(representative.id)\" class=\"uk-text-danger\" title=\"Delete Representative\" uk-tooltip><span uk-icon=\"icon: trash;\"></span></a>\n                </div>\n              </div>\n\n            </li>\n            <li *ngIf=\"!(representatives$ | async).length\" class=\"uk-text-center\">\n              You do not have any representatives saved yet, <a (click)=\"activePanel = 1\">click here to create one</a>.\n            </li>\n          </ul>\n\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-animation-slide-left-small\" *ngIf=\"activePanel == 1\" uk-grid>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default\">\n          <div class=\"uk-card-header\">\n            <h2 class=\"uk-card-title\">Create New Representative</h2>\n          </div>\n          <div class=\"uk-card-body\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"new-address-account\">Account ID</label>\n                <div class=\"uk-form-controls\">\n                  <input type=\"text\" class=\"uk-input\" id=\"new-address-account\" [(ngModel)]=\"newRepAccount\" placeholder=\"ceviz_abc123\">\n                </div>\n              </div>\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"new-address-name\">Name</label>\n                <div class=\"uk-form-controls\">\n                  <input type=\"text\" class=\"uk-input\" id=\"new-address-name\" [(ngModel)]=\"newRepName\" (keyup.enter)=\"saveNewRepresentative()\" placeholder=\"Representative Name\">\n                </div>\n              </div>\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\">Representative Flags</label>\n                <div class=\"uk-form-controls\">\n                  <div uk-grid>\n                    <div class=\"uk-width-1-1\">\n                      <label style=\"cursor: pointer;\" uk-tooltip title=\"Make a representative appear at the top of your list as a recommended option\"><input type=\"checkbox\" class=\"uk-checkbox\" [(ngModel)]=\"newRepTrusted\"> &nbsp; Trusted Representative</label>\n                    </div>\n                    <div class=\"uk-width-1-1 uk-margin-small-top\">\n                      <label style=\"cursor: pointer;\" uk-tooltip title=\"Warn the user when using this representative\"><input type=\"checkbox\" class=\"uk-checkbox\" [(ngModel)]=\"newRepWarn\"> &nbsp; Avoid Representative</label>\n                    </div>\n                  </div>\n\n                </div>\n              </div>\n\n            </div>\n          </div>\n          <div class=\"uk-card-footer\">\n            <div uk-grid>\n              <div class=\"uk-width-1-2@s uk-text-left\">\n                <button class=\"uk-button uk-button-danger uk-width-1-1\" (click)=\"cancelNewRep()\">Cancel</button>\n              </div>\n              <div class=\"uk-width-1-2@s uk-text-right\">\n                <button class=\"uk-button uk-button-primary uk-width-1-1\" (click)=\"saveNewRepresentative()\">Save New Representative</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n</div>\n","\nimport {map} from 'rxjs/operators';\nimport {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {ModalService} from '../../services/modal.service';\nimport {ApiService} from '../../services/api.service';\nimport {Router} from '@angular/router';\nimport {RepresentativeService} from '../../services/representative.service';\nimport {UtilService} from '../../services/util.service';\n\n@Component({\n  selector: 'app-manage-representatives',\n  templateUrl: './manage-representatives.component.html',\n  styleUrls: ['./manage-representatives.component.css']\n})\nexport class ManageRepresentativesComponent implements OnInit, AfterViewInit {\n\n  activePanel = 0;\n\n  // Set the online status of each representative\n  representatives$ = this.repService.representatives$.pipe(map(reps => {\n    return reps.map(rep => {\n      rep.online = this.onlineReps.indexOf(rep.id) !== -1;\n      return rep;\n    });\n  }));\n\n  newRepAccount = '';\n  newRepName = '';\n  newRepTrusted = false;\n  newRepWarn = false;\n\n  onlineReps = [];\n\n  constructor(\n    private api: ApiService,\n    private notificationService: NotificationService,\n    public modal: ModalService,\n    private repService: RepresentativeService,\n    private util: UtilService) { }\n\n  async ngOnInit() {\n    this.repService.loadRepresentativeList();\n    this.onlineReps = await this.getOnlineRepresentatives();\n    this.repService.representatives$.next(this.repService.representatives); // Forcefully repush rep list once we have online status\n  }\n\n  ngAfterViewInit() {\n  }\n\n  editEntry(representative) {\n    this.newRepAccount = representative.id;\n    this.newRepName = representative.name;\n    this.newRepTrusted = !!representative.trusted;\n    this.newRepWarn = !!representative.warn;\n    this.activePanel = 1;\n    setTimeout(() => {\n      document.getElementById('new-address-name').focus();\n    }, 150);\n  }\n\n  async saveNewRepresentative() {\n    if (!this.newRepAccount || !this.newRepName) {\n      return this.notificationService.sendError(`Account and name are required`);\n    }\n\n    this.newRepAccount = this.newRepAccount.replace(/ /g, ''); // Remove spaces\n\n    // Make sure the address is valid\n    const valid = this.util.account.isValidAccount(this.newRepAccount);\n    if (!valid) {\n      return this.notificationService.sendWarning(`Account ID is not a valid account`);\n    }\n\n    try {\n      await this.repService.saveRepresentative(this.newRepAccount, this.newRepName, this.newRepTrusted, this.newRepWarn);\n      this.notificationService.sendSuccess(`Successfully saved new representative!`);\n\n      this.cancelNewRep();\n    } catch (err) {\n      this.notificationService.sendError(`Unable to save entry: ${err.message}`);\n    }\n  }\n\n  cancelNewRep() {\n    this.newRepName = '';\n    this.newRepAccount = '';\n    this.newRepTrusted = false;\n    this.newRepWarn = false;\n    this.activePanel = 0;\n  }\n\n  copied() {\n    this.notificationService.sendSuccess(`Account address copied to clipboard!`);\n  }\n\n  async getOnlineRepresentatives() {\n    const representatives = [];\n    try {\n      const reps = await this.api.representativesOnline();\n      for (const representative in reps.representatives) {\n        if (!reps.representatives.hasOwnProperty(representative)) {\n          continue;\n        }\n        representatives.push(reps.representatives[representative]);\n      }\n    } catch (err) {\n      this.notificationService.sendWarning(`Unable to determine online status of representatives`);\n    }\n\n    return representatives;\n  }\n\n  async deleteRepresentative(accountID) {\n    try {\n      this.repService.deleteRepresentative(accountID);\n      this.notificationService.sendSuccess(`Successfully deleted representative`);\n    } catch (err) {\n      this.notificationService.sendError(`Unable to delete representative: ${err.message}`);\n    }\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'ceviz'\n})\nexport class RaiPipe implements PipeTransform {\n  precision = 6;\n\n  mceviz = 100;\n  kceviz = 100;\n  ceviz  = 1;\n\n  transform(value: any, args?: any): any {\n    const opts = args.split(',');\n    const denomination = opts[0] || 'mceviz';\n    const hideText = opts[1] || false;\n\n    switch (denomination.toLowerCase()) {\n      default:\n      case 'ceviz': return `${(value / this.mceviz).toFixed(6)}${!hideText ? ' CEVZ' : ''}`;\n      case 'mceviz':\n        const hasRawValue = (value / this.ceviz) % 1;\n        if (hasRawValue) {\n          // New more precise toFixed function, but bugs on huge raw numbers\n          const newVal = value / this.mceviz < 0.000001 ? 0 : value / this.mceviz;\n          return `${this.toFixed(newVal, this.precision)}${!hideText ? ' CEVZ' : ''}`;\n        } else {\n          return `${(value / this.mceviz).toFixed(6)}${!hideText ? ' CEVZ' : ''}`;\n        }\n      case 'kceviz': return `${(value / this.kceviz).toFixed(3)}${!hideText ? ' kceviz' : ''}`;\n      case 'ceviz': return `${(value / this.ceviz).toFixed(0)}${!hideText ? ' ceviz' : ''}`;\n      case 'raw': return `${value}${!hideText ? ' raw' : ''}`;\n      case 'dynamic':\n        const ceviz = (value / this.ceviz);\n        if (ceviz >= 1000000) {\n          return `${(value / this.mceviz).toFixed(this.precision)}${!hideText ? ' mCeviz' : ''}`;\n        } else if (ceviz >= 1000) {\n          return `${(value / this.kceviz).toFixed(this.precision)}${!hideText ? ' kCeviz' : ''}`;\n        } else if (ceviz >= 0.00001) {\n          return `${(value / this.ceviz).toFixed(this.precision)}${!hideText ? ' Ceviz' : ''}`;\n        } else if (ceviz === 0) {\n          return `${value}${!hideText ? ' mCeviz' : ''}`;\n        } else {\n          return `${value}${!hideText ? ' ceviz' : ''}`;\n        }\n    }\n  }\n\n  toFixed(num, fixed) {\n    if (isNaN(num)) {\n      return 0;\n    }\n    const re = new RegExp('^-?\\\\d+(?:\\.\\\\d{0,' + (fixed || -1) + '})?');\n    return num.toString().match(re)[0];\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2 class=\"uk-heading-divider\">Send Ceviz</h2>\n\n    <!-- Send Panel -->\n    <div uk-grid *ngIf=\"activePanel == 'send'\" class=\"uk-animation-slide-left-small\">\n      <div class=\"uk-width-1-1\">\n\n        <div class=\"uk-card uk-card-default\">\n          <div class=\"uk-card-body\">\n            <div class=\"uk-form-horizontal\">\n\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-select\">From Account</label>\n                <div class=\"uk-form-controls\">\n                  <select class=\"uk-select\" [(ngModel)]=\"fromAccountID\" (change)=\"resetRaw()\" id=\"form-horizontal-select\">\n                    <option *ngFor=\"let account of accounts\" [value]=\"account.id\">{{account.addressBookName ? account.addressBookName + ' - ' : '#' + account.index + ' - ' }} {{ account.id | squeeze }} ({{ account.balance | ceviz: settings.settings.displayDenomination }})</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-text2\">To Account</label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('account1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n                    <input (blur)=\"validateDestination()\" (keyup)=\"searchAddressBook()\" (focus)=\"searchAddressBook()\" [(ngModel)]=\"toAccountID\" [ngClass]=\"{ 'uk-form-success': toAccountStatus === 2, 'uk-form-danger': toAccountStatus === 0 }\" class=\"uk-input\" id=\"form-horizontal-text2\" type=\"text\" placeholder=\"Account to send to\" autocomplete=\"off\">\n\n                    <div *ngIf=\"(addressBookResults$ | async).length\" [hidden]=\"!showAddressBook\" class=\"dropdown-nav-container uk-animation-slide-down-small uk-width-1-1 uk-card uk-card-default uk-card-body uk-position-absolute\" style=\"z-index: 15000\">\n                      <ul class=\"uk-nav uk-nav-default\">\n                        <li class=\"uk-nav-header\">Address Book Results</li>\n                        <li class=\"uk-nav-divider\"></li>\n                        <li *ngFor=\"let book of addressBookResults$ | async\">\n                          <a (click)=\"selectBookEntry(book.account)\">{{ book.name }}</a>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"uk-form-controls\" *ngIf=\"addressBookMatch\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <span class=\"uk-label uk-label-primary\">{{ addressBookMatch }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div uk-grid>\n                <div class=\"uk-width-1-1\">\n                  <label class=\"uk-form-label\" for=\"form-horizontal-text\">Amount</label>\n                  <div class=\"uk-form-controls\">\n                    <div uk-grid>\n                      <div class=\"uk-width-1-1\">\n                        <div class=\"uk-inline uk-width-1-1\">\n                          <a class=\"uk-form-icon uk-form-icon-flip form-icon-btn\" (click)=\"setMaxAmount()\" style=\"padding-right: 7px;\" uk-tooltip title=\"Set Maximum Amount\">Max</a>\n                          <input [(ngModel)]=\"amount\" [ngClass]=\"{ 'uk-form-danger': amountStatus === 0 }\" class=\"uk-input\" id=\"form-horizontal-text\" (keyup)=\"syncFiatPrice()\" (change)=\"syncFiatPrice()\" type=\"text\" placeholder=\"Amount of {{ selectedAmount.name }} to send\" maxlength=\"40\">\n                        </div>\n\n                      </div>\n\n                      <div *ngIf=\"amountRaw.gt(0)\" class=\"uk-width-1-1 uk-width-3-5@m uk-text-small uk-text-muted uk-margin-remove\">\n                        <span uk-tooltip title=\"Additional raw to send\">+{{ amountRaw.toString(10) }} raw</span> &nbsp; <a class=\"uk-text-danger\" (click)=\"resetRaw()\" uk-tooltip title=\"Remove the additional raw amount from the total amount\" uk-icon=\"icon: close\"></a>\n                      </div>\n\n                      <div class=\"uk-width-1-1\" style=\"margin-top: 10px;\" *ngIf=\"settings.settings.displayCurrency\">\n                        <div class=\"uk-width-1-1 uk-inline\">\n                          <a class=\"uk-form-icon uk-link-reset uk-link-muted\" style=\"padding-left: 7px;\" uk-tooltip title=\"Last Price: {{ price.price.lastPrice | fiat: settings.settings.displayCurrency }} / CEVZ\">{{ settings.settings.displayCurrency | currencySymbol }}</a>\n                          <input [(ngModel)]=\"amountFiat\" (keyup)=\"syncCevizPrice()\" (change)=\"syncCevizPrice()\" style=\"padding-left: 50px !important;\" class=\"uk-input\" id=\"form-horizontal-text-fiat\" type=\"text\" placeholder=\"Amount of {{ settings.settings.displayCurrency }} to send\">\n                        </div>\n                      </div>\n\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n          <div class=\"uk-card-footer\">\n            <button class=\"uk-button uk-button-primary uk-width-1-1\" type=\"button\" (click)=\"sendTransaction()\">Send Ceviz</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- End Send Panel -->\n\n    <!-- Confirmation Panel -->\n    <div uk-grid *ngIf=\"activePanel == 'confirm'\" class=\"uk-animation-slide-left\">\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\">\n          <span style=\"display: block; padding-top: 8px;\">You are about to send</span>\n          <span style=\"display:block; font-size: 32px;\">{{ rawAmount | ceviz: 'mceviz' }}</span>\n          <span style=\"display:block; font-size: 12px;\" *ngIf=\"amountRaw.gt(0)\">+{{ amountRaw.toString(10) }} raw</span>\n          <span style=\"display:block; font-size: 16px; padding-bottom: 5px;\" *ngIf=\"settings.settings.displayCurrency\">{{ amountFiat | fiat: settings.settings.displayCurrency }} @ {{ price.price.lastPrice | fiat: settings.settings.displayCurrency }} / CEVZ</span>\n        </div>\n        <br>\n        <div uk-grid *ngIf=\"fromAccount && toAccount\">\n          <div class=\"uk-width-1-2@m\">\n            <div class=\"uk-card uk-card-default\">\n              <div class=\"uk-card-header uk-text-left\" style=\"padding: 20px 20px;\">\n\n                <span class=\"confirm-title uk-text-truncate\">\n                  <div *ngIf=\"fromAddressBook\">\n                    <span class=\"confirm-title\">{{ fromAddressBook }}</span>\n                    <span class=\"confirm-subtitle\">From Account</span>\n                    <span class=\"uk-text-small uk-text-truncate\"><app-nano-account-id [accountID]=\"fromAccountID\"></app-nano-account-id></span>\n                  </div>\n                  <div *ngIf=\"!fromAddressBook\">\n                    <span class=\"confirm-title uk-text-truncate\"><app-nano-account-id [accountID]=\"fromAccountID\"></app-nano-account-id></span>\n                    <span class=\"confirm-subtitle\">From Account</span>\n                    <br class=\"br-spacer\" />\n                  </div>\n                </span>\n              </div>\n              <div class=\"uk-card-body\" style=\"padding: 20px 20px;\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-2 uk-text-muted\">\n                    <span class=\"confirm-currency\">{{ fromAccount.balance || 0 | ceviz: 'mceviz'}}</span>\n                    <span class=\"confirm-subtitle\">Current Balance</span>\n                  </div>\n                  <div class=\"uk-width-1-2 uk-text-right\">\n                    <span class=\"confirm-currency uk-text-danger\">-{{ rawAmount | ceviz: 'mceviz' }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-2@m\">\n            <div class=\"uk-card uk-card-default\">\n              <div class=\"uk-card-header uk-text-right\" style=\"padding: 20px 20px;\">\n\n                <span class=\"confirm-title uk-text-truncate\">\n                  <div *ngIf=\"toAddressBook\">\n                    <span class=\"confirm-title\">{{ toAddressBook }}</span>\n                    <span class=\"confirm-subtitle\">To Account</span>\n                    <span class=\"uk-text-small uk-text-truncate\"><app-nano-account-id [accountID]=\"toAccountID\" class=\"uk-flex-right\"></app-nano-account-id></span>\n                  </div>\n                  <div *ngIf=\"!toAddressBook\">\n                    <span class=\"confirm-title uk-text-truncate\"><app-nano-account-id [accountID]=\"toAccountID\" class=\"uk-flex-right\"></app-nano-account-id></span>\n                    <span class=\"confirm-subtitle\">To Account</span>\n                    <br class=\"br-spacer\" />\n                  </div>\n                </span>\n              </div>\n              <div class=\"uk-card-body\" style=\"padding: 20px 20px;\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-2 uk-text-muted\">\n                    <span class=\"confirm-currency\">{{ toAccount.balance || 0 | ceviz: 'mceviz'}}</span>\n                    <span class=\"confirm-subtitle\">Current Balance</span>\n                  </div>\n                  <div class=\"uk-width-1-2 uk-text-right\">\n                    <span class=\"confirm-currency uk-text-success\">+{{ rawAmount | ceviz: 'mceviz' }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div uk-grid>\n          <div class=\"uk-width-1-2@s\">\n            <button (click)=\"activePanel = 'send'\" class=\"uk-button uk-button-danger uk-width-1-1\">Cancel</button>\n          </div>\n          <div class=\"uk-width-1-2@s\">\n            <button *ngIf=\"!confirmingTransaction\" class=\"uk-button uk-button-primary uk-width-1-1\" (click)=\"confirmTransaction()\">Confirm & Send</button>\n            <button *ngIf=\"confirmingTransaction\" class=\"uk-button uk-button-primary uk-disabled uk-width-1-1\"><span class=\"uk-margin-right\" uk-spinner></span> Loading</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- End Confirmation Panel -->\n\n\n    <div uk-grid *ngIf=\"activePanel == 'status'\" class=\"uk-animation-slide-left\">\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\">\n          <span style=\"display: block; padding-top: 8px;\">You are sending</span>\n          <span style=\"display:block; font-size: 32px;\">{{ rawAmount | ceviz: 'mceviz' }}</span>\n          <span style=\"display:block; font-size: 12px;\" *ngIf=\"amountRaw.gt(0)\">+{{ amountRaw.toString(10) }} raw</span>\n          <span style=\"display:block; font-size: 16px; padding-bottom: 5px;\" *ngIf=\"settings.settings.displayCurrency\">{{ amountFiat | fiat: settings.settings.displayCurrency }} @ {{ price.price.lastPrice | fiat: settings.settings.displayCurrency }} / CEVZ</span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport BigNumber from 'bignumber.js';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {BehaviorSubject} from 'rxjs';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {ApiService} from '../../services/api.service';\nimport {UtilService} from '../../services/util.service';\nimport {WorkPoolService} from '../../services/work-pool.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {PriceService} from '../../services/price.service';\nimport {CevizBlockService} from '../../services/nano-block.service';\nimport { QrModalService } from '../../services/qr-modal.service';\n\nconst nacl = window['nacl'];\n\n@Component({\n  selector: 'app-send',\n  templateUrl: './send.component.html',\n  styleUrls: ['./send.component.css']\n})\nexport class SendComponent implements OnInit {\n  ceviz = 100;\n\n  activePanel = 'send';\n\n  accounts = this.walletService.wallet.accounts;\n  addressBookResults$ = new BehaviorSubject([]);\n  showAddressBook = false;\n  addressBookMatch = '';\n\n  amounts = [\n    { name: 'CEVIZ', shortName: 'CEVIZ', value: 'mceviz' },\n    { name: 'kceviz', shortName: 'kceviz', value: 'kceviz' },\n    { name: 'ceviz', shortName: 'ceviz', value: 'ceviz' },\n  ];\n  selectedAmount = this.amounts[0];\n\n  amount = null;\n  amountRaw = new BigNumber(0);\n  amountFiat: number|null = null;\n  rawAmount: BigNumber = new BigNumber(0);\n  fromAccount: any = {};\n  fromAccountID: any = '';\n  fromAddressBook = '';\n  toAccount: any = false;\n  toAccountID = '';\n  toAddressBook = '';\n  toAccountStatus = null;\n  amountStatus = null;\n  confirmingTransaction = false;\n  selAccountInit = false;\n\n  constructor(\n    private router: ActivatedRoute,\n    private walletService: WalletService,\n    private addressBookService: AddressBookService,\n    private notificationService: NotificationService,\n    private nodeApi: ApiService,\n    private cevizBlock: CevizBlockService,\n    public price: PriceService,\n    private workPool: WorkPoolService,\n    public settings: AppSettingsService,\n    private util: UtilService,\n    private qrModalService: QrModalService, ) { }\n\n  async ngOnInit() {\n    const params = this.router.snapshot.queryParams;\n\n    if (params && params.amount) {\n      this.amount = params.amount;\n    }\n    if (params && params.to) {\n      this.toAccountID = params.to;\n      this.validateDestination();\n    }\n\n    this.addressBookService.loadAddressBook();\n\n    // Set default From account\n    this.fromAccountID = this.accounts.length ? this.accounts[0].id : '';\n\n    // Update selected account if changed in the sidebar\n    this.walletService.wallet.selectedAccount$.subscribe(async acc => {\n      if (this.selAccountInit) {\n        if (acc) {\n          this.fromAccountID = acc.id;\n        } else {\n          this.findFirstAccount();\n        }\n      }\n      this.selAccountInit = true;\n    });\n\n    // Set the account selected in the sidebar as default\n    if (this.walletService.wallet.selectedAccount !== null) {\n      this.fromAccountID = this.walletService.wallet.selectedAccount.id;\n    } else {\n      // If \"total balance\" is selected in the sidebar, use the first account in the wallet that has a balance\n      this.findFirstAccount();\n    }\n  }\n\n  async findFirstAccount() {\n    // Load balances before we try to find the right account\n    if (this.walletService.wallet.balance.isZero()) {\n      await this.walletService.reloadBalances();\n    }\n\n    // Look for the first account that has a balance\n    const accountIDWithBalance = this.accounts.reduce((previous, current) => {\n      if (previous) return previous;\n      if (current.balance.gt(0)) return current.id;\n      return null;\n    }, null);\n\n    if (accountIDWithBalance) {\n      this.fromAccountID = accountIDWithBalance;\n    }\n  }\n\n  // An update to the Ceviz amount, sync the fiat value\n  syncFiatPrice() {\n    if (!this.validateAmount()) return;\n    const rawAmount = this.getAmountBaseValue(this.amount || 0).plus(this.amountRaw);\n    if (rawAmount.lte(0)) {\n      this.amountFiat = 0;\n      return;\n    }\n\n    // This is getting hacky, but if their currency is bitcoin, use 6 decimals, if it is not, use 2\n    const precision = this.settings.settings.displayCurrency === 'BTC' ? 1000000 : 100;\n\n    // Determine fiat value of the amount\n    const fiatAmount = this.util.ceviz.rawToMceviz(rawAmount).times(this.price.price.lastPrice)\n      .times(precision).floor().div(precision).toNumber();\n\n    this.amountFiat = fiatAmount;\n  }\n\n  // An update to the fiat amount, sync the nano value based on currently selected denomination\n  syncCevizPrice() {\n    if (!this.amountFiat) {\n      this.amount = '';\n      return;\n    }\n    if (!this.util.string.isNumeric(this.amountFiat)) return;\n    const rawAmount = this.util.ceviz.mcevizToRaw(new BigNumber(this.amountFiat).div(this.price.price.lastPrice));\n    const cevizVal = this.util.ceviz.rawToCeviz(rawAmount).floor();\n    const cevizAmount = this.getAmountValueFromBase(this.util.ceviz.cevizToRaw(cevizVal));\n\n    this.amount = cevizAmount.toNumber();\n  }\n\n  searchAddressBook() {\n    this.showAddressBook = true;\n    const search = this.toAccountID || '';\n    const addressBook = this.addressBookService.addressBook;\n\n    const matches = addressBook\n      .filter(a => a.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n      .slice(0, 5);\n\n    this.addressBookResults$.next(matches);\n  }\n\n  selectBookEntry(account) {\n    this.showAddressBook = false;\n    this.toAccountID = account;\n    this.searchAddressBook();\n    this.validateDestination();\n  }\n\n  async validateDestination() {\n    // The timeout is used to solve a bug where the results get hidden too fast and the click is never registered\n    setTimeout(() => this.showAddressBook = false, 400);\n\n    // Remove spaces from the account id\n    this.toAccountID = this.toAccountID.replace(/ /g, '');\n\n    this.addressBookMatch = this.addressBookService.getAccountName(this.toAccountID);\n\n    // const accountInfo = await this.walletService.walletApi.accountInfo(this.toAccountID);\n    this.toAccountStatus = null;\n    if (this.util.account.isValidAccount(this.toAccountID)) {\n      const accountInfo = await this.nodeApi.accountInfo(this.toAccountID);\n      if (accountInfo.error) {\n        if (accountInfo.error === 'Account not found') {\n          this.toAccountStatus = 1;\n        }\n      }\n      if (accountInfo && accountInfo.frontier) {\n        this.toAccountStatus = 2;\n      }\n    } else {\n      this.toAccountStatus = 0;\n    }\n  }\n\n  validateAmount() {\n    if (this.util.account.isValidCevizAmount(this.amount)) {\n      this.amountStatus = 1;\n      return true;\n    } else {\n      this.amountStatus = 0;\n      return false;\n    }\n  }\n\n  async sendTransaction() {\n    const isValid = this.util.account.isValidAccount(this.toAccountID);\n    if (!isValid) {\n      return this.notificationService.sendWarning(`To account address is not valid`);\n    }\n    if (!this.fromAccountID || !this.toAccountID) {\n      return this.notificationService.sendWarning(`From and to account are required`);\n    }\n    if (!this.validateAmount()) {\n      return this.notificationService.sendWarning(`Invalid CEVZ Amount`);\n    }\n\n    const from = await this.nodeApi.accountInfo(this.fromAccountID);\n    const to = await this.nodeApi.accountInfo(this.toAccountID);\n    if (!from) {\n      return this.notificationService.sendError(`From account not found`);\n    }\n\n    from.balanceBN = new BigNumber(from.balance || 0);\n    to.balanceBN = new BigNumber(to.balance || 0);\n\n    this.fromAccount = from;\n    this.toAccount = to;\n\n    const rawAmount = this.getAmountBaseValue(this.amount || 0);\n    this.rawAmount = rawAmount.plus(this.amountRaw);\n\n    const cevizAmount = this.rawAmount.div(this.ceviz);\n\n    if (this.amount < 0 || rawAmount.lessThan(0)) {\n      return this.notificationService.sendWarning(`Amount is invalid`);\n    }\n    if (from.balanceBN.minus(rawAmount).lessThan(0)) {\n      return this.notificationService.sendError(`From account does not have enough CEVZ`);\n    }\n\n    // Determine a proper raw amount to show in the UI, if a decimal was entered\n    this.amountRaw = this.rawAmount.mod(this.ceviz);\n\n    // Determine fiat value of the amount\n    this.amountFiat = this.util.ceviz.rawToMceviz(rawAmount).times(this.price.price.lastPrice).toNumber();\n\n    // Start precopmuting the work...\n    this.fromAddressBook = this.addressBookService.getAccountName(this.fromAccountID);\n    this.toAddressBook = this.addressBookService.getAccountName(this.toAccountID);\n    this.workPool.addWorkToCache(this.fromAccount.frontier);\n\n    this.activePanel = 'confirm';\n  }\n\n  async confirmTransaction() {\n    const walletAccount = this.walletService.wallet.accounts.find(a => a.id === this.fromAccountID);\n    if (!walletAccount) {\n      throw new Error(`Unable to find sending account in wallet`);\n    }\n    if (this.walletService.walletIsLocked()) {\n      return this.notificationService.sendWarning(`Wallet must be unlocked`);\n    }\n\n    this.confirmingTransaction = true;\n\n    try {\n      const newHash = await this.cevizBlock.generateSend(walletAccount, this.toAccountID,\n        this.rawAmount, this.walletService.isLedgerWallet());\n      if (newHash) {\n        this.notificationService.sendSuccess(`Successfully sent ${this.amount} ${this.selectedAmount.shortName}!`);\n        this.activePanel = 'send';\n        this.amount = null;\n        this.amountFiat = null;\n        this.resetRaw();\n        this.toAccountID = '';\n        this.toAccountStatus = null;\n        this.fromAddressBook = '';\n        this.toAddressBook = '';\n        this.addressBookMatch = '';\n      } else {\n        if (!this.walletService.isLedgerWallet()) {\n          this.notificationService.sendError(`There was an error sending your transaction, please try again.`);\n        }\n      }\n    } catch (err) {\n      this.notificationService.sendError(`There was an error sending your transaction: ${err.message}`);\n    }\n\n\n    this.confirmingTransaction = false;\n\n    await this.walletService.reloadBalances();\n  }\n\n  setMaxAmount() {\n    const walletAccount = this.walletService.wallet.accounts.find(a => a.id === this.fromAccountID);\n    if (!walletAccount) {\n      return;\n    }\n\n    this.amountRaw = walletAccount.balanceRaw;\n\n    const cevizVal = this.util.ceviz.rawToCeviz(walletAccount.balance).floor();\n    const maxAmount = this.getAmountValueFromBase(this.util.ceviz.cevizToRaw(cevizVal));\n    this.amount = maxAmount.toNumber();\n    this.syncFiatPrice();\n  }\n\n  resetRaw() {\n    this.amountRaw = new BigNumber(0);\n  }\n\n  getAmountBaseValue(value) {\n\n    switch (this.selectedAmount.value) {\n      default:\n      case 'ceviz': return this.util.ceviz.cevizToRaw(value);\n      case 'kceviz': return this.util.ceviz.kcevizToRaw(value);\n      case 'mceviz': return this.util.ceviz.mcevizToRaw(value);\n    }\n  }\n\n  getAmountValueFromBase(value) {\n    switch (this.selectedAmount.value) {\n      default:\n      case 'ceviz': return this.util.ceviz.rawToCeviz(value);\n      case 'kceviz': return this.util.ceviz.rawToKceviz(value);\n      case 'mceviz': return this.util.ceviz.rawToMceviz(value);\n    }\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'account1':\n          this.toAccountID = data.content;\n          this.validateDestination();\n          break;\n      }\n    }, () => {}\n    );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport * as Rx from 'rxjs';\n\ntype NotificationType = 'info'|'success'|'warning'|'error';\n\n@Injectable()\nexport class NotificationService {\n\n  notifications$ = new Rx.BehaviorSubject(null);\n  removeNotification$ = new Rx.BehaviorSubject(null);\n\n  constructor() { }\n\n  // This provides an entry point for all components to send notifications.\n  // It exposes an observable that the actual component uses to grab new notifications\n\n  sendNotification(type: NotificationType, message: string, options = {}) {\n    this.notifications$.next({ type, message, options });\n  }\n\n  removeNotification(identifier: string) {\n    this.removeNotification$.next(identifier);\n  }\n\n  sendInfo(message: string, options = {}) {\n    this.sendNotification('info', message, options);\n  }\n  sendSuccess(message: string, options = {}) {\n    this.sendNotification('success', message, options);\n  }\n  sendWarning(message: string, options = {}) {\n    this.sendNotification('warning', message, options);\n  }\n  sendError(message: string, options = {}) {\n    this.sendNotification('error', message, options);\n  }\n\n  // Custom notification functions - these are re-used in multiple paces through the app\n  sendLedgerChromeWarning() {\n    this.sendWarning(\n      `<b>Notice:</b> You may experience issues using a Ledger device with Google Chrome. ` +\n      `If you do please use Brave/Opera browser or ` +\n      `<a href=\"https://github.com/Nault/Nault/releases\" target=\"_blank\" rel=\"noopener noreferrer\">Nault Desktop</a>.`,\n      { length: 0, identifier: 'chrome-ledger' }\n      );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {NotificationService} from './notification.service';\n\n@Injectable()\nexport class NodeService {\n\n  node = {\n    status: null, // null - loading, false - offline, true - online\n  };\n\n  constructor(private notifications: NotificationService) { }\n\n  setOffline(msg = `Unable to connect to the Ceviz node, your balances may be inaccurate!`) {\n    if (this.node.status === false) return; // Already offline\n    this.node.status = false;\n\n    if (msg) this.notifications.sendError(msg, { identifier: 'node-offline', length: 0 });\n  }\n\n  setOnline() {\n    if (this.node.status) return; // Already online\n\n    this.node.status = true;\n    this.notifications.removeNotification('node-offline');\n  }\n\n  setLoading() {\n    this.node.status = null;\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'squeeze'\n})\nexport class SqueezePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    const arg = args ? args.split(',') || [] : [];\n    const openingChars = arg[0] || 9;\n    const closingChars = arg[1] || 5;\n    const firstChars = value.split('').slice(0, openingChars).join('');\n    const lastChars = value.split('').slice(-closingChars).join('');\n    return `${firstChars}...${lastChars}`;\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport {NotificationService} from '../../services/notification.service';\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.component.html',\n  styleUrls: ['./notifications.component.css']\n})\nexport class NotificationsComponent implements OnInit {\n\n  notificationLength = 5000;\n\n  notifications: any[] = [];\n  constructor(private notificationService: NotificationService) { }\n\n  ngOnInit() {\n    this.notificationService.notifications$.subscribe(notification => {\n      if (!notification) {\n        return; // Default value\n      }\n\n      // Check the options\n      const length = notification.options.hasOwnProperty('length') ? notification.options.length : this.notificationLength;\n      const identifier = notification.options.identifier || null;\n\n      // Stop duplicates\n      if (identifier) {\n        const existingNotification = this.notifications.find(n => n.identifier === identifier);\n        if (existingNotification) {\n          return;\n        }\n      }\n\n      const newNotification = {\n        type: notification.type,\n        message: notification.message,\n        cssClass: this.getCssClass(notification.type),\n        identifier: identifier,\n        length: length,\n      };\n\n      this.notifications.push(newNotification);\n      if (length) {\n        setTimeout(() => this.removeNotification(newNotification), length);\n      }\n    });\n\n    this.notificationService.removeNotification$.subscribe(identifier => {\n      if (!identifier) {\n        return;\n      }\n\n      const existingNotification = this.notifications.find(n => n.identifier === identifier);\n      if (existingNotification) {\n        this.removeNotification(existingNotification);\n      }\n    });\n  }\n\n  private removeNotification(notification) {\n    const existingNotification = this.notifications.findIndex(n => n === notification);\n    if (existingNotification !== -1) {\n      this.notifications.splice(existingNotification, 1);\n    }\n  }\n\n  private getCssClass(type) {\n    switch (type) {\n      default:\n      case 'info': return 'uk-alert-primary';\n      case 'success': return 'uk-alert-success';\n      case 'warning': return 'uk-alert-warning';\n      case 'error': return 'uk-alert-danger';\n    }\n  }\n\n}\n","<div class=\"notification-container\">\n  <div *ngFor=\"let notification of notifications\" [ngClass]=\"notification.cssClass\" class=\"uk-animation-slide-bottom-small wallet-notification\" uk-alert>\n    <a class=\"uk-alert-close close-notification\" (click)=\"removeNotification(notification)\" uk-close></a>\n    <p [innerHTML]=\"notification.message\"></p>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { NotificationService } from './notification.service';\nimport { Router } from '@angular/router';\nimport { UtilService } from './util.service';\n\n@Injectable()\nexport class RemoteSignService {\n\n\n  constructor(\n    private router: Router,\n    private notifcationService: NotificationService,\n    private util: UtilService,\n  ) { }\n\n  navigateSignBlock(url) {\n    if (!this.checkSignBlock(url.pathname)) {\n      return this.notifcationService.sendWarning('Not a recognized format of an unsigned block.', { length: 5000 });\n    }\n    try {\n      const data = JSON.parse(url.pathname);\n      // Block to sign\n      let paramsSign = {\n        sign: 1,\n        n_account: data.block.account,\n        n_previous: data.block.previous,\n        n_representative: data.block.representative,\n        n_balance: data.block.balance,\n        n_link: data.block.link,\n      };\n      // only include if it exist\n      if (data.previous) {\n        paramsSign = {...paramsSign, ...{\n          p_account: data.previous.account,\n          p_previous: data.previous.previous,\n          p_representative: data.previous.representative,\n          p_balance: data.previous.balance,\n          p_link: data.previous.link,\n          p_signature: data.previous.signature,\n        }};\n      }\n      this.router.navigate(['sign'], { queryParams: paramsSign});\n    } catch (error) {\n      this.notifcationService.sendWarning('Block sign data detected but not correct format.', { length: 5000 });\n    }\n  }\n\n  navigateProcessBlock(url) {\n    if (!this.checkSignBlock(url.pathname) || !this.checkProcessBlock(url.pathname)) {\n      return this.notifcationService.sendWarning('Not a recognized format of a signed block.', { length: 5000 });\n    }\n    try {\n      const data = JSON.parse(url.pathname);\n      // Block to process\n      let paramsProcess = {\n        sign: 0,\n        n_account: data.block.account,\n        n_previous: data.block.previous,\n        n_representative: data.block.representative,\n        n_balance: data.block.balance,\n        n_link: data.block.link,\n        n_signature: data.block.signature,\n        n_work: data.block.work,\n      };\n      // only include if it exist\n      if (data.previous) {\n        paramsProcess = {...paramsProcess, ...{\n          p_account: data.previous.account,\n          p_previous: data.previous.previous,\n          p_representative: data.previous.representative,\n          p_balance: data.previous.balance,\n          p_link: data.previous.link,\n        }};\n      }\n      this.router.navigate(['sign'], { queryParams: paramsProcess});\n    } catch (error) {\n      this.notifcationService.sendWarning('Block process data detected but not correct format.', { length: 5000 });\n    }\n  }\n\n  checkSignBlock(stringdata: string) {\n    try {\n      const data = JSON.parse(stringdata);\n      console.log(data);\n\n      return (this.util.account.isValidAccount(data.block.account) &&\n        (data.previous ? this.util.account.isValidAccount(data.previous.account) : true) &&\n        this.util.account.isValidAccount(data.block.representative) &&\n        (data.previous ? this.util.account.isValidAccount(data.previous.representative) : true) &&\n        this.util.account.isValidAmount(data.block.balance) &&\n        (data.previous ? this.util.account.isValidAmount(data.previous.balance) : true) &&\n        this.util.ceviz.isValidHash(data.block.previous) &&\n        (data.previous ? this.util.ceviz.isValidHash(data.previous.previous) : true) &&\n        this.util.ceviz.isValidHash(data.block.link) &&\n        (data.previous ? this.util.ceviz.isValidHash(data.previous.link) : true) &&\n        (data.previous ? this.util.ceviz.isValidSignature(data.previous.signature) : true));\n    } catch (error) {\n      return false;\n    }\n  }\n\n  checkProcessBlock(stringdata: string) {\n    try {\n      const data = JSON.parse(stringdata);\n      return (this.util.ceviz.isValidSignature(data.block.signature) &&\n        (data.block.work ? this.util.ceviz.isValidWork(data.block.work) : true));\n    } catch (error) {\n      return false;\n    }\n  }\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n    \n    <div class=\"uk-margin-bottom\" uk-grid>\n      <div class=\"uk-width-expand@s uk-width-1-1\">\n        <h2 class=\"uk-heading-divider\">\n          Accounts\n          <a (click)=\"viewAdvanced = !viewAdvanced\" style=\"font-size: 12px; margin-left: 25px;\">{{ viewAdvanced ? 'BASIC' : 'ADVANCED' }}</a>\n        </h2>\n      </div>\n      <div class=\"uk-width-auto@m uk-width-1-1 uk-text-right\">\n        <div class=\"uk-grid-small uk-child-width-expand\" uk-grid>\n          <div>\n            <input type=\"number\" class=\"uk-input uk-form-width-small uk-width-1-1@m\" [(ngModel)]=\"newAccountIndex\" placeholder=\"Account #\" *ngIf=\"viewAdvanced\">\n          </div>\n          <div class=\"uk-width-auto@m\">\n            <button class=\"uk-button uk-button-secondary uk-width-1-1@m\" (click)=\"createAccount()\">\n              Add New Account\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-card uk-overflow-auto\">\n      <table class=\"uk-table uk-table-striped uk-table-small\">\n        <thead>\n        <tr>\n          <th scope=\"col\" class=\"uk-width-3-5@m uk-width-1-2\">\n            Account\n          </th>\n          <th scope=\"col\" class=\"uk-width-1-5@m uk-width-1-4 uk-text-right\">Balance</th>\n          <th scope=\"col\" class=\"uk-width-1-5@m uk-width-1-4 uk-text-right\"></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let account of accounts\" class=\"uk-visible-toggle\">\n          <td class=\"uk-visible-toggle uk-text-truncate\">\n            <div uk-grid>\n              <div [class]=\"[ 'uk-width-auto', 'uk-text-truncate', !isLedgerWallet ? 'account-container' : 'account-container-wide' ]\">\n                <div class=\"uk-width-1-1\">\n                  <a class=\"uk-label uk-label-default account-index\" [routerLink]=\"'/account/' + account.id\" title=\"View Account Details\" uk-tooltip>\n                    {{ account.addressBookName ? account.addressBookName : 'Account #' + account.index }}\n                  </a>\n                </div>\n                <a [routerLink]=\"'/account/' + account.id\" class=\"uk-link-text\" title=\"View Account Details\" uk-tooltip>\n                  <app-nano-account-id [accountID]=\"account.id\" middle=\"on\"></app-nano-account-id>\n                </a>\n              </div>\n              <div class=\"uk-width-auto copy-container\">\n                <ul class=\"uk-iconnav copy-icons\">\n                  <li><a ngxClipboard [cbContent]=\"account.id\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                  <li *ngIf=\"isLedgerWallet\"><a uk-icon=\"icon: commenting\" title=\"Confirm Address On Ledger\" (click)=\"showLedgerAddress(account)\" uk-tooltip></a></li>\n                </ul>\n              </div>\n            </div>\n          </td>\n          <td class=\"uk-text-right\" style=\"white-space: nowrap;\">\n            <div class=\"uk-width-1-1\">\n              <div *ngIf=\"account.pending.gt(0)\" class=\"incoming-label\">\n                <div class=\"text-snippet\">New</div>\n                <div class=\"text-full\">+{{ account.pending | ceviz: settings.settings.displayDenomination + ',true' }}</div>\n              </div>\n              <span [title]=\"( account.balanceRaw.gt(0) ? ( '+' + ( account.balanceRaw.toString(10) | squeeze:'5,5' ) + ' raw' ) : '' )\">\n                {{ account.balance | ceviz: settings.settings.displayDenomination }}\n              </span>\n            </div>\n            <div class=\"uk-width-1-1\">\n              {{ account.balanceFiat | fiat: settings.settings.displayCurrency }}\n            </div>\n          </td>\n          <td class=\"uk-text-right\">\n            <div class=\"uk-float-right\">\n              <a (click)=\"deleteAccount(account)\" class=\"uk-text-danger\" title=\"Hide Account\" uk-tooltip><span uk-icon=\"icon: close;\"></span></a>\n            </div>\n          </td>\n        </tr>\n        <tr *ngIf=\"!accounts.length\">\n          <td colspan=\"4\" style=\"text-align: center;\">You don't have any accounts yet, <a (click)=\"createAccount()\">click here to create one</a>.</td>\n        </tr>\n        <tr class=\"uk-alert uk-alert-primary missing-accounts-hint\" *ngIf=\"!isSingleKeyWallet\">\n          <td colspan=\"4\" style=\"text-align: center;\"><span uk-icon=\"icon: info\"></span> Missing accounts? <a (click)=\"createAccount()\">Add new account</a> to import a previously used address.</td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <p class=\"uk-text-center uk-text-small\">Click on an account to view more details!</p>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {Subject, timer} from 'rxjs';\nimport {debounce} from 'rxjs/operators';\nimport {\n  AppSettingsService,\n  LedgerService,\n  LedgerStatus,\n  ModalService,\n  NotificationService,\n  RepresentativeService,\n  WalletService\n} from '../../services';\n\n@Component({\n  selector: 'app-accounts',\n  templateUrl: './accounts.component.html',\n  styleUrls: ['./accounts.component.css']\n})\nexport class AccountsComponent implements OnInit {\n  accounts = this.walletService.wallet.accounts;\n  isLedgerWallet = this.walletService.isLedgerWallet();\n  isSingleKeyWallet = this.walletService.isSingleKeyWallet();\n  viewAdvanced = false;\n  newAccountIndex = null;\n\n  // When we change the accounts, redetect changable reps (Debounce by 5 seconds)\n  accountsChanged$ = new Subject();\n  reloadRepWarning$ = this.accountsChanged$.pipe(debounce(() => timer(5000)));\n\n  constructor(\n    private walletService: WalletService,\n    private notificationService: NotificationService,\n    public modal: ModalService,\n    public settings: AppSettingsService,\n    private representatives: RepresentativeService,\n    private ledger: LedgerService) { }\n\n  async ngOnInit() {\n    this.reloadRepWarning$.subscribe(a => {\n      this.representatives.detectChangeableReps();\n    });\n  }\n\n  async createAccount() {\n    if (this.walletService.isLocked()) {\n      return this.notificationService.sendError(`Wallet is locked.`);\n    }\n    if (!this.walletService.isConfigured()) return this.notificationService.sendError(`Wallet is not configured`);\n    if (this.walletService.wallet.accounts.length >= 20) return this.notificationService.sendWarning(`You can only track up to 20 accounts at a time.`);\n    // Advanced view, manual account index?\n    let accountIndex = null;\n    if (this.viewAdvanced && this.newAccountIndex != null) {\n      const index = parseInt(this.newAccountIndex, 10);\n      if (index < 0) return this.notificationService.sendWarning(`Invalid account index - must be positive number`);\n      const existingAccount = this.walletService.wallet.accounts.find(a => a.index === index);\n      if (existingAccount) {\n        return this.notificationService.sendWarning(`The account at this index is already loaded`);\n      }\n      accountIndex = index;\n    }\n    try {\n      const newAccount = await this.walletService.addWalletAccount(accountIndex);\n      this.notificationService.sendSuccess(`Successfully created new account ${newAccount.id}`);\n      this.newAccountIndex = null;\n      this.accountsChanged$.next(newAccount.id);\n    } catch (err) {\n      this.notificationService.sendError(`Unable to add new account: ${err.message}`);\n    }\n  }\n\n  sortAccounts() {\n    if (this.walletService.isLocked()) {\n      return this.notificationService.sendError(`Wallet is locked.`);\n    }\n    if (!this.walletService.isConfigured()) return this.notificationService.sendError(`Wallet is not configured`);\n    if (this.walletService.wallet.accounts.length <= 1) return this.notificationService.sendWarning(`You need at least 2 accounts to sort them`);\n    this.walletService.wallet.accounts = this.walletService.wallet.accounts.sort((a, b) => a.index - b.index);\n    // this.accounts = this.walletService.wallet.accounts;\n    this.walletService.saveWalletExport(); // Save new sorted accounts list\n    this.notificationService.sendSuccess(`Successfully sorted accounts by index!`);\n  }\n\n  copied() {\n    this.notificationService.sendSuccess(`Successfully copied to clipboard!`);\n  }\n\n  async deleteAccount(account) {\n    if (this.walletService.walletIsLocked()) {\n      return this.notificationService.sendWarning(`Wallet must be unlocked.`);\n    }\n    try {\n      await this.walletService.removeWalletAccount(account.id);\n      this.notificationService.sendSuccess(`Successfully removed account ${account.id}`);\n      this.accountsChanged$.next(account.id);\n    } catch (err) {\n      this.notificationService.sendError(`Unable to delete account: ${err.message}`);\n    }\n  }\n\n  async showLedgerAddress(account) {\n    if (this.ledger.ledger.status !== LedgerStatus.READY) {\n      return this.notificationService.sendWarning(`Ledger device must be ready`);\n    }\n    this.notificationService.sendInfo(`Confirming account address on Ledger device...`, { identifier: 'ledger-account', length: 0 });\n    try {\n      await this.ledger.getLedgerAccount(account.index, true);\n      this.notificationService.sendSuccess(`Account address confirmed on Ledger`);\n    } catch (err) {\n      this.notificationService.sendError(`Account address denied - if it is wrong do not use the wallet!`);\n    }\n    this.notificationService.removeNotification('ledger-account');\n  }\n\n}\n","<div uk-grid class=\"app\" uk-height-viewport (mousemove)=\"updateIdleTime()\" (keypress)=\"updateIdleTime()\">\n  <div class=\"uk-width-1-1\" style=\"position: relative; overflow-y: hidden;\">\n\n    <!-- Mobile top bar -->\n    <div uk-grid class=\"mobile-top-bar uk-hidden@s uk-background-primary\">\n      <div class=\"uk-width-1-2\">\n        <div class=\"nav-button\" (click)=\"toggleNav()\" style=\"cursor: pointer;\">\n          <span uk-icon=\"icon: menu;\"></span>\n          <span class=\"app-name\">Nault</span>\n        </div>\n      </div>\n      <div class=\"uk-width-1-2 \" style=\"text-align: right;\">\n      </div>\n    </div>\n\n    <!-- Accounts dropdown -->\n    <div #accountsDropdown [class]=\"[ 'accounts-dropdown', showAccountsDropdown ? 'visible' : 'hidden' ]\">\n      <div class=\"header\">Currently Selected</div>\n      <div class=\"account active\" *ngIf=\"wallet.selectedAccount !== null\"> <!-- active ceviz_ account -->\n        <div class=\"name-column\">\n          <div class=\"name\">{{ wallet.selectedAccount.addressBookName ? wallet.selectedAccount.addressBookName : ('Account #' + wallet.selectedAccount.index) }}</div>\n          <div class=\"address\">{{ wallet.selectedAccount.id }}</div>\n        </div>\n        <div class=\"balance-column\">\n          <div class=\"balance primary\">{{ wallet.selectedAccount.balance | ceviz: settings.settings.displayDenomination }}</div>\n          <div class=\"balance converted\">{{ wallet.selectedAccount.balanceFiat | fiat: settings.settings.displayCurrency }}</div>\n        </div>\n      </div>\n      <div [class]=\"[ 'account', (wallet.selectedAccount === null) ? 'active' : 'inactive' ]\" (click)=\"selectAccount(null)\"> <!-- active/inactive total balance -->\n        <div class=\"name-column\">\n          <div class=\"name\">Total Balance</div>\n          <div class=\"address\"> </div>\n        </div>\n        <div class=\"balance-column\">\n          <div class=\"balance primary\">{{ wallet.balance | ceviz: settings.settings.displayDenomination }}</div>\n          <div class=\"balance converted\">{{ wallet.balanceFiat | fiat: settings.settings.displayCurrency }}</div>\n        </div>\n      </div>\n      <ng-container *ngFor=\"let account of wallet.accounts\"> <!-- inactive accounts -->\n        <div class=\"account inactive\" (click)=\"selectAccount(account)\" *ngIf=\"( (wallet.selectedAccount === null) || (wallet.selectedAccount.id !== account.id) )\">\n          <div class=\"name-column\">\n            <div class=\"name\">{{ account.addressBookName ? account.addressBookName : ('Account #' + account.index) }}</div>\n            <div class=\"address\">{{ account.id }}</div>\n          </div>\n          <div class=\"balance-column\">\n            <div class=\"balance primary\">\n              <span class=\"incoming-label\" *ngIf=\"account.pending.gt(0)\">\n                <span class=\"text-snippet\">New</span>\n                <span class=\"text-full\">+{{ account.pending | ceviz: 'mceviz,true' }}</span>\n              </span>\n              {{ account.balance | ceviz: settings.settings.displayDenomination }}\n            </div>\n            <div class=\"balance converted\">{{ account.balanceFiat | fiat: settings.settings.displayCurrency }}</div>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n\n    <!-- Main content container-->\n    <div uk-grid class=\"app-grid\">\n      <div class=\"uk-width-1-4 nav-container\">\n        <div class=\"nav-header\">\n\n          <div uk-grid>\n            <div class=\"uk-width-expand\">\n\n              <div [class]=\"[ 'nav-nano-card', (wallet.selectedAccount === null) ? 'is-wallet' : 'is-card' ]\">\n                <div class=\"logo\"></div>\n                <div class=\"card-contents\">\n                  <div class=\"account-name-container\">\n                    <a [routerLink]=\"(\n                        (wallet.selectedAccount !== null)\n                      ? '/account/' + wallet.selectedAccount.id\n                      : '/accounts'\n                    )\" class=\"name\">{{\n                        (wallet.selectedAccount !== null)\n                      ? (\n                          wallet.selectedAccount.addressBookName\n                        ? wallet.selectedAccount.addressBookName\n                        : ('Account #' + wallet.selectedAccount.index)\n                      )\n                      : 'Total Balance'\n                    }}</a>\n                    <div #selectButton [class]=\"[ 'select-button', showAccountsDropdown ? 'open' : 'closed' ]\" (click)=\"toggleAccountsDropdown()\">\n                      <div class=\"circle\"></div>\n                      <div class=\"circle\"></div>\n                      <div class=\"circle\"></div>\n                    </div>\n                  </div>\n                  <div class=\"account-balances\">\n                    <ng-container *ngIf=\"node.status || !isConfigured()\">\n                      <div class=\"balance-container primary\">\n                        <div class=\"currency-name\">CEVZ</div>\n                        <div class=\"amount-container\">\n                          <div class=\"amount-integer\">{{ (wallet.selectedAccount !== null ? wallet.selectedAccount.balance : wallet.balance) | ceviz: 'mceviz,true' | amountsplit: 0 }}</div>\n                          <div class=\"amount-fractional\">{{ (wallet.selectedAccount !== null ? wallet.selectedAccount.balance : wallet.balance) | ceviz: 'mceviz,true' | amountsplit: 1 }}</div>\n                        </div>\n                      </div>\n                      <div class=\"balance-container converted\" *ngIf=\"settings.settings.displayCurrency\">\n                        <div class=\"currency-name\"><span class=\"estimate-symbol\">~</span>{{ settings.settings.displayCurrency }}</div>\n                        <div class=\"amount-container\">\n                          <div class=\"amount-integer\">{{ (wallet.selectedAccount !== null ? wallet.selectedAccount.balanceFiat : wallet.balanceFiat) | fiat: settings.settings.displayCurrency | amountsplit: 0 }}</div>\n                          <div class=\"amount-fractional\">{{ (wallet.selectedAccount !== null ? wallet.selectedAccount.balanceFiat : wallet.balanceFiat) | fiat: settings.settings.displayCurrency | amountsplit: 1 }}</div>\n                        </div>\n                      </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"isConfigured() && (node.status === null)\">\n                      <div class=\"spinner-container\">\n                        <div uk-spinner=\"ratio: 0.6;\" uk-tooltip title=\"Attempting to connect to Ceviz node\"></div>\n                      </div>\n                    </ng-container>\n                  </div>\n                </div>\n              </div>\n\n              <ng-container *ngIf=\"(wallet.selectedAccount !== null) ? wallet.selectedAccount.pending.gt(0) : walletService.hasPendingTransactions()\">\n                <ng-container *ngIf=\"walletService.processingPending else notProcessingPending\">\n                  <div class=\"nav-action-receive\" *ngIf=\"walletService.processingPending\">\n                    <div class=\"icon\" uk-icon=\"icon: chevron-up; ratio: 1.2;\"></div>\n                    <div class=\"label\"><span uk-spinner=\"ratio: 0.5;\"></span>Processing Transactions...</div>\n                  </div>\n                </ng-container>\n                <ng-template #notProcessingPending>\n                  <ng-container *ngIf=\" (settings.settings.pendingOption !== 'manual') else manuallyReceivingPending \">\n                    <div class=\"nav-action-receive user-action-required uk-animation-slide-left\" *ngIf=\"walletService.isLocked()\">\n                      <div class=\"icon\" uk-icon=\"icon: chevron-up; ratio: 1.2;\"></div>\n                      <div class=\"label\">Unlock Wallet to Receive</div>\n                    </div>\n                  </ng-container>\n                  <ng-template #manuallyReceivingPending>\n                    <div class=\"nav-action-receive uk-animation-slide-left\">\n                      <div class=\"icon\" uk-icon=\"icon: chevron-up; ratio: 1.2;\"></div>\n                      <div class=\"label\">Set to Receive Manually</div>\n                    </div>\n                  </ng-template>\n                </ng-template>\n                <div class=\"nav-nano-card incoming-card uk-animation-slide-left\">\n                  <div class=\"card-contents\">\n                    <div class=\"account-name-container\">\n                      <a routerLink=\"/receive\" class=\"name\">Incoming Balance</a>\n                    </div>\n                    <div class=\"account-balances\">\n                      <div class=\"balance-container primary\">\n                        <div class=\"currency-name\">CEVZ</div>\n                        <div class=\"amount-container\">\n                          <div class=\"amount-integer\">{{ (wallet.selectedAccount ? wallet.selectedAccount.pending : wallet.pending) | ceviz: 'mceviz,true' | amountsplit: 0 }}</div>\n                          <div class=\"amount-fractional\">{{ (wallet.selectedAccount ? wallet.selectedAccount.pending : wallet.pending) | ceviz: 'mceviz,true' | amountsplit: 1 }}</div>\n                        </div>\n                      </div>\n                      <div class=\"balance-container converted\" *ngIf=\"settings.settings.displayCurrency\">\n                        <div class=\"currency-name\"><span class=\"estimate-symbol\">~</span>{{ settings.settings.displayCurrency }}</div>\n                        <div class=\"amount-container\">\n                          <div class=\"amount-integer\">{{ (wallet.selectedAccount ? wallet.selectedAccount.pendingFiat : wallet.pendingFiat) | fiat: settings.settings.displayCurrency | amountsplit: 0 }}</div>\n                          <div class=\"amount-fractional\">{{ (wallet.selectedAccount ? wallet.selectedAccount.pendingFiat : wallet.pendingFiat) | fiat: settings.settings.displayCurrency | amountsplit: 1 }}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"nav-separator-top\"></div>\n              </ng-container>\n\n              <div class=\"nav-status-row\" *ngIf=\"(node.status === false) && isConfigured()\">\n                <div class=\"status-icon\">\n                  <span class=\"uk-text-danger\" uk-icon=\"icon: warning; ratio: 1.2;\"></span>\n                </div>\n                <div class=\"status-labels\" *ngIf=\"settings.settings.serverAPI\">\n                  <div class=\"label primary uk-text-danger\">Unable to connect to the server</div>\n                  <div class=\"label secondary\"><a (click)=\"retryConnection()\">Refresh</a> or <a routerLink=\"/configure-app\">select a different server</a></div>\n                </div>\n                <div class=\"status-labels\" *ngIf=\"!settings.settings.serverAPI\">\n                  <div class=\"label primary uk-text-danger\">Wallet is in offline mode</div>\n                  <div class=\"label secondary\"><a routerLink=\"/configure-app\">Select a server</a> to interact with the network</div>\n                </div>\n              </div>\n\n              <app-change-rep-widget *ngIf=\"isConfigured()\"></app-change-rep-widget>\n              <app-wallet-widget></app-wallet-widget>\n\n            </div>\n          </div>\n\n        </div>\n\n        <ul class=\"uk-nav uk-nav-default uk-nav-parent-icon left-nav\" uk-nav>\n          <li><a routerLink=\"/accounts\" routerLinkActive=\"active\"><div class=\"label\">Accounts</div></a></li>\n          <li><a routerLink=\"/send\" routerLinkActive=\"active\"><div class=\"label\">Send</div></a></li>\n          <li>\n            <a routerLink=\"/receive\" routerLinkActive=\"active\">\n              <div uk-grid>\n                <div class=\"uk-width-3-4\">\n                  <div class=\"label\">Receive</div>\n                </div>\n                <div class=\"uk-width-1-4 uk-text-center label-new\">\n                  <span *ngIf=\"walletService.hasPendingTransactions()\" class=\"uk-badge uk-text-top uk-align-center\"><div class=\"label\">New</div></span>\n                </div>\n              </div>\n            </a>\n          </li>\n          <li><a routerLink=\"/address-book\" routerLinkActive=\"active\"><div class=\"label\">Address Book</div></a></li>\n          <li><a routerLink=\"/qr-scan\" routerLinkActive=\"active\"><div class=\"label\">Scan QR Code</div></a></li>\n          <li class=\"uk-parent\">\n            <a href=\"#\">Settings</a>\n            <ul class=\"uk-nav-sub\">\n              <li><a routerLink=\"/representatives\" [queryParams]=\"\" routerLinkActive=\"active\"><div class=\"label\">Representatives</div></a></li>\n              <li><a routerLink=\"/configure-app\" routerLinkActive=\"active\"><div class=\"label\">App Settings</div></a></li>\n              <li><a routerLink=\"/manage-wallet\" routerLinkActive=\"active\"><div class=\"label\">Manage Wallet</div></a></li>\n              <li><a routerLink=\"/configure-wallet\" routerLinkActive=\"active\"><div class=\"label\">Configure New Wallet</div></a></li>\n            </ul>\n          </li>\n          <li class=\"uk-parent\">\n            <a href=\"#\">Advanced Tools</a>\n            <ul class=\"uk-nav-sub\">\n              <li><a routerLink=\"/sweeper\" routerLinkActive=\"active\"><div class=\"label\">Wallet Sweeper</div></a></li>\n              <li><a routerLink=\"/remote-signing\" routerLinkActive=\"active\"><div class=\"label\">Remote Signing</div></a></li>\n              <li><a routerLink=\"/converter\" routerLinkActive=\"active\"><div class=\"label\">Unit Converter</div></a></li>\n              <li><a routerLink=\"/qr-generator\" routerLinkActive=\"active\"><div class=\"label\">QR Generator</div></a></li>\n            </ul>\n          </li>\n        </ul>\n\n        <div class=\"nav-search\">\n          <form class=\"uk-search uk-search-default uk-width-1-1\">\n            <a href=\"javascript:void(0)\" (click)=\"performSearch()\" class=\"uk-search-icon-flip\" uk-search-icon></a>\n            <input class=\"uk-search-input uk-width-1-1\" id=\"search-input\" type=\"search\" placeholder=\"Search for an account or block hash\" [(ngModel)]=\"searchData\" name=\"searchData\" (keyup.enter)=\"performSearch()\">\n          </form>\n        </div>\n\n        <div class=\"footer uk-margin-remove-top\" uk-grid>\n          <div class=\"uk-width-1-1 uk-text-center\">\n            <a href=\"https://github.com/Nault/Nault\" uk-icon=\"icon: github-alt\" uk-tooltip title=\"View our GitHub\" class=\"footer-link\" target=\"_blank\" rel=\"noopener noreferrer\"></a>\n          </div>\n          <div class=\"attribution uk-width-1-1 uk-text-center\">\n            Based on <a href=\"https://github.com/cronoh/nanovault\" target=\"_blank\" rel=\"noopener noreferrer\">NanoVault</a>\n          </div>\n        </div>\n\n\n      </div>\n      <div class=\"uk-width-expand uk-width-1-1 content-container\" [class.nav-expanded]=\"navExpanded\" (click)=\"closeNav()\" style=\"background: #fff;\" [style.height]=\"windowHeight + 'px'\">\n        <div class=\"uk-panel uk-panel-scrollable uk-height-1-1\" style=\"border: 0; height: 100%;\">\n          <router-outlet></router-outlet>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<app-notifications></app-notifications>\n","import {Component, ElementRef, HostListener, OnInit, ViewChild} from '@angular/core';\nimport {WalletService} from './services/wallet.service';\nimport {AddressBookService} from './services/address-book.service';\nimport {AppSettingsService} from './services/app-settings.service';\nimport {WebsocketService} from './services/websocket.service';\nimport {PriceService} from './services/price.service';\nimport {NotificationService} from './services/notification.service';\nimport {WorkPoolService} from './services/work-pool.service';\nimport {Router} from '@angular/router';\nimport {RepresentativeService} from './services/representative.service';\nimport {NodeService} from './services/node.service';\nimport { LedgerService } from './services';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor(\n    public walletService: WalletService,\n    private addressBook: AddressBookService,\n    public settings: AppSettingsService,\n    private websocket: WebsocketService,\n    private notifications: NotificationService,\n    public nodeService: NodeService,\n    private representative: RepresentativeService,\n    private router: Router,\n    private workPool: WorkPoolService,\n    private ledger: LedgerService,\n    public price: PriceService) {\n      router.events.subscribe(() => {\n        this.navExpanded = false;\n      });\n    }\n\n  @ViewChild('selectButton') selectButton: ElementRef;\n  @ViewChild('accountsDropdown') accountsDropdown: ElementRef;\n\n  wallet = this.walletService.wallet;\n  node = this.nodeService.node;\n  cevizPrice = this.price.price;\n  fiatTimeout = 5 * 60 * 1000; // Update fiat prices every 5 minutes\n  inactiveSeconds = 0;\n  windowHeight = 1000;\n  navExpanded = false;\n  showAccountsDropdown = false;\n  searchData = '';\n  isConfigured = this.walletService.isConfigured;\n  @HostListener('window:resize', ['$event']) onResize (e) {\n    this.windowHeight = e.target.innerHeight;\n  }\n\n  @HostListener('document:mousedown', ['$event']) onGlobalClick(event): void {\n    if (\n            ( this.selectButton.nativeElement.contains(event.target) === false )\n          && ( this.accountsDropdown.nativeElement.contains(event.target) === false )\n      ) {\n        this.showAccountsDropdown = false;\n    }\n  }\n\n  async ngOnInit() {\n    this.windowHeight = window.innerHeight;\n    this.settings.loadAppSettings();\n\n    // New for v19: Patch saved ceviz_ prefixes to ceviz_\n    await this.patchXrbToCevizPrefixData();\n\n    this.addressBook.loadAddressBook();\n    this.workPool.loadWorkCache();\n\n    await this.walletService.loadStoredWallet();\n\n    // Navigate to accounts page if there is wallet, but only if coming from home\n    if (this.walletService.isConfigured() && window.location.pathname === '/') {\n      this.router.navigate(['accounts']);\n    }\n\n    // update selected account object with the latest balance, pending, etc\n    if (this.wallet.selectedAccountId) {\n      const currentUpdatedAccount = this.wallet.accounts.find(a => a.id === this.wallet.selectedAccountId);\n      this.wallet.selectedAccount = currentUpdatedAccount;\n    }\n\n    await this.walletService.reloadBalances(true);\n\n    // Workaround fix for github pages when Nault is refreshed (or externally linked) and there is a subpath for example to the send screen.\n    // This data is saved from the 404.html page\n    const path = localStorage.getItem('path');\n\n    if (path) {\n      const search = localStorage.getItem('query'); // ?param=value\n      const fragment = localStorage.getItem('fragment'); // #value\n      localStorage.removeItem('path');\n      localStorage.removeItem('query');\n      localStorage.removeItem('fragment');\n\n      if (search && search.length) {\n        const queryParams = {};\n        const urlSearch = new URLSearchParams(search);\n        urlSearch.forEach(function(value, key) {\n          queryParams[key] = value;\n        });\n        this.router.navigate([path], { queryParams: queryParams});\n      } else if (fragment && fragment.length) {\n        this.router.navigate([path], { fragment: fragment});\n      } else {\n        this.router.navigate([path]);\n      }\n    }\n\n    this.websocket.connect();\n\n    this.representative.loadRepresentativeList();\n\n    // If the wallet is locked and there is a pending balance, show a warning to unlock the wallet\n    // (if not receive priority is set to manual)\n    if (this.wallet.locked && this.walletService.hasPendingTransactions() && this.settings.settings.pendingOption !== 'manual') {\n      this.notifications.sendWarning(`New incoming transaction(s) - Unlock the wallet to receive`, { length: 10000, identifier: 'pending-locked' });\n    } else if (this.walletService.hasPendingTransactions() && this.settings.settings.pendingOption === 'manual') {\n      this.notifications.sendWarning(`Incoming transaction(s) found - Set to be received manually`, { length: 10000, identifier: 'pending-locked' });\n    }\n\n    // If they are using a Ledger device with a bad browser, warn them\n    if (this.walletService.isLedgerWallet() && this.ledger.isBrokenBrowser()) {\n      this.notifications.sendLedgerChromeWarning();\n    }\n\n    // When the page closes, determine if we should lock the wallet\n    window.addEventListener('beforeunload',  (e) => {\n      if (this.wallet.locked) return; // Already locked, nothing to worry about\n      this.walletService.lockWallet();\n    });\n    window.addEventListener('unload',  (e) => {\n      if (this.wallet.locked) return; // Already locked, nothing to worry about\n      this.walletService.lockWallet();\n    });\n\n    // Listen for an ceviz: protocol link, triggered by the desktop application\n    window.addEventListener('protocol-load', (e: CustomEvent) => {\n      const protocolText = e.detail;\n      const stripped = protocolText.split('').splice(4).join(''); // Remove ceviz:\n      if (stripped.startsWith('ceviz_')) {\n        this.router.navigate(['account', stripped]);\n      }\n      // Soon: Load seed, automatic send page?\n    });\n\n    // Check how long the wallet has been inactive, and lock it if it's been too long\n    setInterval(() => {\n      this.inactiveSeconds += 1;\n      if (!this.settings.settings.lockInactivityMinutes) return; // Do not lock on inactivity\n      if (this.wallet.locked || !this.wallet.password) return;\n\n      // Determine if we have been inactive for longer than our lock setting\n      if (this.inactiveSeconds >= this.settings.settings.lockInactivityMinutes * 60) {\n        this.walletService.lockWallet();\n        this.notifications.sendSuccess(`Wallet locked after ${this.settings.settings.lockInactivityMinutes} minutes of inactivity`);\n      }\n    }, 1000);\n\n    try {\n      if (!this.settings.settings.serverAPI) return;\n      await this.updateFiatPrices();\n    } catch (err) {\n      this.notifications.sendWarning(`There was an issue retrieving latest Ceviz price.  Ensure your AdBlocker is disabled on this page then reload to see accurate FIAT values.`, { length: 0, identifier: `price-adblock` });\n    }\n  }\n\n  /*\n    This is important as it looks through saved data using hardcoded ceviz_ prefixes\n    (Your wallet, address book, rep list, etc) and updates them to ceviz_ prefix for v19 RPC\n   */\n  async patchXrbToCevizPrefixData() {\n    // If wallet is version 2, data has already been patched.  Otherwise, patch all data\n    if (this.settings.settings.walletVersion >= 2) return;\n\n    await this.walletService.patchOldSavedData(); // Change saved ceviz_ addresses to ceviz_\n    this.addressBook.patchXrbPrefixData();\n    this.representative.patchXrbPrefixData();\n\n    this.settings.setAppSetting('walletVersion', 2); // Update wallet version so we do not patch in the future.\n  }\n\n  toggleNav() {\n    this.navExpanded = !this.navExpanded;\n  }\n\n  closeNav() {\n    this.navExpanded = false;\n  }\n\n  toggleAccountsDropdown() {\n    if (this.showAccountsDropdown === true) {\n      this.showAccountsDropdown = false;\n      return;\n    }\n\n    this.showAccountsDropdown = true;\n    this.accountsDropdown.nativeElement.scrollTop = 0;\n  }\n\n  selectAccount(account) {\n    // note: account is null when user is switching to 'Total Balance'\n    this.wallet.selectedAccountId = account ? account.id : null;\n    this.wallet.selectedAccount = account;\n    this.wallet.selectedAccount$.next(account);\n    this.toggleAccountsDropdown();\n    this.walletService.saveWalletExport();\n  }\n\n  performSearch() {\n    const searchData = this.searchData.trim();\n    if (!searchData.length) return;\n\n    if (searchData.startsWith('ceviz_')) {\n      this.router.navigate(['account', searchData]);\n    } else if (searchData.length === 64) {\n      this.router.navigate(['transaction', searchData]);\n    } else {\n      this.notifications.sendWarning(`Invalid Ceviz account or transaction hash!`);\n    }\n    this.searchData = '';\n  }\n\n  updateIdleTime() {\n    this.inactiveSeconds = 0; // Action has happened, reset the inactivity timer\n  }\n\n  retryConnection() {\n    if (!this.settings.settings.serverAPI) {\n      this.notifications.sendInfo(`Wallet server settings is set to offline mode. Please change server first!`);\n      return;\n    }\n    this.walletService.reloadBalances(true);\n    this.notifications.sendInfo(`Attempting to reconnect to Ceviz node`);\n  }\n\n  async updateFiatPrices() {\n    const displayCurrency = this.settings.getAppSetting(`displayCurrency`) || 'USD';\n    await this.price.getPrice(displayCurrency);\n    this.walletService.reloadFiatBalances();\n    setTimeout(() => this.updateFiatPrices(), this.fiatTimeout);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'amountsplit'\n})\nexport class AmountSplitPipe implements PipeTransform {\n  transform(input: string, idx: number): string {\n    const splitAmount = input.split('.')[idx];\n\n    if (idx === 0) {\n      // Integer\n      return splitAmount.replace('BTC ', '');\n    }\n\n    // Fractional\n\n    if (splitAmount == null) {\n      return '';\n    }\n\n    return ( '.' + splitAmount );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\n\n@Injectable()\nexport class ModalService {\n\n  showAccount$ = new BehaviorSubject(null);\n  constructor() { }\n\n  showAccount(account) {\n    this.showAccount$.next(account);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {PowService, baseThreshold} from './pow.service';\nimport {NotificationService} from './notification.service';\nimport {UtilService} from './util.service';\n\n@Injectable()\nexport class WorkPoolService {\n  storeKey = `nanovault-workcache`;\n\n  cacheLength = 25;\n  workCache = [];\n\n  constructor(private pow: PowService, private notifications: NotificationService, private util: UtilService) { }\n\n  public workExists(hash) {\n    return !!this.workCache.find(p => p.hash === hash);\n  }\n\n  // A simple helper, which doesn't wait for a response (Used for pre-loading work)\n  public addWorkToCache(hash, multiplier= 1) {\n    this.getWork(hash, multiplier);\n  }\n\n  // Remove a hash from from the cache\n  public removeFromCache(hash) {\n    const cachedIndex = this.workCache.findIndex(p => p.hash === hash);\n    if (cachedIndex === -1) return;\n\n    this.workCache.splice(cachedIndex, 1);\n    this.saveWorkCache();\n  }\n\n  public clearCache() {\n    this.workCache = [];\n    this.saveWorkCache();\n\n    return true;\n  }\n\n  public deleteCache() {\n    this.workCache = [];\n    localStorage.removeItem(this.storeKey);\n  }\n\n  // Get work for a hash.  Uses the cache, or the current setting for generating it.\n  public async getWork(hash, multiplier= 1) {\n    const cached = this.workCache.find(p => p.hash === hash);\n    if (cached && cached.work && this.util.ceviz.validateWork(hash, baseThreshold, cached.work)) {\n      console.log('Using cached work: ' + cached.work);\n      return cached.work;\n    }\n\n    const work = await this.pow.getPow(hash, multiplier);\n    if (!work) {\n      this.notifications.sendWarning(`Failed to retrieve work for ${hash}.  Try a different PoW method.`);\n      return null;\n    }\n\n    console.log('Work found: ' + work);\n    this.workCache.push({ hash, work });\n    if (this.workCache.length >= this.cacheLength) this.workCache.shift(); // Prune if we are at max length\n    this.saveWorkCache();\n\n    return work;\n  }\n\n  /**\n   * Save the work cache to localStorage\n   */\n  private saveWorkCache() {\n    // Remove duplicates by keeping the last updated work\n    this.workCache = this.uniqByKeepLast(this.workCache, it => it.hash);\n\n    localStorage.setItem(this.storeKey, JSON.stringify(this.workCache));\n  }\n\n  /**\n   * Load the work cache from localStorage\n   */\n  public loadWorkCache() {\n    let workCache = [];\n    const workCacheStore = localStorage.getItem(this.storeKey);\n    if (workCacheStore) {\n      workCache = JSON.parse(workCacheStore);\n    }\n    this.workCache = workCache;\n\n    return this.workCache;\n  }\n\n  /**\n   * Remove duplicates but keep the last one\n   * @param a array\n   * @param key it => it.hash\n   */\n  private uniqByKeepLast(a, key) {\n    return [\n        ...new Map(\n            a.map(x => [key(x), x])\n        ).values()\n    ];\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport {HttpClientModule} from '@angular/common/http';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {WelcomeComponent} from './welcome/welcome.component';\nimport {AppRoutingModule} from './app-routing.module';\nimport {UtilService} from './services/util.service';\nimport {WalletService} from './services/wallet.service';\nimport {ConfigureWalletComponent} from './components/configure-wallet/configure-wallet.component';\nimport {NotificationService} from './services/notification.service';\nimport {NotificationsComponent} from './components/notifications/notifications.component';\nimport {RaiPipe} from './pipes/rai.pipe';\nimport {AccountsComponent} from './components/accounts/accounts.component';\nimport {ApiService} from './services/api.service';\nimport {AddressBookService} from './services/address-book.service';\nimport {SendComponent} from './components/send/send.component';\nimport {SqueezePipe} from './pipes/squeeze.pipe';\nimport {ModalService} from './services/modal.service';\nimport {AddressBookComponent} from './components/address-book/address-book.component';\nimport {ClipboardModule} from 'ngx-clipboard';\nimport {ReceiveComponent} from './components/receive/receive.component';\nimport {WalletWidgetComponent} from './components/wallet-widget/wallet-widget.component';\nimport {ManageWalletComponent} from './components/manage-wallet/manage-wallet.component';\nimport {WorkPoolService} from './services/work-pool.service';\nimport {ConfigureAppComponent} from './components/configure-app/configure-app.component';\nimport {AppSettingsService} from './services/app-settings.service';\nimport {WebsocketService} from './services/websocket.service';\nimport {CevizBlockService} from './services/nano-block.service';\nimport { AccountDetailsComponent } from './components/account-details/account-details.component';\nimport { TransactionDetailsComponent } from './components/transaction-details/transaction-details.component';\nimport {PriceService} from './services/price.service';\nimport { FiatPipe } from './pipes/fiat.pipe';\nimport { AmountSplitPipe } from './pipes/amount-split.pipe';\nimport { ImportWalletComponent } from './components/import-wallet/import-wallet.component';\nimport { CevizAccountIdComponent } from './components/helpers/nano-account-id/nano-account-id.component';\nimport {PowService} from './services/pow.service';\nimport { ImportAddressBookComponent } from './components/import-address-book/import-address-book.component';\nimport { CurrencySymbolPipe } from './pipes/currency-symbol.pipe';\nimport { RepresentativesComponent } from './components/representatives/representatives.component';\nimport {RepresentativeService} from './services/representative.service';\nimport {ManageRepresentativesComponent} from './components/manage-representatives/manage-representatives.component';\nimport {NodeService} from './services/node.service';\nimport {LedgerService} from './services/ledger.service';\nimport {DesktopService} from './services/desktop.service';\nimport { AccountPipe } from './pipes/account.pipe';\nimport { ChangeRepWidgetComponent } from './components/change-rep-widget/change-rep-widget.component';\nimport { SweeperComponent } from './components/sweeper/sweeper.component';\nimport { QrScanComponent } from './components/qr-scan/qr-scan.component';\nimport {SignComponent} from './components/sign/sign.component';\nimport {RemoteSigningComponent} from './components/remote-signing/remote-signing.component';\nimport {RemoteSignService} from './services/remote-sign.service';\nimport { QrModalComponent } from './components/qr-modal/qr-modal.component';\nimport { QrModalService } from './services/qr-modal.service';\nimport { NgbModule, NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { PasswordStrengthMeterModule } from 'angular-password-strength-meter';\n\n// QR code module\nimport { ZXingScannerModule } from '@zxing/ngx-scanner';\nimport { NinjaService } from './services';\nimport { ConverterComponent } from './components/converter/converter.component';\nimport { QrGeneratorComponent } from './components/qr-generator/qr-generator.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WelcomeComponent,\n    ConfigureWalletComponent,\n    NotificationsComponent,\n    RaiPipe,\n    SqueezePipe,\n    AccountsComponent,\n    SendComponent,\n    AddressBookComponent,\n    ReceiveComponent,\n    WalletWidgetComponent,\n    ManageWalletComponent,\n    ConfigureAppComponent,\n    AccountDetailsComponent,\n    TransactionDetailsComponent,\n    FiatPipe,\n    AmountSplitPipe,\n    ImportWalletComponent,\n    CevizAccountIdComponent,\n    ImportAddressBookComponent,\n    CurrencySymbolPipe,\n    RepresentativesComponent,\n    ManageRepresentativesComponent,\n    AccountPipe,\n    ChangeRepWidgetComponent,\n    SweeperComponent,\n    QrScanComponent,\n    SignComponent,\n    RemoteSigningComponent,\n    QrModalComponent,\n    ConverterComponent,\n    QrGeneratorComponent,\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n    FormsModule,\n    ClipboardModule,\n    ZXingScannerModule,\n    NgbModule,\n    PasswordStrengthMeterModule,\n  ],\n  providers: [\n    UtilService,\n    WalletService,\n    NotificationService,\n    ApiService,\n    AddressBookService,\n    ModalService,\n    WorkPoolService,\n    AppSettingsService,\n    WebsocketService,\n    CevizBlockService,\n    PriceService,\n    PowService,\n    RepresentativeService,\n    NodeService,\n    LedgerService,\n    DesktopService,\n    RemoteSignService,\n    NinjaService,\n    NgbActiveModal,\n    QrModalService,\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<div class=\"nav-representative-info\" *ngIf=\"(displayedRepresentatives.length > 0) else noRepresentatives\">\n  <div class=\"representative\" *ngFor=\"let rep of displayedRepresentatives; let repIdx = index\" (mouseover)=\"showRepHelp=rep.id\" (mouseout)=\"showRepHelp=null\">\n    <h2>Representative{{\n        (repIdx !== 0)\n      ? (\n          ' for '\n        + (\n            rep.accounts[0].addressBookName\n          ? ( '\"' + rep.accounts[0].addressBookName + '\"' )\n          : ( rep.accounts[0].id.slice(0, 10) + '...' )\n        )\n      )\n      : ''\n    }}</h2>\n    <div class=\"representative-name-row\">\n      <a (click)=\"showRepSelectionForSpecificRep(rep)\" class=\"name\">{{ rep.label || 'Unknown Rep' }}</a>\n      <div class=\"weight-total\" *ngIf=\"!rep.percent.isZero()\">{{ rep.percent.toFixed(2) }}%</div>\n    </div>\n    <ng-container [ngSwitch]=\"true\">\n      <div class=\"representative-health-row health-green\" *ngSwitchCase=\"(rep.statusText == 'trusted')\">\n        <div class=\"health-icon\"></div>\n        <div class=\"label\">Good Representative</div>\n      </div>\n      <div class=\"representative-health-row health-green\" *ngSwitchCase=\"(rep.statusText == 'ok')\">\n        <div class=\"health-icon\"></div>\n        <div class=\"label\">Good Representative</div>\n      </div>\n      <div class=\"representative-health-row health-yellow\" *ngSwitchCase=\"(rep.statusText == 'warn')\">\n        <div class=\"health-icon\"></div>\n        <div class=\"label\">Acceptable Representative</div>\n      </div>\n      <div class=\"representative-health-row health-red\" *ngSwitchCase=\"(rep.statusText == 'alert')\">\n        <div class=\"health-icon\"></div>\n        <div class=\"label\">Bad Representative</div>\n      </div>\n      <div class=\"representative-health-row health-unknown\" *ngSwitchDefault>\n        <div class=\"health-icon\"></div>\n        <div class=\"label\">Unknown Status</div>\n      </div>\n    </ng-container>\n    <div [class]=\"[ 'representative-help-tooltip', showRepHelp==rep.id ? 'visible' : 'hidden' ]\">\n      <p class=\"primary\"><b>{{ rep.label || 'Unknown Rep' }}</b> represents you in the Ceviz consensus protocol by voting on your behalf.</p>\n      <p>You can change representative at any time by clicking on its name above.</p>\n      <div class=\"header-row\">\n        <div class=\"separator\"></div>\n        <h2>Health</h2>\n        <div class=\"separator\"></div>\n      </div>\n      <p class=\"uk-text-danger\" *ngIf=\"rep.status.markedToAvoid\">\n        <span uk-icon=\"icon: warning;\"></span>This representative is <b>marked as \"avoid\"</b> in the list of known reps.\n      </p>\n      <p class=\"uk-text-danger\" *ngIf=\"rep.status.veryHighWeight\">\n        <span uk-icon=\"icon: warning;\"></span>This representative has a <b>very high voting weight</b> (over 3%).\n      </p>\n      <p class=\"uk-text-warning\" *ngIf=\"rep.status.highWeight\">\n        <span uk-icon=\"icon: warning;\"></span>This representative has a <b>high voting weight</b> (over 2%).\n      </p>\n      <p class=\"uk-text-danger\" *ngIf=\"rep.status.veryLowUptime && rep.status.uptime > 0\">\n        <span uk-icon=\"icon: warning;\"></span>This representative is <b>often offline</b> ({{ rep.status.uptime.toFixed(1) }}% uptime).\n      </p>\n      <p class=\"uk-text-warning\" *ngIf=\"rep.status.lowUptime && rep.status.uptime > 0\">\n        <span uk-icon=\"icon: warning;\"></span>This representative is <b>sometimes offline</b> ({{ rep.status.uptime.toFixed(1) }}% uptime).\n      </p>\n      <p class=\"uk-text-danger\" *ngIf=\"!rep.status.online && rep.status.uptime === 0\">\n        <span uk-icon=\"icon: warning;\"></span>This representative has been <b>offline for the past {{ rep.status.daysSinceLastVoted }} days</b>.\n      </p>\n      <ng-container [ngSwitch]=\"true\">\n        <p *ngSwitchCase=\"(rep.statusText == 'trusted')\">\n          You have marked this representative as trusted, meaning its status will remain \"Good\" even in case of severe issues with uptime or weight distribution.\n        </p>\n        <p class=\"uk-text-success\" *ngSwitchCase=\"(rep.statusText == 'ok')\">\n          <span uk-icon=\"icon: check;\"></span>We found no issues with uptime or weight distribution of your current representative.\n        </p>\n        <p *ngSwitchCase=\"(rep.statusText == 'warn')\">\n          Switching to a different representative could improve security and decentralization of the Ceviz network.\n        </p>\n        <p *ngSwitchCase=\"(rep.statusText == 'alert')\">\n          It is <b>highly advised</b> to switch to a different representative, in order to improve security and decentralization of the Ceviz network.\n        </p>\n        <p *ngSwitchDefault>\n          <span uk-icon=\"icon: question;\"></span>We could not determine status of this representative.\n        </p>\n      </ng-container>\n    </div>\n  </div>\n</div>\n<ng-template #noRepresentatives>\n  <div class=\"nav-representative-info\" *ngIf=\"(!initialLoadComplete || selectedAccountHasRepresentative) else selectedAccountHasNoRep\">\n    <div class=\"representative\">\n      <h2>Representative</h2>\n      <div class=\"representative-name-row\">\n        <div class=\"name no-interact\">Loading...</div>\n      </div>\n      <div class=\"representative-health-row health-unknown health-loading\">\n        <div uk-spinner=\"ratio: 0.5;\"></div>\n        <div class=\"label\">Checking Status...</div>\n      </div>\n    </div>\n  </div>\n  <ng-template #selectedAccountHasNoRep>\n    <div class=\"nav-representative-info\">\n      <div class=\"representative\">\n        <h2>Representative</h2>\n        <div class=\"representative-name-row\">\n          <div class=\"name no-interact\">None</div>\n        </div>\n        <div class=\"representative-health-row health-unknown\">\n          <div class=\"health-icon\"></div>\n          <div class=\"label\">Receive a transaction to configure</div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</ng-template>\n\n<div class=\"nav-status-row interactable uk-animation-slide-left\" (click)=\"showRepSelectionForAllChangeableReps()\" *ngIf=\"showRepChangeRequired\">\n  <div class=\"status-icon\">\n    <span class=\"uk-text-warning\" uk-icon=\"icon: warning; ratio: 1.2;\"></span>\n  </div>\n  <div class=\"status-labels\">\n    <div class=\"label primary uk-text-warning\">Representative Change Required</div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {WalletService} from '../../services/wallet.service';\nimport {CevizBlockService} from '../../services/nano-block.service';\nimport {RepresentativeService} from '../../services/representative.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-change-rep-widget',\n  templateUrl: './change-rep-widget.component.html',\n  styleUrls: ['./change-rep-widget.component.css']\n})\nexport class ChangeRepWidgetComponent implements OnInit {\n\n  changeableRepresentatives = this.repService.changeableReps;\n  displayedRepresentatives = [];\n  representatives = [];\n  showRepChangeRequired = false;\n  showRepHelp = false;\n  selectedAccount = null;\n  selectedAccountHasRep = false;\n  initialLoadComplete = false;\n\n  constructor(\n    private walletService: WalletService,\n    private blockService: CevizBlockService,\n    private repService: RepresentativeService,\n    private router: Router\n    ) { }\n\n  async ngOnInit() {\n    this.repService.walletReps$.subscribe(async reps => {\n      if ( reps[0] === null ) {\n        // initial state from new BehaviorSubject([null])\n        return;\n      }\n\n      this.representatives = reps;\n      await this.updateChangeableRepresentatives();\n      this.updateDisplayedRepresentatives();\n      this.initialLoadComplete = true;\n    });\n\n    this.walletService.wallet.selectedAccount$.subscribe(async acc => {\n      this.selectedAccount = acc;\n      this.updateDisplayedRepresentatives();\n    });\n\n    // Detect if a wallet is reset\n    this.walletService.wallet.newWallet$.subscribe(shouldReload => {\n      if (shouldReload) {\n        this.resetRepresentatives();\n      }\n    });\n\n    // Detect if a new open block is received\n    this.blockService.newOpenBlock$.subscribe(async shouldReload => {\n      if (shouldReload) {\n        await this.repService.getRepresentativesOverview(); // calls walletReps$.next\n      }\n    });\n\n    this.repService.changeableReps$.subscribe(async reps => {\n      // Includes both acceptable and bad reps\n      // When user clicks 'Rep Change Required' action, acceptable reps will also be included\n      this.changeableRepresentatives = reps;\n\n      // However 'Rep Change Required' action will only appear when there is at least one bad rep\n      this.showRepChangeRequired = reps.some(rep => (rep.status.changeRequired === true));\n\n      this.updateDisplayedRepresentatives();\n    });\n\n    this.selectedAccount = this.walletService.wallet.selectedAccount;\n    this.updateSelectedAccountHasRep();\n    await this.repService.getRepresentativesOverview(); // calls walletReps$.next\n  }\n\n  async resetRepresentatives() {\n    console.log('Reloading representatives..');\n    this.initialLoadComplete = false;\n    this.selectedAccount = null;\n    this.representatives = [];\n    this.changeableRepresentatives = [];\n    this.showRepChangeRequired = false;\n    this.updateDisplayedRepresentatives();\n    await this.repService.getRepresentativesOverview(); // calls walletReps$.next\n    console.log('Representatives reloaded');\n  }\n\n  async updateChangeableRepresentatives() {\n    await this.repService.detectChangeableReps(this.representatives);\n  }\n\n  updateDisplayedRepresentatives() {\n    this.updateSelectedAccountHasRep();\n    this.displayedRepresentatives = this.getDisplayedRepresentatives(this.representatives);\n  }\n\n  includeRepRequiringChange(displayedReps: any[]) {\n    const repRequiringChange =\n      this.changeableRepresentatives\n        .sort((a, b) => b.delegatedWeight.minus(a.delegatedWeight))\n        .filter(\n          (changeableRep) => (\n              (changeableRep.status.changeRequired === true)\n            && displayedReps.every(\n              (displayedRep) =>\n                (displayedRep.id !== changeableRep.id)\n            )\n          )\n        )[0];\n\n    if (repRequiringChange == null) {\n      return [...displayedReps];\n    }\n\n    return [ ...displayedReps, Object.assign({}, repRequiringChange) ];\n  }\n\n  updateSelectedAccountHasRep() {\n    if (this.selectedAccount != null) {\n      this.selectedAccountHasRep = !!this.selectedAccount.frontier;\n      return;\n    }\n\n    this.selectedAccountHasRep =\n      this.walletService.wallet.accounts.some(\n        (acc) =>\n          (acc.frontier)\n      );\n  }\n\n  getDisplayedRepresentatives(representatives: any[]) {\n    if (this.representatives.length === 0) {\n      return [];\n    }\n\n    if (this.selectedAccount !== null) {\n      const selectedAccountRep =\n        this.representatives\n          .filter(\n            (rep) =>\n              rep.accounts.some(\n                (a) =>\n                  (a.id === this.selectedAccount.id)\n              )\n          )[0];\n\n      if (selectedAccountRep == null) {\n        return [];\n      }\n\n      const displayedRepsAllAccounts = [ Object.assign( {}, selectedAccountRep ) ];\n\n      return this.includeRepRequiringChange(displayedRepsAllAccounts);\n    }\n\n    const sortedRepresentatives: any[] = [...representatives];\n\n    sortedRepresentatives.sort((a, b) => b.delegatedWeight.minus(a.delegatedWeight));\n\n    const displayedReps = [ Object.assign( {}, sortedRepresentatives[0] ) ];\n\n    return this.includeRepRequiringChange(displayedReps);\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  showRepSelectionForSpecificRep(clickedRep) {\n    this.showRepHelp = false;\n    const accountsToChangeRepFor = (\n        (\n            (this.selectedAccount !== null)\n          && clickedRep.accounts.some(a => (a.id === this.selectedAccount.id))\n        )\n      ? this.selectedAccount.id\n      : ( // all accounts that delegate to this rep\n        this.representatives\n          .filter(\n            (rep) =>\n              (rep.id === clickedRep.id)\n          )\n          .map(\n            (rep) =>\n              rep.accounts.map(a => a.id).join(',')\n          )\n          .join(',')\n      )\n    );\n\n    this.router.navigate(['/representatives'], {\n      queryParams: { hideOverview: true, accounts: accountsToChangeRepFor, showRecommended: true }\n    });\n  }\n\n  showRepSelectionForAllChangeableReps() {\n    const allAccounts = this.changeableRepresentatives.map(rep => rep.accounts.map(a => a.id).join(',')).join(',');\n\n    this.router.navigate(['/representatives'], { queryParams: { hideOverview: true, accounts: allAccounts, showRecommended: true } });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {AppSettingsService} from './app-settings.service';\nimport {ApiService} from './api.service';\nimport {NotificationService} from './notification.service';\nimport { PoWSource } from './app-settings.service';\nimport Worker from 'worker-loader!./../../assets/lib/cpupow.js';\nimport {UtilService} from './util.service';\n\nconst mod = window['Module'];\nexport const baseThreshold = 'fffffff800000000'; // threshold since v21 epoch update\nconst hardwareConcurrency = window.navigator.hardwareConcurrency || 2;\nconst workerCount = Math.max(hardwareConcurrency - 1, 1);\nlet workerList = [];\n\n@Injectable()\nexport class PowService {\n\n  webGLAvailable = false;\n  webGLTested = false;\n\n  PoWPool = [];\n  parallelQueue = false;\n  processingQueueItem = false;\n\n  constructor(\n    private appSettings: AppSettingsService,\n    private api: ApiService,\n    private notifications: NotificationService,\n    private util: UtilService\n  ) { }\n\n  /**\n   * Determine the best PoW Method available for this browser\n   */\n  determineBestPoWMethod(): PoWSource {\n    // if (this.hasWebGLSupport()) return 'clientWebGL';\n    // if (this.hasWorkerSupport()) return 'clientCPU'; // For now, server is better than a CPU default (For Mobile)\n\n    return 'server';\n  }\n\n  /**\n   * Get PoW for a hash.  If it's already being processed, return the promise.\n   * Otherwise, add it into the queue and return when it is ready\n   */\n  async getPow(hash, multiplier) {\n    const existingPoW = this.PoWPool.find(p => p.hash === hash);\n    if (existingPoW) {\n      return existingPoW.promise.promise; // Its okay if its resolved already\n    }\n\n    return this.addQueueItem(hash, multiplier);\n  }\n\n  /**\n   * Add a new hash into the queue to perform work on.\n   * Returns a promise that is resolved when work is completed\n   */\n  addQueueItem(hash, multiplier) {\n    const existingPoW = this.PoWPool.find(p => p.hash === hash);\n    if (existingPoW) {\n      return existingPoW.promise.promise;\n    }\n\n    const queueItem = {\n      hash,\n      work: null,\n      promise: this.getDeferredPromise(),\n      multiplier: multiplier,\n    };\n\n    this.PoWPool.push(queueItem);\n    this.processQueue();\n\n    return queueItem.promise.promise;\n  }\n\n  /**\n   * Determine if the browser has WebWorker support\n   * @returns {boolean}\n   */\n  public hasWorkerSupport() {\n    return !!window['Worker'];\n  }\n\n  /**\n   * Determine if the browser has WebGL support\n   * @returns {boolean}\n   */\n  public hasWebGLSupport() {\n    if (this.webGLTested) return this.webGLAvailable;\n\n    this.webGLTested = true;\n\n    try {\n      const canvas = document.createElement( 'canvas' );\n      const webGL = !! window['WebGLRenderingContext'] && (canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ));\n      this.webGLAvailable = !!webGL;\n      return this.webGLAvailable;\n    } catch (e) {\n      this.webGLAvailable = false;\n      return false;\n    }\n  }\n\n  /**\n   * Gets the next item in the queue and sends it to be processed\n   */\n  private processQueue() {\n    if (!this.PoWPool.length) return; // No items in the queue\n    if (this.parallelQueue) return; // Not yet implemented\n\n    if (this.processingQueueItem) return; // Already processing.\n\n    // Get the next item from the queue and process it\n    this.processNextQueueItem();\n  }\n\n  /**\n   * Process an individual hash from the queue\n   * Uses the latest app settings to determine which type of PoW to use\n   */\n  private async processNextQueueItem() {\n    this.processingQueueItem = true;\n    if (!this.PoWPool.length) return; // Nothing in the queue?\n    const queueItem = this.PoWPool[0];\n\n    let powSource = this.appSettings.settings.powSource;\n    if (powSource === 'best') {\n      powSource = this.determineBestPoWMethod();\n    }\n\n    let work;\n    switch (powSource) {\n      default:\n      case 'server':\n        work = this.getHashServer(queueItem.hash, queueItem.multiplier);\n        break;\n      case 'clientCPU':\n        work = await this.getHashCPUWorker(queueItem.hash, queueItem.multiplier);\n        break;\n      case 'clientWebGL':\n        work = await this.getHashWebGL(queueItem.hash, queueItem.multiplier);\n        break;\n    }\n\n    this.PoWPool.shift(); // Remove this item from the queue\n    this.processingQueueItem = false;\n\n    if (!work) {\n      this.notifications.sendError(`Unable to generate work for ${queueItem.hash} using ${powSource}`);\n      queueItem.promise.reject(null);\n    } else {\n      queueItem.work = work;\n      queueItem.promise.resolve(work);\n    }\n\n    this.processQueue();\n\n    return queueItem;\n  }\n\n  /**\n   * Actual PoW functions\n   */\n  async getHashServer(hash, multiplier) {\n    const newThreshold = this.util.ceviz.difficultyFromMultiplier(multiplier, baseThreshold);\n    console.log('Generating work at threshold ' + newThreshold + ' using remote server', hash);\n    return await this.api.workGenerate(hash)\n    .then(work => work.work)\n    .catch(async err => await this.getHashCPUWorker(hash, multiplier));\n  }\n\n  /**\n   * Generate PoW using CPU without workers (Not used)\n   */\n  getHashCPUSync(hash) {\n    const response = this.getDeferredPromise();\n\n    const PoW = mod.cwrap('launchPoW', 'string', ['string']);\n    const start = Date.now();\n    let work;\n    do { work = PoW(hash); } while (work === '0000000000000000');\n    console.log(`Synchronous CPU: Found work (${work}) for ${hash} after ${(Date.now() - start) / 1000} seconds`);\n\n    response.resolve(work);\n    return response.promise;\n  }\n\n  /**\n   * Generate PoW using CPU and WebWorkers\n   */\n  async getHashCPUWorker(hash, multiplier) {\n    // console.log('Generating work using CPU for', hash);\n\n    const response = this.getDeferredPromise();\n\n    const start = Date.now();\n    // -- OLD CPU CODE THAT CANT DEFINE THRESHOLD-- //\n    /*\n    const NUM_THREADS = navigator.hardwareConcurrency < 4 ? navigator.hardwareConcurrency : 4;\n    const workers = window['pow_initiate'](NUM_THREADS, '/assets/lib/pow/');\n\n    window['pow_callback'](workers, hash, () => {}, (work) => {\n      console.log(`CPU Worker: Found work (${work}) for ${hash} after ${(Date.now() - start) / 1000} seconds [${NUM_THREADS} Workers]`);\n      response.resolve(work);\n    });\n    */\n\n    // calculate threshold from multiplier\n    const newThreshold = this.util.ceviz.difficultyFromMultiplier(multiplier, baseThreshold);\n\n    const work = () => new Promise(resolve => {\n      console.log('Generating work at threshold ' + newThreshold + ' using CPU workers for', hash);\n      workerList = [];\n      for (let i = 0; i < workerCount; i++) {\n        // const worker = new Worker()\n        const worker = new (Worker as any)();\n        worker.postMessage({\n          blockHash: hash,\n          workerIndex: i,\n          workerCount: workerCount,\n          workThreshold: newThreshold,\n        });\n        worker.onmessage = (workerwork) => {\n          console.log(`CPU Worker: Found work (${workerwork.data}) for ${hash} after ${(Date.now() - start) / 1000} seconds [${workerCount} Workers]`);\n          response.resolve(workerwork.data);\n          for (const workerIndex in workerList) {\n            if (Object.prototype.hasOwnProperty.call(workerList, workerIndex)) {\n              workerList[workerIndex].terminate();\n            }\n          }\n          resolve();\n        };\n        workerList.push(worker);\n      }\n    });\n    await work();\n\n    return response.promise;\n  }\n\n  /**\n   * Generate PoW using WebGL\n   */\n  getHashWebGL(hash, multiplier) {\n    const newThreshold = this.util.ceviz.difficultyFromMultiplier(multiplier, baseThreshold);\n    console.log('Generating work at threshold ' + newThreshold + ' using WebGL for', hash);\n\n    const response = this.getDeferredPromise();\n\n    const start = Date.now();\n    try {\n      window['NanoWebglPow'](hash, (work, n) => {\n          console.log(`WebGL Worker: Found work (${work}) for ${hash} after ${(Date.now() - start) / 1000} seconds [${n} iterations]`);\n          response.resolve(work);\n        },\n        n => {},\n        '0x' + newThreshold.substring(0, 8).toUpperCase() // max threshold for webglpow is currently ffffffff00000000\n      );\n    } catch (error) {\n      if (error.message === 'webgl2_required') {\n        this.webGLAvailable = false;\n      }\n      response.resolve(null);\n      // response.reject(error);\n    }\n\n    return response.promise;\n  }\n\n\n  // Helper for returning a deferred promise that we can resolve when work is ready\n  private getDeferredPromise() {\n    const defer = {\n      promise: null,\n      resolve: null,\n      reject: null,\n    };\n\n    defer.promise = new Promise((resolve, reject) => {\n      defer.resolve = resolve;\n      defer.reject = reject;\n    });\n\n    return defer;\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {CurrencyPipe} from '@angular/common';\nimport {BigNumber} from 'bignumber.js';\n\n@Pipe({\n  name: 'fiat'\n})\nexport class FiatPipe extends CurrencyPipe implements PipeTransform {\n  transform(value: any, currencyCode?: string, display?:\n    'code' | 'symbol' | 'symbol-narrow' | string | boolean, digits?: string, locale?: string): any {\n    if (currencyCode === '') {\n      return ``;\n    }\n    if (currencyCode === 'BTC') {\n      return `BTC ${new BigNumber(Number(value).toFixed(4) || 0).toFixed(6)}`;\n    }\n    return super.transform(value, currencyCode, 'symbol-narrow', digits, locale);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {NotificationService} from './notification.service';\nimport { IpcRenderer } from 'electron';\n\n@Injectable()\nexport class DesktopService {\n\n  private _ipc: IpcRenderer | undefined;\n\n  constructor(private notifications: NotificationService) {\n    if (window.require) {\n      try {\n        this._ipc = window.require('electron').ipcRenderer;\n        console.log('IPC loaded');\n      } catch (e) {\n        throw e;\n      }\n    }\n  }\n\n  connect() {\n  }\n\n  on(channel: string, listener) {\n    if (!this._ipc) return false;\n    this._ipc.on(channel, listener);\n    return true;\n  }\n\n  send(channel: string, ...args) {\n    if (!this._ipc) return false;\n    this._ipc.send(channel, ...args);\n    return true;\n  }\n\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n      <h2 class=\"uk-heading-divider\">Receive Ceviz</h2>\n\n      <div class=\"uk-width-1-1 nlt-page-intro\">\n        <p>\n          Select an account to show the deposit QR.\n        </p>\n        <p>\n          Funds should be received automatically if the wallet is unlocked. If not, you can try find them and receive manually.\n        </p>\n        <p>\n          You can also find full transaction history under <a routerLink=\"/accounts\" routerLinkActive=\"active\">Accounts</a>.\n        </p>\n      </div>\n\n    <div uk-grid>\n      <div class=\"uk-width-3-4@s\">\n        <select class=\"uk-select\" [(ngModel)]=\"pendingAccountModel\" (change)=\"changeQRAccount(pendingAccountModel)\">\n          <option [value]=\"0\">All Accounts</option>\n          <option *ngFor=\"let account of accounts\" [value]=\"account.id\">{{account.addressBookName ? account.addressBookName + ' - ' : '#' + account.index + ' - ' }} {{ account.id | squeeze }} ({{ account.balance | ceviz: settings.settings.displayDenomination }})</option>\n        </select>\n      </div>\n      <div class=\"uk-width-auto@s\">\n        <button class=\"uk-button uk-button-primary uk-width-1-1\" (click)=\"getPending()\"> Find Incoming</button>\n      </div>\n      <div *ngIf=\"qrCodeImage\" class=\"uk-width-3-4@s narrow-div\">\n        <input [(ngModel)]=\"receiveAmount\" class=\"uk-input uk-margin-small-bottom\" type=\"text\" (ngModelChange)=\"changeQRAmount(receiveAmount)\" title=\"Amount to be included in the QR and read by the sending wallet.\" placeholder=\"Optional Ceviz amount\">\n      </div>\n      <div *ngIf=\"qrCodeImage\" class=\"uk-width-1-1@s narrow-div\">\n        <img [src]=\"qrCodeImage\" alt=\"QR code\"><br>\n        <div class=\"uk-flex\">\n          <app-nano-account-id [accountID]=\"pendingAccountModel\" class=\"uk-width-auto\" style=\"max-width: 90%;\"></app-nano-account-id>\n          <a class=\"span-icon\" ngxClipboard [cbContent]=\"pendingAccountModel\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a>\n        </div>\n      </div>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default\">\n          <table class=\"uk-table uk-table-striped uk-table-small\">\n            <thead>\n            <tr>\n              <th scope=\"col\">Account</th>\n              <th scope=\"col\">Sender</th>\n              <th scope=\"col\">Amount</th>\n              <th scope=\"col\">Options</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor=\"let block of pendingBlocks\">\n              <td *ngIf=\"block.account == pendingAccountModel || pendingAccountModel === '0'\" class=\"uk-visible-toggle\">\n                <div uk-grid>\n                  <div class=\"uk-width-auto uk-text-truncate\">\n                    <a [routerLink]=\"'/account/' + block.account\" class=\"uk-link-text\" title=\"View Account Details\" uk-tooltip>\n                      <app-nano-account-id [accountID]=\"block.account\" middle=\"off\"></app-nano-account-id>\n                    </a>\n                  </div>\n                  <div class=\"uk-width-auto\" style=\"padding-left: 10px;\">\n                    <ul class=\"uk-iconnav\">\n                      <li><a ngxClipboard [cbContent]=\"block.account\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                    </ul>\n                  </div>\n                </div>\n              </td>\n              <td *ngIf=\"block.account == pendingAccountModel || pendingAccountModel === '0'\" class=\"uk-visible-toggle\">\n                <div uk-grid>\n                  <div class=\"uk-width-auto uk-text-truncate\" style=\"max-width: calc(100% - 35px);\">\n                    <a [routerLink]=\"'/account/' + block.source\" class=\"uk-link-text\" title=\"View Account Details\" uk-tooltip>\n                      <app-nano-account-id [accountID]=\"block.source\" middle=\"off\"></app-nano-account-id>\n                    </a>\n                  </div>\n                  <div class=\"uk-width-auto\" style=\"padding-left: 10px;\">\n                    <ul class=\"uk-iconnav\">\n                      <li><a ngxClipboard [cbContent]=\"block.source\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                    </ul>\n                  </div>\n                </div>\n              </td>\n              <td *ngIf=\"block.account == pendingAccountModel || pendingAccountModel === '0'\">\n                {{ block.amount | ceviz: settings.settings.displayDenomination }}\n                <div *ngIf=\"toBigNumber(block.amount).mod(nano).gt(0)\">\n                  <span *ngIf=\"toBigNumber(block.amount); let rawAmount\" style=\"display: block; font-size: 12px;\" class=\"uk-text-muted\">+{{ rawAmount.mod(nano).toString(10) }} raw</span>\n                </div>\n              </td>\n              <td *ngIf=\"block.account == pendingAccountModel || pendingAccountModel === '0'\" class=\"uk-text-nowrap\">\n                <button *ngIf=\"!block.loading\" (click)=\"receivePending(block)\" class=\"uk-button uk-button-secondary uk-button-small\">Receive</button>\n                <button *ngIf=\"block.loading\" class=\"uk-button uk-button-secondary uk-disabled uk-button-small\"><span class=\"uk-margin-right\" uk-spinner></span> Loading</button>\n              </td>\n            </tr>\n            <tr *ngIf=\"!loadingIncomingTxList && !pendingBlocks.length && ((pendingAccountModel === '0' && pendingBelowThreshold.length > 0 && !pendingBelowThreshold[0].gt(0)) || (pendingAccountModel !== '0' && walletAccount && walletAccount.pendingBelowThreshold.length > 0 && !walletAccount.pendingBelowThreshold[0].gt(0)))\">\n              <td colspan=\"4\" style=\"text-align: center;\">No incoming transactions</td>\n            </tr>\n            <tr *ngIf=\"pendingAccountModel === '0' && pendingBelowThreshold.length > 0 && pendingBelowThreshold[0].gt(0)\">\n              <td colspan=\"4\" style=\"text-align: center;\">Some transactions ({{pendingBelowThreshold[0] | ceviz: settings.settings.displayDenomination}} total) were hidden due to a Minimum Receive Amount of {{minAmount | ceviz: settings.settings.displayDenomination}} <a routerLink=\"/configure-app\" routerLinkActive=\"active\">(configure)</a></td>\n            </tr>\n            <tr *ngIf=\"pendingAccountModel !== '0' && walletAccount && walletAccount.pendingBelowThreshold.length > 0 && walletAccount.pendingBelowThreshold[0].gt(0)\">\n              <td colspan=\"4\" style=\"text-align: center;\">Some transactions ({{walletAccount.pendingBelowThreshold[0] | ceviz: settings.settings.displayDenomination}} total) were hidden due to a Minimum Receive Amount of {{minAmount | ceviz: settings.settings.displayDenomination}} <a routerLink=\"/configure-app\" routerLinkActive=\"active\">(configure)</a></td>\n            </tr>\n            <tr *ngIf=\"loadingIncomingTxList\">\n              <td colspan=\"4\" style=\"text-align: center;\"><span class=\"uk-margin-right\" uk-spinner></span> Loading incoming transactions...</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {WalletService, WalletAccount} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {ModalService} from '../../services/modal.service';\nimport {ApiService} from '../../services/api.service';\nimport {UtilService} from '../../services/util.service';\nimport {WorkPoolService} from '../../services/work-pool.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport {CevizBlockService} from '../../services/nano-block.service';\nimport * as QRCode from 'qrcode';\nimport BigNumber from 'bignumber.js';\n\n@Component({\n  selector: 'app-receive',\n  templateUrl: './receive.component.html',\n  styleUrls: ['./receive.component.css']\n})\n\n\n\nexport class ReceiveComponent implements OnInit {\n  ceviz = 100;\n  accounts = this.walletService.wallet.accounts;\n  pendingBelowThreshold = [];\n\n  pendingAccountModel = '0';\n  pendingBlocks = [];\n  qrCodeImage = null;\n  qrAccount = '';\n  qrAmount: BigNumber = null;\n  minAmount: BigNumber = this.settings.settings.minimumReceive ? this.util.ceviz.mcevizToRaw(this.settings.settings.minimumReceive) : null;\n  walletAccount: WalletAccount = null;\n  selAccountInit = false;\n  loadingIncomingTxList = false;\n\n  constructor(\n    private walletService: WalletService,\n    private notificationService: NotificationService,\n    public modal: ModalService,\n    private api: ApiService,\n    private workPool: WorkPoolService,\n    public settings: AppSettingsService,\n    private cevizBlock: CevizBlockService,\n    private util: UtilService) { }\n\n  async ngOnInit() {\n    // Update selected account if changed in the sidebar\n    this.walletService.wallet.selectedAccount$.subscribe(async acc => {\n      if (this.selAccountInit) {\n        this.pendingAccountModel = acc ? acc.id : '0';\n        this.changeQRAccount(this.pendingAccountModel);\n      }\n      this.selAccountInit = true;\n    });\n\n    await this.loadPendingForAll();\n    // Set the account selected in the sidebar as default\n    if (this.walletService.wallet.selectedAccount !== null) {\n      this.pendingAccountModel = this.walletService.wallet.selectedAccount.id;\n      this.changeQRAccount(this.pendingAccountModel);\n    }\n  }\n\n  async loadPendingForAll() {\n    const walletPendingBlocks = this.walletService.wallet.pendingBlocks;\n    const walletPendingBlocksBelowThreshold = this.walletService.wallet.pendingBelowThreshold;\n\n    this.pendingBlocks = [];\n    this.pendingBelowThreshold = [];\n\n    // Now, only if we have results, do a unique on the account names, and run account info on all of them?\n    if (walletPendingBlocks.length) {\n      this.loadingIncomingTxList = true;\n      const frontiers = await this.api.accountsFrontiers(walletPendingBlocks.map(p => p.account));\n      if (frontiers && frontiers.frontiers) {\n        for (const account in frontiers.frontiers) {\n          if (!frontiers.frontiers.hasOwnProperty(account)) {\n            continue;\n          }\n          this.workPool.addWorkToCache(frontiers.frontiers[account]);\n        }\n      }\n    }\n\n    this.loadingIncomingTxList = false;\n    this.pendingBlocks = walletPendingBlocks;\n    this.pendingBelowThreshold = walletPendingBlocksBelowThreshold;\n  }\n\n  async getPending() {\n    // clear the list of pending blocks. Updated again with reloadBalances()\n    this.pendingBlocks = [];\n    this.loadingIncomingTxList = true;\n    await this.walletService.reloadBalances(true);\n    await this.loadPendingForAll();\n  }\n\n  async changeQRAccount(account) {\n    this.walletAccount = this.walletService.wallet.accounts.find(a => a.id === account) || null;\n    this.qrAccount = '';\n    let qrCode = null;\n    if (account.length > 1) {\n      this.qrAccount = account;\n      qrCode = await QRCode.toDataURL('ceviz:' + account + (this.qrAmount ? '?amount=' + this.qrAmount.toString(10) : ''));\n    }\n    this.qrCodeImage = qrCode;\n  }\n\n  async changeQRAmount(amount) {\n    this.qrAmount = null;\n    let qrCode = null;\n    if (amount !== '') {\n      if (this.util.account.isValidCevizAmount(amount)) {\n        this.qrAmount = this.util.ceviz.mcevizToRaw(amount);\n      }\n    }\n    if (this.qrAccount.length > 1) {\n      qrCode = await QRCode.toDataURL('ceviz:' + this.qrAccount + (this.qrAmount ? '?amount=' + this.qrAmount.toString(10) : ''));\n      this.qrCodeImage = qrCode;\n    }\n  }\n\n  async receivePending(pendingBlock) {\n    const sourceBlock = pendingBlock.hash;\n\n    const walletAccount = this.walletService.wallet.accounts.find(a => a.id === pendingBlock.account);\n    if (!walletAccount) {\n      throw new Error(`unable to find receiving account in wallet`);\n    }\n\n    if (this.walletService.walletIsLocked()) {\n      return this.notificationService.sendWarning(`Wallet must be unlocked`);\n    }\n    pendingBlock.loading = true;\n\n    const newBlock = await this.cevizBlock.generateReceive(walletAccount, sourceBlock, this.walletService.isLedgerWallet());\n\n    if (newBlock) {\n      this.notificationService.sendSuccess(`Successfully received Ceviz!`);\n      // clear the list of pending blocks. Updated again with reloadBalances()\n      this.walletService.clearPendingBlocks();\n    } else {\n      if (!this.walletService.isLedgerWallet()) {\n        this.notificationService.sendError(`There was an error receiving the transaction`);\n      }\n    }\n\n    pendingBlock.loading = false;\n\n    await this.walletService.reloadBalances();\n  }\n\n  copied() {\n    this.notificationService.sendSuccess(`Successfully copied to clipboard!`);\n  }\n\n  toBigNumber(value) {\n    return new BigNumber(value);\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <h2 class=\"uk-heading-divider\">Account Details</h2>\n\n    <div class=\"uk-card uk-card-default uk-margin\">\n      <div class=\"uk-card-header uk-visible-toggle\">\n\n        <div uk-grid>\n\n          <div class=\"uk-width-expand\">\n\n            <div *ngIf=\"showEditAddressBook\" uk-grid>\n              <div class=\" uk-width-1-1\">\n                <div class=\"uk-margin\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip uk-text-success\" (click)=\"saveAddressBook()\" uk-icon=\"icon: check\" uk-tooltip title=\"Save Changes\"></a>\n                    <a class=\"uk-form-icon uk-form-icon-flip uk-text-danger\" style=\"margin-right: 26px;\" (click)=\"showEditAddressBook = false\" uk-tooltip title=\"Cancel Changes - Set the label to blank to delete\" uk-icon=\"icon: close\"></a>\n                    <input class=\"uk-input\" (keyup.enter)=\"saveAddressBook()\" [(ngModel)]=\"addressBookModel\" placeholder=\"Account Label (Set to blank to delete)\" type=\"text\" style=\"padding-right: 60px;\">\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"!showEditAddressBook\" uk-grid>\n              <div class=\"uk-width-1-1\">\n                <div *ngIf=\"addressBookEntry || walletAccount\">\n                  <div class=\"uk-width-1-1\">\n                    <div uk-grid>\n                    <h3 class=\"uk-width-auto uk-card-title uk-text-truncate\" style=\"max-width: calc(100% - 35px);\">{{ addressBookEntry ? addressBookEntry : ('Account #' + walletAccount.index)}}</h3>\n                      <div class=\"uk-width-auto\" style=\"padding-left: 10px; margin-top: 3px;\">\n                        <li style=\"display: contents;\"><span uk-icon=\"icon: pencil;\" title=\"Edit Account Label\" uk-tooltip (click)=\"showEditAddressBook = !showEditAddressBook\" title=\"Edit Account Label\"></span></li>\n                      </div>\n                    </div>\n                  </div>\n                  <div uk-grid>\n                    <div class=\"uk-width-auto uk-text-small uk-text-truncate\" style=\"max-width: calc(100% - 35px);\">\n                      <app-nano-account-id [accountID]=\"accountID\"></app-nano-account-id>\n                    </div>\n                    <div class=\"uk-width-auto\" style=\"padding-left: 10px; margin-top: -3px;\">\n                      <li><a ngxClipboard [cbContent]=\"accountID\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                    </div>\n                  </div>\n                </div>\n\n                <div *ngIf=\"!addressBookEntry && !walletAccount\">\n                  <div uk-grid>\n                    <h3 class=\"uk-width-auto uk-card-title uk-text-truncate\" style=\"max-width: calc(100% - 80px);\">\n                      <app-nano-account-id [accountID]=\"accountID\"></app-nano-account-id>\n                    </h3>\n                    <div class=\"uk-width-auto\">\n                      <ul class=\"uk-iconnav\" style=\"margin-top: 5px;\">\n                        <li style=\"display: contents;\"><span uk-icon=\"icon: pencil;\" title=\"Edit Account Label\" uk-tooltip (click)=\"showEditAddressBook = !showEditAddressBook\" title=\"Edit Account Label\"></span></li>\n                        <li><a ngxClipboard [cbContent]=\"accountID\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <div class=\"uk-card-body uk-padding-remove uk-form-horizontal\">\n\n        <div class=\"uk-padding-small\" uk-grid>\n\n          <div class=\"uk-width-3-5@s uk-width-3-4@m\">\n            <div uk-grid>\n              <div class=\"uk-width-1-1\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-3 uk-text-right\">\n                    Account Balance\n                  </div>\n                  <div class=\"uk-width-1-3 uk-text-right\">\n                    {{ !account? 0:(account.balance || 0 | ceviz: settings.settings.displayDenomination) }}\n                    <span *ngIf=\"account && account.balanceRaw && account.balanceRaw > 0\" style=\"display: block; font-size: 12px;\" class=\"uk-text-muted\">+{{ !account? 0:(account.balanceRaw.toString(10)) }} raw</span>\n                  </div>\n                  <div class=\"uk-width-1-3 uk-text-left\">\n                    {{ !account? 0:(account.balanceFiat | fiat: settings.settings.displayCurrency) }}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"uk-width-1-1\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-3 uk-text-right\">\n                    Incoming Amount\n                  </div>\n                  <div class=\"uk-width-1-3 uk-text-right\">\n                    {{ !account? 0:(account.pending || 0 | ceviz: settings.settings.displayDenomination) }}\n                    <span *ngIf=\"account && account.pendingRaw && account.pendingRaw > 0\" style=\"display: block; font-size: 12px;\" class=\"uk-text-muted\">+{{ !account? 0:(account.pendingRaw.toString(10)) }} raw</span>\n                  </div>\n                  <div class=\"uk-width-1-3 uk-text-left\">\n                    {{ !account? 0:(account.pendingFiat | fiat: settings.settings.displayCurrency) }}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"uk-width-1-1\" *ngIf=\"account && account.representative\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-3 uk-text-right\">\n                    Representative\n                  </div>\n                  <div class=\"uk-width-2-3 uk-text-left\">\n                    <div *ngIf=\"showEditRepresentative\">\n                      <div uk-grid>\n                        <div class=\" uk-width-1-1\">\n                          <div class=\"uk-margin\">\n                            <div class=\"uk-inline uk-width-1-1\">\n                              <a class=\"uk-form-icon uk-form-icon-flip uk-text-success\" (click)=\"saveRepresentative()\" uk-icon=\"icon: check\" uk-tooltip title=\"Save New Representative\"></a>\n                              <a class=\"uk-form-icon uk-form-icon-flip uk-text-danger\" style=\"margin-right: 26px;\" (click)=\"showEditRepresentative = false\" uk-icon=\"icon: close\" uk-tooltip title=\"Cancel Changes\"></a>\n\n                              <input class=\"uk-input\" (keyup.enter)=\"saveRepresentative()\" (blur)=\"validateRepresentative()\" (keyup)=\"searchRepresentatives()\" (focus)=\"searchRepresentatives()\" [(ngModel)]=\"representativeModel\" placeholder=\"New Representative Account\" type=\"text\" style=\"padding-right: 60px;\">\n\n                              <div *ngIf=\"(representativeResults$ | async).length\" [hidden]=\"!showRepresentatives\" class=\"uk-animation-slide-down-small uk-width-1-1 uk-card uk-card-default uk-card-body uk-position-absolute\" style=\"z-index: 15000\">\n                                <ul class=\"uk-nav uk-nav-default\">\n                                  <li class=\"uk-nav-header\">Representative List Results</li>\n                                  <li class=\"uk-nav-divider\"></li>\n                                  <li *ngFor=\"let rep of representativeResults$ | async\">\n                                    <a (click)=\"selectRepresentative(rep.id)\">\n                                      {{ rep.name }}\n                                      <span *ngIf=\"rep.trusted\" uk-icon=\"icon: star;\" class=\"uk-text-success\"></span>\n                                      <span *ngIf=\"rep.warn\" uk-icon=\"icon: warning;\" class=\"uk-text-warning\"></span>\n                                    </a>\n                                  </li>\n                                </ul>\n                              </div>\n\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div *ngIf=\"!showEditRepresentative\">\n                      <div uk-grid>\n                        <div class=\"uk-width-auto uk-text-truncate\" style=\"max-width: calc(100% - 35px);\">\n                          <span *ngIf=\"repLabel\" class=\"uk-label uk-label-danger\">{{ repLabel }}</span>\n                          <app-nano-account-id [accountID]=\"!account ? '':account.representative\"></app-nano-account-id>\n                        </div>\n                        <div class=\"uk-width-auto\" style=\"padding-left: 10px;\" *ngIf=\"walletAccount && account && account.representative\">\n                          <ul class=\"uk-iconnav\">\n                            <!--<li><a uk-icon=\"icon: pencil;\" title=\"Change Representative\" uk-tooltip (click)=\"showEditRepresentative = true\"></a></li>-->\n                            <li><a uk-icon=\"icon: pencil;\" title=\"Change Representative\" uk-tooltip routerLink=\"/representatives\" [queryParams]=\"{ hideOverview: true, showRecommended: true, accounts: accountID }\"></a></li>\n                          </ul>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                  <!--<div class=\"uk-width-1-3 uk-text-left\"></div>-->\n                </div>\n              </div>\n\n              <div *ngIf=\"settings.settings.serverAPI\" class=\"uk-width-1-1\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-3 uk-text-right\">\n                    <label>Enable Remote Signing</label>\n                  </div>\n                  <div class=\"uk-width-1-3 uk-text-left\">\n                    <input class=\"uk-checkbox uk-margin-medium-left\" type=\"checkbox\" name=\"remoteVisible\" value=\"1\" [(ngModel)]=\"remoteVisible\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"uk-width-2-5@s uk-width-1-4@m uk-text-center\">\n            <img *ngIf=\"qrCodeImage\" [src]=\"qrCodeImage\" alt=\"QR code\"><br />\n            <span class=\"uk-text-small\">Deposit Address</span>\n          </div>\n        </div>\n\n        <div *ngIf=\"remoteVisible\" uk-grid>\n          <div class=\"uk-width-1-1\">\n            <div class=\"uk-width-1-1 uk-margin-medium-left\">\n              <p>Create a new SEND or CHANGE block below. For any incoming transaction in the table: Use REMOTE SIGN.</p>\n              <button class=\"uk-button uk-button-primary\" (click)=\"showRemoteModal()\">CREATE NEW BLOCK</button>\n            </div>\n          </div>\n        </div>\n\n        <div uk-grid style=\"margin-top: 25px;\">\n          <div class=\"uk-width-1-1\">\n            <h3 class=\"uk-heading-divider uk-text-center\" style=\"margin-bottom: 0;\">Recent Transactions<span class=\"{{statsRefreshEnabled ? '':'refresh-disabled'}}\" id=\"refresh\" uk-icon=\"icon: refresh;\" (click)=\"loadAccountDetails(true)\" uk-tooltip title=\"Reload the transaction history from the network.\"></span></h3>\n          <div class=\"uk-overflow-auto\">\n\n\n            <table class=\"uk-table uk-table-striped uk-table-small\" style=\"margin-top: 0;\">\n              <thead>\n              <tr>\n                <th scope=\"col\" class=\"uk-width-1-6@m uk-width-1-6\">Date</th>\n                <th scope=\"col\" class=\"uk-width-1-5@m uk-width-1-4\">Account</th>\n                <th scope=\"col\" class=\"uk-width-1-5@m uk-width-1-4\">Amount</th>\n                <th scope=\"col\" class=\"uk-width-1-5@m uk-width-1-4\">Hash</th>\n                <th scope=\"col\" *ngIf=\"remoteVisible\" class=\"uk-width-1-5@m uk-width-1-4\">Incoming</th>\n              </tr>\n              </thead>\n              <tbody>\n\n              <tr *ngFor=\"let pending of pendingBlocks\" class=\"uk-text-muted\">\n                <td class=\"uk-text-truncate\" *ngIf=\"pending.local_timestamp\">{{ pending.local_timestamp * 1000 | date: 'yyyy-MM-dd HH:mm' }}</td>\n                <td class=\"uk-text-truncate uk-text-muted\" *ngIf=\"!pending.local_timestamp\">N/A</td>\n                <td class=\"uk-visible-toggle\">\n                  <div uk-grid>\n                    <div class=\"uk-width-auto uk-text-truncate\" style=\"max-width: calc(100% - 35px);\">\n                      <a [routerLink]=\"'/account/' + pending.account\" class=\"uk-link-text\" title=\"View Account Details\" uk-tooltip>\n                        <span *ngIf=\"pending.addressBookName\" class=\"uk-margin-small-right uk-label uk-label-default\">{{ pending.addressBookName }}</span>\n                        <app-nano-account-id [accountID]=\"pending.account\" middle=\"off\"></app-nano-account-id>\n                      </a>\n                    </div>\n                    <div class=\"uk-width-auto\" style=\"padding-left: 10px;\">\n                      <ul class=\"uk-iconnav\">\n                        <li><a ngxClipboard [cbContent]=\"pending.account\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                      </ul>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"uk-text-muted\">\n                  +{{ pending.amount | ceviz: settings.settings.displayDenomination }}*\n                </td>\n                <td class=\"uk-text-truncate\"><a [routerLink]=\"'/transaction/' + pending.hash\" class=\"uk-link-text\" title=\"View Block Details\" uk-tooltip>{{ pending.hash }}</a></td>\n                <td *ngIf=\"remoteVisible\"><button class=\"uk-button uk-button-primary uk-text-center uk-width-auto\" style=\"height: 28px; line-height: 28px; padding-top: 0;\" type=\"button\" (click)=\"generateReceive(pending.hash)\">REMOTE SIGN</button></td>\n              </tr>\n\n              <tr *ngFor=\"let history of accountHistory\">\n                <td class=\"uk-text-truncate\" *ngIf=\"history.local_timestamp\">{{ history.local_timestamp * 1000 | date: 'yyyy-MM-dd HH:mm' }}</td>\n                <td class=\"uk-text-truncate uk-text-muted\" *ngIf=\"!history.local_timestamp\">N/A</td>\n                <td class=\"uk-visible-toggle\">\n                  <div uk-grid>\n                    <div class=\"uk-width-auto uk-text-truncate\" style=\"max-width: calc(100% - 35px);\">\n                      <a [routerLink]=\"'/account/' + (history.link_as_account || history.account)\" class=\"uk-link-text\" title=\"View Account Details\" uk-tooltip>\n                        <span *ngIf=\"history.addressBookName\" class=\"uk-margin-small-right uk-label uk-label-default\">{{ history.addressBookName }}</span>\n                        <app-nano-account-id [accountID]=\"history.link_as_account || history.account\" middle=\"off\"></app-nano-account-id>\n                      </a>\n                    </div>\n                    <div class=\"uk-width-auto\" style=\"padding-left: 10px;\">\n                      <ul class=\"uk-iconnav\">\n                        <li><a ngxClipboard [cbContent]=\"history.link_as_account || history.account\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                      </ul>\n                    </div>\n                  </div>\n                </td>\n                <td [ngClass]=\"{ 'uk-text-success': history.type == 'receive' || history.subtype == 'receive' || history.type == 'open' || history.subtype == 'open', 'uk-text-danger': history.type == 'send' || history.subtype == 'send' }\">\n                  <span *ngIf=\"isNaN(history.amount)\">NEW REP</span>\n                  <span *ngIf=\"!isNaN(history.amount)\">{{ (history.type == 'send' || history.subtype == 'send') ? '-' : '+' }}{{ history.amount | ceviz: settings.settings.displayDenomination }}</span>\n                </td>\n                <td class=\"uk-text-truncate\"><a [routerLink]=\"'/transaction/' + history.hash\" class=\"uk-link-text\" title=\"View Block Details\" uk-tooltip>{{ history.hash }}</a></td>\n              </tr>\n              <tr *ngIf=\"!accountHistory.length && !pendingBlocks.length\">\n                <td colspan=\"4\" style=\"text-align: center;\">No account history</td>\n              </tr>\n              <tr *ngIf=\"accountHistory.length + 1 >= pageSize && pageSize <= maxPageSize\">\n                <td colspan=\"4\" style=\"text-align: center;\">\n                  <a (click)=\"loadMore()\" class=\"uk-link-text\">Load More Results</a>\n                </td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"uk-width-1-1 uk-text-center uk-text-muted uk-text-small\" *ngIf=\"pendingBlocks.length\">\n      * Incoming Transaction\n    </div>\n\n  </div>\n</div>\n\n<!-- Modal for remote receive incoming -->\n<div id=\"receive-modal\" uk-modal>\n  <div class=\"uk-modal-dialog uk-modal-body modal-qr\">\n    <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n    <div class=\"uk-modal-header\">\n        <h2 class=\"uk-modal-title\">Unsigned Incoming Block</h2>\n    </div>\n    <div class=\"uk-modal-body modal-qr-body\">\n      <ol>\n        <li><a routerLink=\"/qr-scan\" routerLinkActive=\"active\" class=\"uk-modal-close\">Scan</a> the unsigned QR with an offline Nault, or copy the \"Unsigned Block\" to <a routerLink=\"/remote-signing\" routerLinkActive=\"active\" class=\"uk-modal-close\">Step 2</a>.</li>\n        <li><a routerLink=\"/qr-scan\" routerLinkActive=\"active\" class=\"uk-modal-close\">Scan</a> the new signed QR with an online Nault, or copy the \"Signed Block\" to <a routerLink=\"/remote-signing\" routerLinkActive=\"active\" class=\"uk-modal-close\">Step 3</a>.</li>\n      </ol>\n\n      <div *ngIf=\"blockHashReceive\" class=\"uk-width-1-1 uk-text-center\" style=\"display: flex; justify-content: center;\">\n        <span class=\"uk-text-small\" uk-tooltip title=\"Unsigned block string to be copied to remote device\" style=\"overflow-wrap: anywhere;\"><strong>Unsigned Block</strong></span>\n        <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n          <li><a ngxClipboard [cbContent]=\"qrString\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy\" uk-tooltip></a></li>\n        </ul>\n        <span class=\"uk-text-small\" uk-tooltip title=\"Final block hash to be signed or verified\" style=\"overflow-wrap: anywhere; margin-left: 50px;\"><strong>Block Hash</strong></span>\n        <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n          <li><a ngxClipboard [cbContent]=\"blockHashReceive\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy\" uk-tooltip></a></li>\n        </ul>\n      </div>\n\n      <div class=\"uk-width-1-1 uk-text-center\">\n        <img *ngIf=\"qrCodeImageBlockReceive\" [src]=\"qrCodeImageBlockReceive\" class=\"block-qr\" alt=\"QR code\"><br />\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Modal for creating send and change block for remote signing-->\n<div id=\"block-modal\" uk-modal>\n  <div class=\"uk-modal-dialog uk-modal-body modal-block\">\n    <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n    <div class=\"uk-modal-header\">\n        <h2 class=\"uk-modal-title\">Create Block for Remote Signing</h2>\n    </div>\n    <div class=\"uk-modal-body modal-block-body\">\n      <ol>\n        <li>Generate a Ceviz block below. No wallet login needed.</li>\n        <li><a routerLink=\"/qr-scan\" routerLinkActive=\"active\" class=\"uk-modal-close\">Scan</a> the unsigned QR with an offline Nault, or copy the \"Unsigned Block\" to <a routerLink=\"/remote-signing\" routerLinkActive=\"active\" class=\"uk-modal-close\">Step 2</a>.</li>\n        <li><a routerLink=\"/qr-scan\" routerLinkActive=\"active\" class=\"uk-modal-close\">Scan</a> the new signed QR with an online Nault, or copy the \"Signed Block\" to <a routerLink=\"/remote-signing\" routerLinkActive=\"active\" class=\"uk-modal-close\">Step 3</a>.</li>\n      </ol>\n\n      <span><strong>Block Type</strong></span><span uk-icon=\"icon: info;\" uk-tooltip title=\"The block type to create for remote signing. Receiving can be done from the Recent Transactions below.\"></span><br>\n      <label class=\"uk-margin-medium-right\"><input class=\"uk-radio\" type=\"radio\" name=\"blocktype\" value={{blockTypes[0]}} [(ngModel)]=\"blockTypeSelected\"> {{blockTypes[0]}}</label>\n      <label class=\"uk-margin-medium-right\"><input class=\"uk-radio\" type=\"radio\" name=\"blocktype\" value={{blockTypes[1]}} [(ngModel)]=\"blockTypeSelected\"> {{blockTypes[1]}}</label>\n      <br><br>\n\n      <div *ngIf=\"blockTypeSelected === blockTypes[0]\" class=\"uk-form-horizontal\">\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-text2\">To Account</label>\n          <div class=\"uk-form-controls\">\n            <div class=\"uk-inline uk-width-1-1\">\n              <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('account1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n              <input (blur)=\"validateDestination()\" (keyup)=\"searchAddressBook()\" (focus)=\"searchAddressBook()\" [(ngModel)]=\"toAccountID\" [ngClass]=\"{ 'uk-form-success': toAccountStatus === 2, 'uk-form-danger': toAccountStatus === 0 }\" class=\"uk-input\" id=\"form-horizontal-text2\" type=\"text\" placeholder=\"Account to send to\" autocomplete=\"off\">\n\n              <div *ngIf=\"(addressBookResults$ | async).length\" [hidden]=\"!showAddressBook\" class=\"uk-animation-slide-down-small uk-width-1-1 uk-card uk-card-default uk-card-body uk-position-absolute\" style=\"z-index: 15000\">\n                <ul class=\"uk-nav uk-nav-default\">\n                  <li class=\"uk-nav-header\">Address Book Results</li>\n                  <li class=\"uk-nav-divider\"></li>\n                  <li *ngFor=\"let book of addressBookResults$ | async\">\n                    <a (click)=\"selectBookEntry(book.account)\">{{ book.name }}</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-form-controls\" *ngIf=\"addressBookMatch\">\n            <div class=\"uk-inline uk-width-1-1\">\n              <span class=\"uk-label uk-label-primary\">{{ addressBookMatch }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div uk-grid>\n          <div class=\"uk-width-1-1\">\n            <label class=\"uk-form-label\" for=\"form-horizontal-text\">Amount</label>\n            <div class=\"uk-form-controls\">\n              <div uk-grid>\n                <div class=\"uk-width-1-1\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip\" (click)=\"setMaxAmount()\" style=\"padding-right: 7px;\" uk-tooltip title=\"Set Maximum Amount\">Max</a>\n                    <input [(ngModel)]=\"amount\" [ngClass]=\"{ 'uk-form-danger': amountStatus === 0 }\" class=\"uk-input\" id=\"form-horizontal-text\" (keyup)=\"syncFiatPrice()\" (change)=\"syncFiatPrice()\" type=\"text\" placeholder=\"Amount of {{ selectedAmount.name }} to send\" maxlength=\"40\">\n                  </div>\n                  <div *ngIf=\"amountRaw.gt(0)\" class=\"uk-width-1-1 uk-width-3-5@m uk-text-small uk-text-muted uk-margin-remove\">\n                    <span uk-tooltip title=\"Additional raw to send\">+{{ amountRaw.toString(10) }} raw</span> &nbsp; <a class=\"uk-text-danger\" (click)=\"resetRaw()\" uk-tooltip title=\"Remove the additional raw amount from the total amount\" uk-icon=\"icon: close\"></a>\n                  </div>\n                  <div class=\"uk-width-1-1\" style=\"margin-top: 10px;\" *ngIf=\"settings.settings.displayCurrency\">\n                    <div class=\"uk-width-1-1 uk-inline\">\n                      <a class=\"uk-form-icon uk-link-reset uk-link-muted\" style=\"padding-left: 7px;\" uk-tooltip title=\"Last Price: {{ price.price.lastPrice | fiat: settings.settings.displayCurrency }} / CEVZ\">{{ settings.settings.displayCurrency | currencySymbol }}</a>\n                      <input [(ngModel)]=\"amountFiat\" (keyup)=\"syncCevizPrice()\" (change)=\"syncCevizPrice()\" style=\"padding-left: 50px !important;\" class=\"uk-input\" id=\"form-horizontal-text-fiat\" type=\"text\" placeholder=\"Amount of {{ settings.settings.displayCurrency }} to send\">\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div *ngIf=\"blockTypeSelected === blockTypes[1]\" class=\"uk-form-horizontal\">\n        <div class=\"uk-margin\">\n          <label class=\"uk-form-label\" for=\"form-horizontal-text3\">Representative</label>\n          <div class=\"uk-form-controls\">\n            <div class=\"uk-inline uk-width-1-1\">\n              <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('rep1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n              <input (blur)=\"validateRepresentative()\" (keyup)=\"searchRepresentatives()\" (focus)=\"searchRepresentatives()\" (keyup.enter)=\"generateChange()\" [(ngModel)]=\"representativeModel\" class=\"uk-input\" [ngClass]=\"{ 'uk-form-success': repStatus === 2, 'uk-form-danger': repStatus === 0 }\" id=\"form-horizontal-text3\" type=\"text\" placeholder=\"ceviz_abc...123\" #repInput>\n\n              <div *ngIf=\"(representativeResults$ | async).length\" [hidden]=\"!showRepresentatives\" class=\"uk-animation-slide-down-small uk-width-1-1 uk-card uk-card-default uk-card-body uk-position-absolute\" style=\"z-index: 15000\">\n                <ul class=\"uk-nav uk-nav-default\">\n                  <li class=\"uk-nav-header\">Representative List Results</li>\n                  <li class=\"uk-nav-divider\"></li>\n                  <li *ngFor=\"let rep of representativeResults$ | async\">\n                    <a (click)=\"selectRepresentative(rep.id)\">\n                      {{ rep.name }}\n                      <span *ngIf=\"rep.trusted\" uk-icon=\"icon: star;\" class=\"uk-text-success\"></span>\n                      <span *ngIf=\"rep.warn\" uk-icon=\"icon: warning;\" class=\"uk-text-warning\"></span>\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"uk-form-controls\" *ngIf=\"representativeListMatch\">\n            <div class=\"uk-inline uk-width-1-1\">\n              <span class=\"uk-label uk-label-danger\">{{ representativeListMatch }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br>\n      <button *ngIf=\"blockTypeSelected === blockTypes[0]\" class=\"uk-button uk-button-primary uk-text-center uk-width-1-1\" type=\"button\" style=\"margin-bottom: 20px;\" (click)=\"generateSend()\">Generate Send Block</button>\n      <button *ngIf=\"blockTypeSelected === blockTypes[1]\" class=\"uk-button uk-button-primary uk-text-center uk-width-1-1\" type=\"button\" style=\"margin-bottom: 20px;\" (click)=\"generateChange()\">Generate Change Block</button>\n\n      <div *ngIf=\"blockHash\" class=\"uk-width-1-1 uk-text-center\" style=\"display: flex; justify-content: center;\">\n        <span class=\"uk-text-small\" uk-tooltip title=\"Unsigned block string to be copied to remote device\" style=\"overflow-wrap: anywhere;\"><strong>Unsigned Block</strong></span>\n        <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n          <li><a ngxClipboard [cbContent]=\"qrString\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy\" uk-tooltip></a></li>\n        </ul>\n        <span class=\"uk-text-small\" uk-tooltip title=\"Final block hash to be signed or verified\" style=\"overflow-wrap: anywhere; margin-left: 50px;\"><strong>Block Hash</strong></span>\n        <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n          <li><a ngxClipboard [cbContent]=\"blockHash\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy\" uk-tooltip></a></li>\n        </ul>\n      </div>\n      <div class=\"uk-width-1-1 uk-text-center\">\n        <img *ngIf=\"qrCodeImageBlock\" [src]=\"qrCodeImageBlock\" class=\"block-qr\" alt=\"QR code\"><br />\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, ChildActivationEnd, Router, NavigationEnd} from '@angular/router';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {ApiService} from '../../services/api.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {WalletService} from '../../services/wallet.service';\nimport {CevizBlockService} from '../../services/nano-block.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport {PriceService} from '../../services/price.service';\nimport {UtilService} from '../../services/util.service';\nimport * as QRCode from 'qrcode';\nimport BigNumber from 'bignumber.js';\nimport {RepresentativeService} from '../../services/representative.service';\nimport {BehaviorSubject} from 'rxjs';\nimport * as nanocurrency from 'nanocurrency';\nimport {NinjaService} from '../../services/ninja.service';\nimport { QrModalService } from '../../services/qr-modal.service';\n\n@Component({\n  selector: 'app-account-details',\n  templateUrl: './account-details.component.html',\n  styleUrls: ['./account-details.component.css']\n})\nexport class AccountDetailsComponent implements OnInit, OnDestroy {\n  ceviz = 100;\n  zeroHash = '0000000000000000000000000000000000000000000000000000000000000000';\n\n  accountHistory: any[] = [];\n  pendingBlocks = [];\n  pageSize = 25;\n  maxPageSize = 200;\n\n  repLabel: any = '';\n  addressBookEntry: any = null;\n  account: any = {};\n  accountID = '';\n\n  walletAccount = null;\n\n  showEditAddressBook = false;\n  addressBookModel = '';\n  showEditRepresentative = false;\n  representativeModel = '';\n  representativeResults$ = new BehaviorSubject([]);\n  showRepresentatives = false;\n  representativeListMatch = '';\n  isNaN = isNaN;\n\n  qrCodeImage = null;\n\n  routerSub = null;\n  priceSub = null;\n\n  statsRefreshEnabled = true;\n\n  // Remote signing\n  addressBookResults$ = new BehaviorSubject([]);\n  showAddressBook = false;\n  addressBookMatch = '';\n  amounts = [\n    { name: 'CEVIZ', shortName: 'CEVIZ', value: 'mceviz' },\n    { name: 'kceviz', shortName: 'kceviz', value: 'kceviz' },\n    { name: 'ceviz', shortName: 'ceviz', value: 'ceviz' },\n  ];\n  selectedAmount = this.amounts[0];\n\n  amount = null;\n  amountRaw: BigNumber = new BigNumber(0);\n  amountFiat: number|null = null;\n  rawAmount: BigNumber = new BigNumber(0);\n  fromAccount: any = {};\n  toAccount: any = false;\n  toAccountID = '';\n  toAddressBook = '';\n  toAccountStatus = null;\n  amountStatus = null;\n  repStatus = null;\n  qrString = null;\n  qrCodeImageBlock = null;\n  qrCodeImageBlockReceive = null;\n  blockHash = null;\n  blockHashReceive = null;\n  remoteVisible = false;\n  blockTypes: string[] = ['Send Ceviz', 'Change Representative'];\n  blockTypeSelected: string = this.blockTypes[0];\n  representativeList = [];\n  // End remote signing\n\n  constructor(\n    private router: ActivatedRoute,\n    private route: Router,\n    private addressBook: AddressBookService,\n    private api: ApiService,\n    private price: PriceService,\n    private repService: RepresentativeService,\n    private notifications: NotificationService,\n    private wallet: WalletService,\n    private util: UtilService,\n    public settings: AppSettingsService,\n    private cevizBlock: CevizBlockService,\n    private qrModalService: QrModalService,\n    private ninja: NinjaService) {\n      // to detect when the account changes if the view is already active\n      route.events.subscribe((val) => {\n        if (val instanceof NavigationEnd) {\n          this.clearRemoteVars(); // reset the modal content for remote signing\n        }\n      });\n  }\n\n  async ngOnInit() {\n    const params = this.router.snapshot.queryParams;\n    if ('sign' in params) {\n      this.remoteVisible = params.sign === 1;\n    }\n\n    this.routerSub = this.route.events.subscribe(event => {\n      if (event instanceof ChildActivationEnd) {\n        this.loadAccountDetails(); // Reload the state when navigating to itself from the transactions page\n      }\n    });\n    this.priceSub = this.price.lastPrice$.subscribe(event => {\n      this.account.balanceFiat = this.util.ceviz.rawToMceviz(this.account.balance || 0).times(this.price.price.lastPrice).toNumber();\n      this.account.pendingFiat = this.util.ceviz.rawToMceviz(this.account.pending || 0).times(this.price.price.lastPrice).toNumber();\n    });\n\n    await this.loadAccountDetails();\n    this.addressBook.loadAddressBook();\n\n    // populate representative list\n    if (!this.settings.settings.serverAPI) return;\n    const verifiedReps = await this.ninja.recommendedRandomized();\n\n    for (const representative of verifiedReps) {\n      const temprep = {\n        id: representative.account,\n        name: representative.alias\n      };\n\n      this.representativeList.push(temprep);\n    }\n\n    // add the localReps to the list\n    const localReps = this.repService.getSortedRepresentatives();\n    this.representativeList.push(...localReps);\n  }\n\n  clearRemoteVars() {\n    this.selectedAmount = this.amounts[0];\n    this.amount = null;\n    this.amountRaw = new BigNumber(0);\n    this.amountFiat = null;\n    this.rawAmount = new BigNumber(0);\n    this.fromAccount = {};\n    this.toAccount = false;\n    this.toAccountID = '';\n    this.toAddressBook = '';\n    this.toAccountStatus = null;\n    this.repStatus = null;\n    this.qrString = null;\n    this.qrCodeImageBlock = null;\n    this.qrCodeImageBlockReceive = null;\n    this.blockHash = null;\n    this.blockHashReceive = null;\n    this.blockTypeSelected = this.blockTypes[0];\n    this.representativeModel = '';\n    this.representativeListMatch = '';\n  }\n\n  async loadAccountDetails(refresh= false) {\n    if (refresh && !this.statsRefreshEnabled) return;\n    this.statsRefreshEnabled = false;\n    setTimeout(() => this.statsRefreshEnabled = true, 5000);\n\n    this.pendingBlocks = [];\n    this.accountID = this.router.snapshot.params.account;\n    this.addressBookEntry = this.addressBook.getAccountName(this.accountID);\n    this.addressBookModel = this.addressBookEntry || '';\n    this.walletAccount = this.wallet.getWalletAccount(this.accountID);\n    this.account = await this.api.accountInfo(this.accountID);\n\n    if (!this.account) return;\n    const knownRepresentative = this.repService.getRepresentative(this.account.representative);\n    this.repLabel = knownRepresentative ? knownRepresentative.name : null;\n\n    // If there is a pending balance, or the account is not opened yet, load pending transactions\n    if ((!this.account.error && this.account.pending > 0) || this.account.error) {\n      // Take minimum receive into account\n      let pending;\n      if (this.settings.settings.minimumReceive) {\n        const minAmount = this.util.ceviz.mcevizToRaw(this.settings.settings.minimumReceive);\n        pending = await this.api.pendingLimit(this.accountID, 50, minAmount.toString(10));\n        this.account.pending = '0';\n      } else {\n        pending = await this.api.pending(this.accountID, 50);\n      }\n\n      if (pending && pending.blocks) {\n        for (const block in pending.blocks) {\n          if (!pending.blocks.hasOwnProperty(block)) continue;\n          this.pendingBlocks.push({\n            account: pending.blocks[block].source,\n            amount: pending.blocks[block].amount,\n            local_timestamp: pending.blocks[block].local_timestamp,\n            addressBookName: this.addressBook.getAccountName(pending.blocks[block].source) || null,\n            hash: block,\n          });\n\n          // Update the actual account pending amount with this above-threshold-value\n          if (this.settings.settings.minimumReceive) {\n            this.account.pending = new BigNumber(this.account.pending).plus(pending.blocks[block].amount).toString(10);\n          }\n        }\n      }\n    }\n\n    // If the account doesnt exist, set the pending balance manually\n    if (this.account.error) {\n      const pendingRaw = this.pendingBlocks.reduce(\n        (prev: BigNumber, current: any) => prev.plus(new BigNumber(current.amount)),\n        new BigNumber(0)\n      );\n      this.account.pending = pendingRaw;\n    }\n\n    // Set fiat values?\n    this.account.balanceRaw = new BigNumber(this.account.balance || 0).mod(this.ceviz);\n    this.account.pendingRaw = new BigNumber(this.account.pending || 0).mod(this.ceviz);\n    this.account.balanceFiat = this.util.ceviz.rawToMceviz(this.account.balance || 0).times(this.price.price.lastPrice).toNumber();\n    this.account.pendingFiat = this.util.ceviz.rawToMceviz(this.account.pending || 0).times(this.price.price.lastPrice).toNumber();\n    await this.getAccountHistory(this.accountID);\n\n\n    const qrCode = await QRCode.toDataURL(`${this.accountID}`);\n    this.qrCodeImage = qrCode;\n  }\n\n  ngOnDestroy() {\n    if (this.routerSub) {\n      this.routerSub.unsubscribe();\n    }\n    if (this.priceSub) {\n      this.priceSub.unsubscribe();\n    }\n  }\n\n  async getAccountHistory(account, resetPage = true) {\n    if (resetPage) {\n      this.pageSize = 25;\n    }\n    const history = await this.api.accountHistory(account, this.pageSize, true);\n    const additionalBlocksInfo = [];\n\n    if (history && history.history && Array.isArray(history.history)) {\n      this.accountHistory = history.history.map(h => {\n        if (h.type === 'state') {\n          // For Open and receive blocks, we need to look up block info to get originating account\n          if (h.subtype === 'open' || h.subtype === 'receive') {\n            additionalBlocksInfo.push({ hash: h.hash, link: h.link });\n          } else {\n            h.link_as_account = this.util.account.getPublicAccountID(this.util.hex.toUint8(h.link));\n            h.addressBookName = this.addressBook.getAccountName(h.link_as_account) || null;\n          }\n        } else {\n          h.addressBookName = this.addressBook.getAccountName(h.account) || null;\n        }\n        return h;\n      });\n\n      // Remove change blocks now that we are using the raw output\n      this.accountHistory = this.accountHistory.filter(h => h.type !== 'change' && h.subtype !== 'change');\n\n      if (additionalBlocksInfo.length) {\n        const blocksInfo = await this.api.blocksInfo(additionalBlocksInfo.map(b => b.link));\n        for (const block in blocksInfo.blocks) {\n          if (!blocksInfo.blocks.hasOwnProperty(block)) continue;\n\n          const matchingBlock = additionalBlocksInfo.find(a => a.link === block);\n          if (!matchingBlock) continue;\n          const accountInHistory = this.accountHistory.find(h => h.hash === matchingBlock.hash);\n          if (!accountInHistory) continue;\n\n          const blockData = blocksInfo.blocks[block];\n\n          accountInHistory.link_as_account = blockData.block_account;\n          accountInHistory.addressBookName = this.addressBook.getAccountName(blockData.block_account) || null;\n        }\n      }\n\n    } else {\n      this.accountHistory = [];\n    }\n  }\n\n  async loadMore() {\n    if (this.pageSize <= this.maxPageSize) {\n      this.pageSize += 25;\n      await this.getAccountHistory(this.accountID, false);\n    }\n  }\n\n  async saveRepresentative() {\n    if (this.wallet.walletIsLocked()) return this.notifications.sendWarning(`Wallet must be unlocked`);\n    if (!this.walletAccount) return;\n    const repAccount = this.representativeModel;\n\n    const valid = this.util.account.isValidAccount(repAccount);\n    if (!valid) return this.notifications.sendWarning(`Account ID is not a valid account`);\n\n    try {\n      const changed = await this.cevizBlock.generateChange(this.walletAccount, repAccount, this.wallet.isLedgerWallet());\n      if (!changed) {\n        this.notifications.sendError(`Error changing representative, please try again`);\n        return;\n      }\n    } catch (err) {\n      this.notifications.sendError(err.message);\n      return;\n    }\n\n    // Reload some states, we are successful\n    this.representativeModel = '';\n    this.showEditRepresentative = false;\n\n    const accountInfo = await this.api.accountInfo(this.accountID);\n    this.account = accountInfo;\n    const newRep = this.repService.getRepresentative(repAccount);\n    this.repLabel = newRep ? newRep.name : '';\n\n    this.notifications.sendSuccess(`Successfully changed representative`);\n  }\n\n  async saveAddressBook() {\n    const addressBookName = this.addressBookModel.trim();\n    if (!addressBookName) {\n      // Check for deleting an entry in the address book\n      if (this.addressBookEntry) {\n        this.addressBook.deleteAddress(this.accountID);\n        this.notifications.sendSuccess(`Successfully removed address book entry!`);\n        this.addressBookEntry = null;\n      }\n\n      this.showEditAddressBook = false;\n      return;\n    }\n\n    try {\n      await this.addressBook.saveAddress(this.accountID, addressBookName);\n    } catch (err) {\n      this.notifications.sendError(err.message);\n      return;\n    }\n\n    this.notifications.sendSuccess(`Saved address book entry!`);\n\n    this.addressBookEntry = addressBookName;\n    this.showEditAddressBook = false;\n  }\n\n  searchRepresentatives() {\n    if (this.representativeModel !== '' && !this.util.account.isValidAccount(this.representativeModel)) this.repStatus = 0;\n    else this.repStatus = null;\n\n    this.showRepresentatives = true;\n    const search = this.representativeModel || '';\n\n    const matches = this.representativeList\n      .filter(a => a.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n      .slice(0, 5);\n\n    this.representativeResults$.next(matches);\n  }\n\n  selectRepresentative(rep) {\n    this.showRepresentatives = false;\n    this.representativeModel = rep;\n    this.searchRepresentatives();\n    this.validateRepresentative();\n  }\n\n  async validateRepresentative() {\n    setTimeout(() => this.showRepresentatives = false, 400);\n    this.representativeModel = this.representativeModel.replace(/ /g, '');\n\n    if (this.representativeModel === '') {\n      this.representativeListMatch = '';\n      return;\n    }\n\n    const rep = this.repService.getRepresentative(this.representativeModel);\n    const ninjaRep = await this.ninja.getAccount(this.representativeModel);\n\n    if (rep) {\n      this.representativeListMatch = rep.name;\n    } else if (ninjaRep) {\n      this.representativeListMatch = ninjaRep.alias;\n    } else {\n      this.representativeListMatch = '';\n    }\n  }\n\n  copied() {\n    this.notifications.sendSuccess(`Successfully copied to clipboard!`);\n  }\n\n  // Remote signing methods\n  // An update to the Ceviz amount, sync the fiat value\n  syncFiatPrice() {\n    if (!this.validateAmount()) return;\n    const rawAmount = this.getAmountBaseValue(this.amount || 0).plus(this.amountRaw);\n    if (rawAmount.lte(0)) {\n      this.amountFiat = 0;\n      return;\n    }\n\n    // This is getting hacky, but if their currency is bitcoin, use 6 decimals, if it is not, use 2\n    const precision = this.settings.settings.displayCurrency === 'BTC' ? 1000000 : 100;\n\n    // Determine fiat value of the amount\n    const fiatAmount = this.util.ceviz.rawToMceviz(rawAmount)\n    .times(this.price.price.lastPrice)\n    .times(precision)\n    .floor().div(precision).toNumber();\n\n    this.amountFiat = fiatAmount;\n  }\n\n  // An update to the fiat amount, sync the nano value based on currently selected denomination\n  syncCevizPrice() {\n    if (!this.amountFiat) {\n      this.amount = '';\n      return;\n    }\n    if (!this.util.string.isNumeric(this.amountFiat)) return;\n    const rawAmount = this.util.ceviz.mcevizToRaw(new BigNumber(this.amountFiat).div(this.price.price.lastPrice));\n    const cevizVal = this.util.ceviz.rawToCeviz(rawAmount).floor();\n    const cevizAmount = this.getAmountValueFromBase(this.util.ceviz.cevizToRaw(cevizVal));\n\n    this.amount = cevizAmount.toNumber();\n  }\n\n  searchAddressBook() {\n    this.showAddressBook = true;\n    const search = this.toAccountID || '';\n    const addressBook = this.addressBook.addressBook;\n\n    const matches = addressBook\n      .filter(a => a.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n      .slice(0, 5);\n\n    this.addressBookResults$.next(matches);\n  }\n\n  selectBookEntry(account) {\n    this.showAddressBook = false;\n    this.toAccountID = account;\n    this.searchAddressBook();\n    this.validateDestination();\n  }\n\n  async validateDestination() {\n    // The timeout is used to solve a bug where the results get hidden too fast and the click is never registered\n    setTimeout(() => this.showAddressBook = false, 400);\n\n    // Remove spaces from the account id\n    this.toAccountID = this.toAccountID.replace(/ /g, '');\n\n    this.addressBookMatch = this.addressBook.getAccountName(this.toAccountID);\n\n    // const accountInfo = await this.walletService.walletApi.accountInfo(this.toAccountID);\n    this.toAccountStatus = null;\n    if (this.util.account.isValidAccount(this.toAccountID)) {\n      const accountInfo = await this.api.accountInfo(this.toAccountID);\n      if (accountInfo.error) {\n        if (accountInfo.error === 'Account not found') {\n          this.toAccountStatus = 1;\n        }\n      }\n      if (accountInfo && accountInfo.frontier) {\n        this.toAccountStatus = 2;\n      }\n    } else {\n      this.toAccountStatus = 0;\n    }\n  }\n\n  validateAmount() {\n    if (this.util.account.isValidCevizAmount(this.amount)) {\n      this.amountStatus = 1;\n      return true;\n    } else {\n      this.amountStatus = 0;\n      return false;\n    }\n  }\n\n  setMaxAmount() {\n    this.amountRaw = this.account.balance ? new BigNumber(this.account.balance).mod(this.ceviz) : new BigNumber(0);\n    const cevizVal = this.util.ceviz.rawToCeviz(this.account.balance).floor();\n    const maxAmount = this.getAmountValueFromBase(this.util.ceviz.cevizToRaw(cevizVal));\n    this.amount = maxAmount.toNumber();\n    this.syncFiatPrice();\n  }\n\n  getAmountBaseValue(value) {\n\n    switch (this.selectedAmount.value) {\n      default:\n      case 'ceviz': return this.util.ceviz.cevizToRaw(value);\n      case 'kceviz': return this.util.ceviz.kcevizToRaw(value);\n      case 'mceviz': return this.util.ceviz.mcevizToRaw(value);\n    }\n  }\n\n  getAmountValueFromBase(value) {\n    switch (this.selectedAmount.value) {\n      default:\n      case 'ceviz': return this.util.ceviz.rawToCeviz(value);\n      case 'kceviz': return this.util.ceviz.rawToKceviz(value);\n      case 'mceviz': return this.util.ceviz.rawToMceviz(value);\n    }\n  }\n\n  async generateSend() {\n    const isValid = this.util.account.isValidAccount(this.toAccountID);\n    if (!isValid) return this.notifications.sendWarning(`To account address is not valid`);\n    if (!this.accountID || !this.toAccountID) return this.notifications.sendWarning(`From and to account are required`);\n    if (!this.validateAmount()) return this.notifications.sendWarning(`Invalid CEVZ Amount`);\n\n    this.qrCodeImageBlock = null;\n\n    const from = await this.api.accountInfo(this.accountID);\n    const to = await this.api.accountInfo(this.toAccountID);\n    if (!from) return this.notifications.sendError(`From account not found`);\n\n    from.balanceBN = new BigNumber(from.balance || 0);\n    to.balanceBN = new BigNumber(to.balance || 0);\n\n    this.fromAccount = from;\n    this.toAccount = to;\n\n    const rawAmount = this.getAmountBaseValue(this.amount || 0);\n    this.rawAmount = rawAmount.plus(this.amountRaw);\n\n    const cevizAmount = this.rawAmount.div(this.ceviz);\n\n    if (this.amount < 0 || rawAmount.lessThan(0)) return this.notifications.sendWarning(`Amount is invalid`);\n    if (from.balanceBN.minus(rawAmount).lessThan(0)) return this.notifications.sendError(`From account does not have enough CEVZ`);\n\n    // Determine a proper raw amount to show in the UI, if a decimal was entered\n    this.amountRaw = this.rawAmount.mod(this.ceviz);\n\n    // Determine fiat value of the amount\n    this.amountFiat = this.util.ceviz.rawToMceviz(rawAmount).times(this.price.price.lastPrice).toNumber();\n\n    const remaining = new BigNumber(from.balance).minus(this.rawAmount);\n    const remainingDecimal = remaining.toString(10);\n\n    const defaultRepresentative = this.settings.settings.defaultRepresentative || this.cevizBlock.getRandomRepresentative();\n    const representative = from.representative || defaultRepresentative;\n    const blockData = {\n      account: this.accountID.replace('ceviz_', 'ceviz_').toLowerCase(),\n      previous: from.frontier,\n      representative: representative,\n      balance: remainingDecimal,\n      link: this.util.account.getAccountPublicKey(this.toAccountID),\n    };\n    this.blockHash = nanocurrency.hashBlock({\n      account: blockData.account,\n      link: blockData.link,\n      previous: blockData.previous,\n      representative: blockData.representative,\n      balance: blockData.balance\n    });\n    console.log('Created block', blockData);\n    console.log('Block hash: ' + this.blockHash);\n\n    // Previous block info\n    const previousBlockInfo = await this.api.blockInfo(blockData.previous);\n    if (!('contents' in previousBlockInfo)) return this.notifications.sendError(`Previous block not found`);\n    const jsonBlock = JSON.parse(previousBlockInfo.contents);\n    const blockDataPrevious = {\n      account: jsonBlock.account.replace('ceviz_', 'ceviz_').toLowerCase(),\n      previous: jsonBlock.previous,\n      representative: jsonBlock.representative,\n      balance: jsonBlock.balance,\n      link: jsonBlock.link,\n      signature: jsonBlock.signature,\n    };\n\n    // Ceviz signing standard\n    this.qrString = 'cevizsign:{\"block\":' + JSON.stringify(blockData) + ',\"previous\":' + JSON.stringify(blockDataPrevious) + '}';\n    const qrCode = await QRCode.toDataURL(this.qrString, { errorCorrectionLevel: 'L', scale: 16 });\n    this.qrCodeImageBlock = qrCode;\n  }\n\n  async generateReceive(pendingHash) {\n    this.qrCodeImageBlockReceive = null;\n    this.qrString = null;\n    this.blockHashReceive = null;\n\n    const UIkit = window['UIkit'];\n    const modal = UIkit.modal('#receive-modal');\n    modal.show();\n\n    const toAcct = await this.api.accountInfo(this.accountID);\n\n    const openEquiv = !toAcct || !toAcct.frontier; // if open block\n\n    const previousBlock = toAcct.frontier || this.zeroHash; // set to zeroes if open block\n    const defaultRepresentative = this.settings.settings.defaultRepresentative || this.cevizBlock.getRandomRepresentative();\n    const representative = toAcct.representative || defaultRepresentative;\n\n    const srcBlockInfo = await this.api.blocksInfo([pendingHash]);\n    const srcAmount = new BigNumber(srcBlockInfo.blocks[pendingHash].amount);\n    const newBalance = openEquiv ? srcAmount : new BigNumber(toAcct.balance).plus(srcAmount);\n    const newBalanceDecimal = newBalance.toString(10);\n\n    const blockData = {\n      account: this.accountID.replace('ceviz_', 'ceviz_').toLowerCase(),\n      previous: previousBlock,\n      representative: representative,\n      balance: newBalanceDecimal,\n      link: pendingHash,\n    };\n\n    this.blockHashReceive = nanocurrency.hashBlock({\n      account: blockData.account,\n      link: blockData.link,\n      previous: blockData.previous,\n      representative: blockData.representative,\n      balance: blockData.balance\n    });\n    console.log('Created block', blockData);\n    console.log('Block hash: ' + this.blockHashReceive);\n\n    // Previous block info\n    let blockDataPrevious = null;\n    if (!openEquiv) {\n      const previousBlockInfo = await this.api.blockInfo(blockData.previous);\n      if (!('contents' in previousBlockInfo)) return this.notifications.sendError(`Previous block not found`);\n      const jsonBlock = JSON.parse(previousBlockInfo.contents);\n      blockDataPrevious = {\n        account: jsonBlock.account.replace('ceviz_', 'ceviz_').toLowerCase(),\n        previous: jsonBlock.previous,\n        representative: jsonBlock.representative,\n        balance: jsonBlock.balance,\n        link: jsonBlock.link,\n        signature: jsonBlock.signature,\n      };\n    }\n\n    let qrData;\n    if (blockDataPrevious) {\n      qrData = {\n        block: blockData,\n        previous: blockDataPrevious\n      };\n    } else {\n      qrData = {\n        block: blockData\n      };\n    }\n\n    // Ceviz signing standard\n    this.qrString = 'cevizsign:' + JSON.stringify(qrData);\n\n    const qrCode = await QRCode.toDataURL(this.qrString, { errorCorrectionLevel: 'L', scale: 16 });\n    this.qrCodeImageBlockReceive = qrCode;\n  }\n\n  async generateChange() {\n    if (!this.util.account.isValidAccount(this.representativeModel)) return this.notifications.sendError(`Not a valid representative account`);\n    this.qrCodeImageBlock = null;\n    this.blockHash = null;\n    this.qrString = null;\n\n    const account = await this.api.accountInfo(this.accountID);\n\n    if (!account || !('frontier' in account)) return this.notifications.sendError(`Account must be opened first!`);\n\n    const balance = new BigNumber(account.balance);\n    const balanceDecimal = balance.toString(10);\n    const blockData = {\n      account: this.accountID.replace('ceviz_', 'ceviz_').toLowerCase(),\n      previous: account.frontier,\n      representative: this.representativeModel,\n      balance: balanceDecimal,\n      link: this.zeroHash,\n    };\n\n    this.blockHash = nanocurrency.hashBlock({\n      account: blockData.account,\n      link: blockData.link,\n      previous: blockData.previous,\n      representative: blockData.representative,\n      balance: blockData.balance\n    });\n\n    console.log('Created block', blockData);\n    console.log('Block hash: ' + this.blockHash);\n\n    // Previous block info\n    const previousBlockInfo = await this.api.blockInfo(blockData.previous);\n    if (!('contents' in previousBlockInfo)) return this.notifications.sendError(`Previous block not found`);\n    const jsonBlock = JSON.parse(previousBlockInfo.contents);\n    const blockDataPrevious = {\n      account: jsonBlock.account.replace('ceviz_', 'ceviz_').toLowerCase(),\n      previous: jsonBlock.previous,\n      representative: jsonBlock.representative,\n      balance: jsonBlock.balance,\n      link: jsonBlock.link,\n      signature: jsonBlock.signature,\n    };\n\n    // Ceviz signing standard\n    this.qrString = 'cevizsign:{\"block\":' + JSON.stringify(blockData) + ',\"previous\":' + JSON.stringify(blockDataPrevious) + '}';\n    const qrCode = await QRCode.toDataURL(this.qrString, { errorCorrectionLevel: 'L', scale: 16 });\n    this.qrCodeImageBlock = qrCode;\n  }\n\n  showRemote(state: boolean) {\n    this.remoteVisible = !state;\n  }\n\n  showRemoteModal() {\n    const UIkit = window['UIkit'];\n    const modal = UIkit.modal('#block-modal');\n    modal.show();\n    this.clearRemoteVars();\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'account1':\n          this.toAccountID = data.content;\n          this.validateDestination();\n          break;\n        case 'rep1':\n          this.representativeModel = data.content;\n          this.validateRepresentative();\n          break;\n      }\n    }, () => {}\n    );\n  }\n\n  resetRaw() {\n    this.amountRaw = new BigNumber(0);\n  }\n\n  // End remote signing methods\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport {UtilService} from '../../services/util.service';\nimport { Router } from '@angular/router';\nimport { NotificationService } from '../../services/notification.service';\nimport { RemoteSignService } from '../../services/remote-sign.service';\nimport { QrModalService } from '../../services/qr-modal.service';\n\n@Component({\n  selector: 'app-send',\n  templateUrl: './remote-signing.component.html',\n  styleUrls: ['./remote-signing.component.css']\n})\nexport class RemoteSigningComponent implements OnInit {\n  toAccountID = '';\n  toAccountStatus: number = null;\n  unsignedBlock = '';\n  signedBlock = '';\n  unsignedStatus: number = null;\n  signedStatus: number = null;\n\n  constructor(\n    private util: UtilService,\n    private router: Router,\n    private notifcationService: NotificationService,\n    private remoteSignService: RemoteSignService,\n    private qrModalService: QrModalService,\n  ) { }\n\n  async ngOnInit() {\n\n  }\n\n  validateDestination() {\n    if (this.util.account.isValidAccount(this.toAccountID)) {\n      this.toAccountStatus = 1;\n      return true;\n    } else {\n      this.toAccountStatus = 0;\n      return false;\n    }\n  }\n\n  validateUnsigned(string) {\n    let url = null;\n    if (string.startsWith('cevizsign:')) {\n      url = new URL(string);\n    }\n    if (url && this.remoteSignService.checkSignBlock(url.pathname)) {\n      this.unsignedStatus = 1;\n    } else {\n      this.unsignedStatus = 0;\n    }\n  }\n\n  validateSigned(string) {\n    let url = null;\n    if (string.startsWith('cevizprocess:')) {\n      url = new URL(string);\n    }\n    if (url && this.remoteSignService.checkSignBlock(url.pathname) && this.remoteSignService.checkProcessBlock(url.pathname)) {\n      this.signedStatus = 1;\n    } else {\n      this.signedStatus = 0;\n    }\n  }\n\n  start() {\n    if (this.validateDestination()) {\n      this.router.navigate(['account', this.toAccountID], { queryParams: {sign: 1}});\n    } else {\n      this.notifcationService.sendWarning('Not a valid account format!');\n    }\n  }\n\n  navigateBlock(block) {\n    let badScheme = false;\n\n    if (block.startsWith('cevizsign:') || block.startsWith('cevizprocess:')) {\n      const url = new URL(block);\n      if (url.protocol === 'cevizsign:') {\n        this.remoteSignService.navigateSignBlock(url);\n      } else if (url.protocol === 'cevizprocess:') {\n        this.remoteSignService.navigateProcessBlock(url);\n      } else {\n        badScheme = true;\n      }\n    } else {\n      badScheme = true;\n    }\n    if (badScheme) {\n      this.notifcationService.sendWarning('Not a recognized block format!', { length: 5000 });\n    }\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'account1':\n          this.toAccountID = data.content;\n          break;\n      }\n    }, () => {}\n    );\n  }\n}\n","<div uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2>Remote Signing</h2>\n\n    <div uk-grid class=\"uk-animation-slide-left-small\">\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default\">\n          <div class=\"uk-card-body\">\n            <p><strong>An extremely secure way of transacting on the Ceviz network without exposing your private keys to the Internet, ensuring only non-sensitive data is transferred between devices.</strong>\n            <br>\n            A full security and user guide is found <a href=\"https://docs.nault.cc/2020/08/05/security-of-nano.html#transact-using-a-remote-signing-procedure\">here</a>.\n            </p>\n\n            <h4>STEP 1 - Create Block (Online Device)</h4>\n            <p>Create a SEND, RECEIVE or CHANGE block from a \"watch-only\" account. No login is needed.</p>\n\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-text2\">Account to create a block for</label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('account1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n                    <input (keyup)=\"validateDestination()\" (keyup.enter)=\"start()\" [(ngModel)]=\"toAccountID\" class=\"uk-input\" [ngClass]=\"{ 'uk-form-success': toAccountStatus === 1, 'uk-form-danger': toAccountStatus === 0 }\" type=\"text\" placeholder=\"ceviz_abc..123\" autocomplete=\"off\">\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"uk-inline uk-width-1-1\">\n              <button class=\"uk-button uk-button-primary uk-width-1-6@m uk-width-1-1\" (click)=\"start()\">CREATE</button>\n            </div>\n\n            <h4>STEP 2 - Sign Block (Offline Device)</h4>\n            <p><a routerLink=\"/qr-scan\" routerLinkActive=\"active\">Scan the unsigned QR code</a> from Step 1 <strong>OR</strong> paste the block below. Sign it using a key owning the account from step 1.<br>\n            Nault can optionally be set in Offline Mode from the <a routerLink=\"/configure-app\" routerLinkActive=\"active\">Server Configuration</a> to avoid network notifications.</p>\n\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-text2\">Unsigned block from step 1</label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <input (keyup)=\"validateUnsigned(unsignedBlock)\" (keyup.enter)=\"navigateBlock(unsignedBlock)\" [(ngModel)]=\"unsignedBlock\" class=\"uk-input\" [ngClass]=\"{ 'uk-form-success': unsignedStatus === 1, 'uk-form-danger': unsignedStatus === 0 }\" type=\"text\" placeholder=\"cevizsign:{abc..}\" autocomplete=\"off\">\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"uk-inline uk-width-1-1\">\n              <button class=\"uk-button uk-button-primary uk-width-1-6@m uk-width-1-1\" (click)=\"navigateBlock(unsignedBlock)\">SIGN</button>\n            </div>\n\n            <h4>STEP 3 - Process Block (Online Device)</h4>\n            <p><a routerLink=\"/qr-scan\" routerLinkActive=\"active\">Scan the signed QR code</a> from Step 2 <strong>OR</strong> paste the block below. Confirm and send it to the live network!</p>\n\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"form-horizontal-text2\">Signed block from step 2</label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <input (keyup)=\"validateSigned(signedBlock)\" (keyup.enter)=\"navigateBlock(signedBlock)\" [(ngModel)]=\"signedBlock\" class=\"uk-input\" [ngClass]=\"{ 'uk-form-success': signedStatus === 1, 'uk-form-danger': signedStatus === 0 }\" type=\"text\" placeholder=\"cevizprocess:{abc..}\" autocomplete=\"off\">\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"uk-inline uk-width-1-1\">\n              <button class=\"uk-button uk-button-primary uk-width-1-6@m uk-width-1-1\" (click)=\"navigateBlock(signedBlock)\">PROCESS</button>\n            </div>\n          </div>\n        </div>\n      </div>\n  </div>\n</div>\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\" id=\"address-book-sortable\">\n    \n    <div class=\"uk-margin-bottom\" uk-grid>\n      <div class=\"uk-width-expand@s uk-width-1-1\">\n        <h2 class=\"uk-heading-divider\">\n          Address Book\n          <a (click)=\"activePanel =  activePanel === 0 ? 2 : 0;\" style=\"font-size: 12px; margin-left: 25px;\">{{ activePanel === 2 ? 'ADDRESS BOOK' : 'IMPORT / EXPORT' }}</a>\n        </h2>\n      </div>\n      <div class=\"uk-width-auto@s uk-width-1-1 uk-text-right\">\n        <button class=\"uk-button uk-button-secondary uk-align-right uk-width-auto@s\" (click)=\"activePanel = 1;\">Add New Contact</button>\n      </div>\n    </div>\n\n    <div class=\"uk-width-1-1 nlt-page-intro\">\n      <p>\n        You can use the address book to store a label for your own accounts and others you frequently transact with, which are visible throughout the application.\n      </p>\n    </div>\n\n    <div class=\"uk-animation-slide-left-small\" *ngIf=\"activePanel === 0\" uk-grid>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-margin\">\n\n          <ul class=\"uk-list uk-list-striped\" style=\"margin-bottom: 0;\">\n            <li style=\"background: #fff; border-bottom: 0;\">\n              <div uk-grid style=\"color: #999; text-transform: uppercase; font-size: .875rem; font-weight: 400;\">\n                <div class=\"uk-width-2-5\">Name</div>\n                <div class=\"uk-width-expand\">Account ID</div>\n                <div class=\"uk-width-1-6 uk-text-center\" style=\"padding-left: 0;\">Options</div>\n              </div>\n            </li>\n          </ul>\n\n          <ul class=\"uk-list uk-list-striped\" style=\"margin-top: 0;\" uk-sortable=\"handle: .uk-sortable-handle; cls-custom: uk-box-shadow-small uk-background uk-background-default;\">\n            <li class=\"\" *ngFor=\"let addressBook of addressBook$ | async;\" [attr.data-account]=\"addressBook.account\">\n              <div uk-grid>\n                <div class=\"uk-width-2-5 uk-text-truncate uk-visible-toggle\">\n                  <div uk-grid>\n                    <div class=\"uk-width-expand uk-text-truncate\">\n                      <a (click)=\"editEntry(addressBook)\" class=\"uk-link-text\" title=\"Edit Account Label\" uk-tooltip>{{ addressBook.name }}</a>\n                    </div>\n                    <ul class=\"uk-iconnav uk-width-auto\" style=\"padding-left: 0;\">\n                      <li><span class=\"uk-sortable-handle uk-margin-small-right\" uk-icon=\"icon: table\"></span></li>\n                    </ul>\n                  </div>\n                </div>\n                <div class=\"uk-width-expand uk-text-truncate uk-visible-toggle\">\n                  <div uk-grid>\n                    <div class=\"uk-width-expand uk-text-truncate\">\n                      <a [routerLink]=\"'/account/' + addressBook.account\" class=\"uk-link-text uk-display-block\" title=\"View Account Details\" uk-tooltip>\n                        <app-nano-account-id [accountID]=\"addressBook.account\"></app-nano-account-id>\n                      </a>\n                    </div>\n                    <ul class=\"uk-iconnav\" style=\"padding-left: 10px;\">\n                      <li><a ngxClipboard [cbContent]=\"addressBook.account\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                    </ul>\n                  </div>\n\n                </div>\n                <div class=\"uk-width-1-6 uk-text-center\" style=\"padding-left: 0;\">\n                  <a (click)=\"deleteAddress(addressBook.account)\" class=\"uk-text-danger\" title=\"Delete From Address Book\" uk-tooltip><span uk-icon=\"icon: trash;\"></span></a>\n                </div>\n              </div>\n\n            </li>\n            <li *ngIf=\"!(addressBook$ | async).length\" class=\"uk-text-center\">\n              You do not have any address book entries saved yet, <a (click)=\"activePanel = 1\">click here to create one</a>.\n            </li>\n          </ul>\n\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-animation-slide-left-small\" *ngIf=\"activePanel === 1\" uk-grid>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default\">\n          <div class=\"uk-card-header\">\n            <h2 class=\"uk-card-title\">Add New Contact</h2>\n          </div>\n          <div class=\"uk-card-body\">\n            <div class=\"uk-form-horizontal\">\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"new-address-account\">Account ID</label>\n                <div class=\"uk-form-controls\">\n                  <div class=\"uk-inline uk-width-1-1\">\n                    <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('account1','account')\" uk-tooltip title=\"Scan from QR code\"></a>\n                    <input type=\"text\" class=\"uk-input\" id=\"new-address-account\" [(ngModel)]=\"newAddressAccount\" placeholder=\"ceviz_abc123\">\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"uk-margin\">\n                <label class=\"uk-form-label\" for=\"new-address-name\">Name</label>\n                <div class=\"uk-form-controls\">\n                  <input type=\"text\" class=\"uk-input\" id=\"new-address-name\" [(ngModel)]=\"newAddressName\" (keyup.enter)=\"saveNewAddress()\" placeholder=\"Exchange Deposit Address, Main Trading Account, etc\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"uk-card-footer\">\n            <div uk-grid>\n              <div class=\"uk-width-1-2@s uk-text-left\">\n                <button class=\"uk-button uk-button-danger uk-width-1-1\" (click)=\"cancelNewAddress()\">Cancel</button>\n              </div>\n              <div class=\"uk-width-1-2@s uk-text-right\">\n                <button class=\"uk-button uk-button-primary uk-width-1-1\" (click)=\"saveNewAddress()\">Save New Contact</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-animation-slide-left-small\" *ngIf=\"activePanel === 2\" uk-grid>\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default\">\n          <div class=\"uk-card-header\">\n            <h3 class=\"uk-card-title\">Import / Export</h3>\n          </div>\n          <div class=\"uk-card-body\">\n            Use this tool to simplify transferring your address book between devices.  Use the options below to import or export your\n            address book from a file or QR Code/URL.  Your address book is NOT encrypted by your wallet password.\n            <div *ngIf=\"addressBookShowQRExport\" uk-grid>\n              <div class=\"uk-width-1-1\">\n                <hr class=\"uk-divider-icon\">\n              </div>\n\n              <div class=\"uk-width-1-2@s uk-width-1-4@m\">\n                <img [src]=\"addressBookQRExportImg\" alt=\"QR code\">\n              </div>\n              <div class=\"uk-width-1-2@s uk-width-3-4@m\">\n                Scan the QR code on any device to import your Nault Address Book!<br>\n                <br>\n                If you do not have a QR code scanner, you can also import your address book by using the URL below.<br>\n                <input type=\"text\" class=\"uk-input\" value=\"{{ addressBookQRExportUrl }}\"><br>\n                <a title=\"Copy Export URL To Clipboard\" ngxClipboard [cbContent]=\"addressBookQRExportUrl\" (cbOnSuccess)=\"notificationService.sendSuccess('Address book export copied to clipboard!')\" uk-tooltip>Copy to clipboard</a>\n              </div>\n            </div>\n          </div>\n          <div class=\"uk-card-footer uk-text-right@s uk-text-center nlt-button-group\">\n            <div class=\"js-upload uk-text-left uk-width-auto@s uk-width-1-1\" style=\"display: inline-block;\" uk-form-custom>\n              <input type=\"file\" id=\"import-from-file\" (change)=\"importFromFile($event.target.files)\" multiple>\n              <button class=\"uk-button uk-button-primary uk-width-auto@s uk-width-1-1\" type=\"button\" tabindex=\"-1\">Import Address Book</button>\n            </div>\n            <button (click)=\"exportAddressBookToFile()\" class=\"uk-button uk-button-secondary uk-width-auto@s uk-width-1-1\">Export As File</button>\n            <button (click)=\"exportAddressBook()\" class=\"uk-button uk-button-secondary uk-width-auto@s uk-width-1-1\">Export As QR Code / URL</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n</div>\n","import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {ModalService} from '../../services/modal.service';\nimport {UtilService} from '../../services/util.service';\nimport { QrModalService } from '../../services/qr-modal.service';\nimport {Router} from '@angular/router';\nimport * as QRCode from 'qrcode';\n\n@Component({\n  selector: 'app-address-book',\n  templateUrl: './address-book.component.html',\n  styleUrls: ['./address-book.component.css']\n})\nexport class AddressBookComponent implements OnInit, AfterViewInit {\n\n  activePanel = 0;\n\n  addressBook$ = this.addressBookService.addressBook$;\n  newAddressAccount = '';\n  newAddressName = '';\n  addressBookShowQRExport = false;\n  addressBookQRExportUrl = '';\n  addressBookQRExportImg = '';\n  importExport = false;\n\n  constructor(\n    private addressBookService: AddressBookService,\n    private walletService: WalletService,\n    public notificationService: NotificationService,\n    public modal: ModalService,\n    private util: UtilService,\n    private qrModalService: QrModalService,\n    private router: Router) { }\n\n  async ngOnInit() {\n    this.addressBookService.loadAddressBook();\n  }\n\n  ngAfterViewInit() {\n    // Listen for reordering events\n    document.getElementById('address-book-sortable').addEventListener('moved', (e) => {\n      const element = e.target as HTMLDivElement;\n      const elements = element.children;\n\n      const result = [].slice.call(elements);\n      const datas = result.map(el => el.dataset.account);\n\n      this.addressBookService.setAddressBookOrder(datas);\n      this.notificationService.sendSuccess(`Updated address book order`);\n    });\n  }\n\n  editEntry(addressBook) {\n    this.newAddressAccount = addressBook.account;\n    this.newAddressName = addressBook.name;\n    this.activePanel = 1;\n    setTimeout(() => {\n      document.getElementById('new-address-name').focus();\n    }, 150);\n  }\n\n  async saveNewAddress() {\n    if (!this.newAddressAccount || !this.newAddressName) return this.notificationService.sendError(`Account and name are required`);\n\n    this.newAddressAccount = this.newAddressAccount.replace(/ /g, ''); // Remove spaces\n\n    // Make sure name doesn't exist\n    if (this.addressBookService.nameExists(this.newAddressName)) {\n      return this.notificationService.sendError(`This name is already in use!  Please use a unique name`);\n    }\n\n    // Make sure the address is valid\n    const valid = this.util.account.isValidAccount(this.newAddressAccount);\n    if (!valid) return this.notificationService.sendWarning(`Account ID is not a valid account`);\n\n    try {\n      await this.addressBookService.saveAddress(this.newAddressAccount, this.newAddressName);\n      this.notificationService.sendSuccess(`Successfully created new name for account!`);\n      // IF this is one of our accounts, set its name, and hope things update?\n      const walletAccount = this.walletService.wallet.accounts.find(a => a.id.toLowerCase() === this.newAddressAccount.toLowerCase());\n      if (walletAccount) {\n        walletAccount.addressBookName = this.newAddressName;\n      }\n      this.cancelNewAddress();\n    } catch (err) {\n      this.notificationService.sendError(`Unable to save entry: ${err.message}`);\n    }\n  }\n\n  cancelNewAddress() {\n    this.newAddressName = '';\n    this.newAddressAccount = '';\n    this.activePanel = 0;\n  }\n\n  copied() {\n    this.notificationService.sendSuccess(`Account address copied to clipboard!`);\n  }\n\n  async deleteAddress(account) {\n    try {\n      this.addressBookService.deleteAddress(account);\n      this.notificationService.sendSuccess(`Successfully deleted address book entry`);\n    } catch (err) {\n      this.notificationService.sendError(`Unable to delete entry: ${err.message}`);\n    }\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'account1':\n          this.newAddressAccount = data.content;\n          break;\n      }\n    }, () => {}\n    );\n  }\n\n  async exportAddressBook() {\n    const exportData = this.addressBookService.addressBook;\n    if (exportData.length >= 25) {\n      return this.notificationService.sendError(`Address books with more than 24 entries need to use the file export method.`);\n    }\n    const base64Data = btoa(JSON.stringify(exportData));\n    const exportUrl = `https://nault.cc/import-address-book#${base64Data}`;\n\n    this.addressBookQRExportUrl = exportUrl;\n    this.addressBookQRExportImg = await QRCode.toDataURL(exportUrl);\n    this.addressBookShowQRExport = true;\n  }\n\n  exportAddressBookToFile() {\n    const fileName = `Nault-AddressBook.json`;\n\n    const exportData = this.addressBookService.addressBook;\n    this.triggerFileDownload(fileName, exportData);\n\n    this.notificationService.sendSuccess(`Address book export downloaded!`);\n  }\n\n  importFromFile(files) {\n    if (!files.length) {\n      return;\n    }\n\n    const file = files[0];\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      const fileData = event.target['result'] as string;\n      try {\n        const importData = JSON.parse(fileData);\n        if (!importData.length || !importData[0].account) {\n          return this.notificationService.sendError(`Bad import data, make sure you selected a Nault Address Book export`);\n        }\n\n        const encoded = btoa(JSON.stringify(importData));\n        this.router.navigate(['import-address-book'], { fragment: encoded });\n      } catch (err) {\n        this.notificationService.sendError(`Unable to parse import data, make sure you selected the right file!`);\n      }\n    };\n\n    reader.readAsText(file);\n  }\n\n  triggerFileDownload(fileName, exportData) {\n    const blob = new Blob([JSON.stringify(exportData)], { type: 'application/json' });\n\n    // Check for iOS, which is weird with saving files\n    const iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveBlob(blob, fileName);\n    } else {\n      const elem = window.document.createElement('a');\n      const objUrl = window.URL.createObjectURL(blob);\n      if (iOS) {\n        elem.href = `data:attachment/file,${JSON.stringify(exportData)}`;\n      } else {\n        elem.href = objUrl;\n      }\n      elem.download = fileName;\n      document.body.appendChild(elem);\n      elem.click();\n      setTimeout(function() {\n        document.body.removeChild(elem);\n        window.URL.revokeObjectURL(objUrl);\n      }, 200);\n    }\n  }\n\n}\n","export * from './address-book.service';\nexport * from './api.service';\nexport * from './app-settings.service';\nexport * from './desktop.service';\nexport * from './ledger.service';\nexport * from './modal.service';\nexport * from './nano-block.service';\nexport * from './node.service';\nexport * from './notification.service';\nexport * from './pow.service';\nexport * from './price.service';\nexport * from './representative.service';\nexport * from './util.service';\nexport * from './wallet.service';\nexport * from './websocket.service';\nexport * from './work-pool.service';\nexport * from './ninja.service';\n","import { Injectable } from '@angular/core';\nimport {ApiService} from './api.service';\nimport {UtilService, StateBlock, TxType} from './util.service';\nimport {WorkPoolService} from './work-pool.service';\nimport BigNumber from 'bignumber.js';\nimport {NotificationService} from './notification.service';\nimport {AppSettingsService} from './app-settings.service';\nimport {LedgerService} from './ledger.service';\nimport { WalletAccount } from './wallet.service';\nimport {BehaviorSubject} from 'rxjs';\nconst nacl = window['nacl'];\n\n@Injectable()\nexport class CevizBlockService {\n  representativeAccounts = [\n    'ceviz_35egxpp7bh6384grkhto87sn99p1ax3o1mem4mb5yun6ddqagei3xin7s8hp', // Representative 1\n    'ceviz_3mh5qkrwhf9p6ppk5ci5yyoq9t5jhnfy4mm9fkwxeda9noxjc73imwb5bzhm', // Representative 2\n    'ceviz_385hcwzmm5dn5nrmu1opayeeqrgwihh3k3tezpgc91keac6bf76wmp8sqrd1', // Representative 3\n    'ceviz_3gbpjit54j98kad1hqmg6w4eeroqyayi7cb6nkthhy6u9bgczy784psmk9ky', // Representative 4\n  ];\n\n  zeroHash = '0000000000000000000000000000000000000000000000000000000000000000';\n\n  newOpenBlock$: BehaviorSubject<boolean|false> = new BehaviorSubject(false);\n\n  constructor(\n    private api: ApiService,\n    private util: UtilService,\n    private workPool: WorkPoolService,\n    private notifications: NotificationService,\n    private ledgerService: LedgerService,\n    public settings: AppSettingsService) { }\n\n  async generateChange(walletAccount, representativeAccount, ledger = false) {\n    const toAcct = await this.api.accountInfo(walletAccount.id);\n    if (!toAcct) throw new Error(`Account must have an open block first`);\n\n    const balance = new BigNumber(toAcct.balance);\n    const balanceDecimal = balance.toString(10);\n    const link = this.zeroHash;\n    const blockData = {\n      type: 'state',\n      account: walletAccount.id,\n      previous: toAcct.frontier,\n      representative: representativeAccount,\n      balance: balanceDecimal,\n      link: link,\n      signature: null,\n      work: null,\n    };\n\n    if (ledger) {\n      const ledgerBlock = {\n        previousBlock: toAcct.frontier,\n        representative: representativeAccount,\n        balance: balanceDecimal,\n      };\n      try {\n        this.sendLedgerNotification();\n        await this.ledgerService.updateCache(walletAccount.index, toAcct.frontier);\n        const sig = await this.ledgerService.signBlock(walletAccount.index, ledgerBlock);\n        this.clearLedgerNotification();\n        blockData.signature = sig.signature;\n      } catch (err) {\n        this.clearLedgerNotification();\n        this.sendLedgerDeniedNotification();\n        return;\n      }\n    } else {\n      this.validateAccount(toAcct);\n      this.signStateBlock(walletAccount, blockData);\n    }\n\n    if (!this.workPool.workExists(toAcct.frontier)) {\n      this.notifications.sendInfo(`Generating Proof of Work...`);\n    }\n\n    blockData.work = await this.workPool.getWork(toAcct.frontier);\n\n    const processResponse = await this.api.process(blockData, TxType.change);\n    if (processResponse && processResponse.hash) {\n      walletAccount.frontier = processResponse.hash;\n      this.workPool.addWorkToCache(processResponse.hash); // Add new hash into the work pool\n      this.workPool.removeFromCache(toAcct.frontier);\n      return processResponse.hash;\n    } else {\n      return null;\n    }\n  }\n\n  // This might be used in the future to send state changes on the blocks instead of normal true/false\n  // subscribeSend(walletAccount, toAccountID, rawAmount, ledger = false): Observable {\n  //   const doSend = async (observable) => {\n  //     console.log(`OBS: Promise resolve, running main send logic.`);\n  //     const startTime = Date.now();\n  //\n  //     console.log(`Observable: Creation event run`);\n  //     observable.next({ step: 0, startTime: startTime });\n  //\n  //\n  //     const fromAccount = await this.api.accountInfo(walletAccount.id);\n  //     if (!fromAccount) throw new Error(`Unable to get account information for ${walletAccount.id}`);\n  //\n  //     const remaining = new BigNumber(fromAccount.balance).minus(rawAmount);\n  //     const remainingDecimal = remaining.toString(10);\n  //     let remainingPadded = remaining.toString(16);\n  //     while (remainingPadded.length < 32) remainingPadded = '0' + remainingPadded; // Left pad with 0's\n  //\n  //     let blockData;\n  //     const representative = fromAccount.representative || (this.settings.settings.defaultRepresentative || this.representativeAccount);\n  //\n  //     observable.next({ step: 1, startTime: startTime, eventTime: ((Date.now() - startTime) / 1000).toFixed(3) });\n  //\n  //     let signature = null;\n  //     if (ledger) {\n  //       const ledgerBlock = {\n  //         previousBlock: fromAccount.frontier,\n  //         representative: representative,\n  //         balance: remainingDecimal,\n  //         recipient: toAccountID,\n  //       };\n  //       try {\n  //         this.sendLedgerNotification();\n  //         await this.ledgerService.updateCache(walletAccount.index, fromAccount.frontier);\n  //         const sig = await this.ledgerService.signBlock(walletAccount.index, ledgerBlock);\n  //         this.clearLedgerNotification();\n  //         signature = sig.signature;\n  //\n  //         observable.next({ step: 2, startTime: startTime, eventTime: ((Date.now() - startTime) / 1000).toFixed(3) });\n  //       } catch (err) {\n  //         this.clearLedgerNotification();\n  //         this.sendLedgerDeniedNotification(err);\n  //         return;\n  //       }\n  //     } else {\n  //       signature = this.signSendBlock(walletAccount, fromAccount, representative, remainingPadded, toAccountID);\n  //       observable.next({ step: 2, startTime: startTime, eventTime: ((Date.now() - startTime) / 1000).toFixed(3) });\n  //     }\n  //\n  //     if (!this.workPool.workExists(fromAccount.frontier)) {\n  //       this.notifications.sendInfo(`Generating Proof of Work...`);\n  //     }\n  //\n  //     blockData = {\n  //       type: 'state',\n  //       account: walletAccount.id,\n  //       previous: fromAccount.frontier,\n  //       representative: representative,\n  //       balance: remainingDecimal,\n  //       link: this.util.account.getAccountPublicKey(toAccountID),\n  //       work: await this.workPool.getWork(fromAccount.frontier),\n  //       signature: signature,\n  //     };\n  //\n  //     observable.next({ step: 3, startTime: startTime, eventTime: ((Date.now() - startTime) / 1000).toFixed(3) });\n  //\n  //     const processResponse = await this.api.process(blockData);\n  //     if (!processResponse || !processResponse.hash) throw new Error(processResponse.error || `Node returned an error`);\n  //\n  //     observable.next({ step: 4, startTime: startTime, eventTime: ((Date.now() - startTime) / 1000).toFixed(3) });\n  //\n  //     walletAccount.frontier = processResponse.hash;\n  //     this.workPool.addWorkToCache(processResponse.hash); // Add new hash into the work pool\n  //     this.workPool.removeFromCache(fromAccount.frontier);\n  //\n  //     observable.complete();\n  //   };\n  //\n  //\n  //   console.log(`Creating observable... on send...`);\n  //   // Create an observable that can be returned instantly.\n  //   return new Observable(observable => {\n  //\n  //     doSend(observable).then(val => console.log(val));\n  //   });\n  //\n  // }\n\n  async generateSend(walletAccount, toAccountID, rawAmount, ledger = false) {\n    const fromAccount = await this.api.accountInfo(walletAccount.id);\n    if (!fromAccount) throw new Error(`Unable to get account information for ${walletAccount.id}`);\n\n    const remaining = new BigNumber(fromAccount.balance).minus(rawAmount);\n    const remainingDecimal = remaining.toString(10);\n\n    const representative = fromAccount.representative || (this.settings.settings.defaultRepresentative || this.getRandomRepresentative());\n    const blockData = {\n      type: 'state',\n      account: walletAccount.id,\n      previous: fromAccount.frontier,\n      representative: representative,\n      balance: remainingDecimal,\n      link: this.util.account.getAccountPublicKey(toAccountID),\n      work: null,\n      signature: null,\n    };\n\n    if (ledger) {\n      const ledgerBlock = {\n        previousBlock: fromAccount.frontier,\n        representative: representative,\n        balance: remainingDecimal,\n        recipient: toAccountID,\n      };\n      try {\n        this.sendLedgerNotification();\n        await this.ledgerService.updateCache(walletAccount.index, fromAccount.frontier);\n        const sig = await this.ledgerService.signBlock(walletAccount.index, ledgerBlock);\n        this.clearLedgerNotification();\n        blockData.signature = sig.signature;\n      } catch (err) {\n        this.clearLedgerNotification();\n        this.sendLedgerDeniedNotification(err);\n        return;\n      }\n    } else {\n      this.validateAccount(fromAccount);\n      this.signStateBlock(walletAccount, blockData);\n    }\n\n    if (!this.workPool.workExists(fromAccount.frontier)) {\n      this.notifications.sendInfo(`Generating Proof of Work...`);\n    }\n\n    blockData.work = await this.workPool.getWork(fromAccount.frontier);\n\n    const processResponse = await this.api.process(blockData, TxType.send);\n    if (!processResponse || !processResponse.hash) throw new Error(processResponse.error || `Node returned an error`);\n\n    walletAccount.frontier = processResponse.hash;\n    this.workPool.addWorkToCache(processResponse.hash); // Add new hash into the work pool\n    this.workPool.removeFromCache(fromAccount.frontier);\n\n    return processResponse.hash;\n  }\n\n  async generateReceive(walletAccount, sourceBlock, ledger = false) {\n    const toAcct = await this.api.accountInfo(walletAccount.id);\n    let workBlock = null;\n\n    const openEquiv = !toAcct || !toAcct.frontier;\n\n    const previousBlock = toAcct.frontier || this.zeroHash;\n    const representative = toAcct.representative || (this.settings.settings.defaultRepresentative || this.getRandomRepresentative());\n\n    const srcBlockInfo = await this.api.blocksInfo([sourceBlock]);\n    const srcAmount = new BigNumber(srcBlockInfo.blocks[sourceBlock].amount);\n    const newBalance = openEquiv ? srcAmount : new BigNumber(toAcct.balance).plus(srcAmount);\n    const newBalanceDecimal = newBalance.toString(10);\n    let newBalancePadded = newBalance.toString(16);\n    while (newBalancePadded.length < 32) newBalancePadded = '0' + newBalancePadded; // Left pad with 0's\n    const blockData = {\n      type: 'state',\n      account: walletAccount.id,\n      previous: previousBlock,\n      representative: representative,\n      balance: newBalanceDecimal,\n      link: sourceBlock,\n      signature: null,\n      work: null\n    };\n\n    // We have everything we need, we need to obtain a signature\n    if (ledger) {\n      const ledgerBlock: any = {\n        representative: representative,\n        balance: newBalanceDecimal,\n        sourceBlock: sourceBlock,\n      };\n      if (!openEquiv) {\n        ledgerBlock.previousBlock = toAcct.frontier;\n      }\n      try {\n        this.sendLedgerNotification();\n        // On new accounts, we do not need to cache anything\n        if (!openEquiv) {\n          await this.ledgerService.updateCache(walletAccount.index, toAcct.frontier);\n        }\n        const sig = await this.ledgerService.signBlock(walletAccount.index, ledgerBlock);\n        this.notifications.removeNotification('ledger-sign');\n        blockData.signature = sig.signature.toUpperCase();\n      } catch (err) {\n        this.notifications.removeNotification('ledger-sign');\n        this.notifications.sendWarning(err.message || `Transaction denied on Ledger device`);\n        return;\n      }\n    } else {\n      this.validateAccount(toAcct);\n      this.signStateBlock(walletAccount, blockData);\n    }\n\n    workBlock = openEquiv ? this.util.account.getAccountPublicKey(walletAccount.id) : previousBlock;\n    if (!this.workPool.workExists(workBlock)) {\n      this.notifications.sendInfo(`Generating Proof of Work...`);\n    }\n\n    blockData.work = await this.workPool.getWork(workBlock);\n    const processResponse = await this.api.process(blockData, openEquiv ? TxType.open : TxType.receive);\n    if (processResponse && processResponse.hash) {\n      walletAccount.frontier = processResponse.hash;\n      this.workPool.addWorkToCache(processResponse.hash); // Add new hash into the work pool\n      this.workPool.removeFromCache(workBlock);\n\n      // update the rep view via subscription\n      if (openEquiv) {\n        this.informNewRep();\n      }\n      return processResponse.hash;\n    } else {\n      return null;\n    }\n  }\n\n  // for signing block when offline\n  async signOfflineBlock(walletAccount: WalletAccount, block: StateBlock, prevBlock: StateBlock,\n    type: TxType, genWork: boolean, multiplier: number, ledger = false) {\n    // special treatment if open block\n    const openEquiv = type === TxType.open;\n    console.log('Signing block of subtype: ' + TxType[type]);\n\n    if (ledger) {\n      let ledgerBlock = null;\n      if (type === TxType.send) {\n        ledgerBlock = {\n          previousBlock: block.previous,\n          representative: block.representative,\n          balance: block.balance,\n          recipient: this.util.account.getPublicAccountID(this.util.hex.toUint8(block.link)),\n        };\n      } else if (type === TxType.receive || type === TxType.open) {\n        ledgerBlock = {\n          representative: block.representative,\n          balance: block.balance,\n          sourceBlock: block.link,\n        };\n        if (!openEquiv) {\n          ledgerBlock.previousBlock = block.previous;\n        }\n      } else if (type === TxType.change) {\n        ledgerBlock = {\n          previousBlock: block.previous,\n          representative: block.representative,\n          balance: block.balance,\n        };\n      }\n      try {\n        this.sendLedgerNotification();\n        // On new accounts, we do not need to cache anything\n        if (!openEquiv) {\n          try {\n            // await this.ledgerService.updateCache(walletAccount.index, block.previous);\n            await this.ledgerService.updateCacheOffline(walletAccount.index, prevBlock);\n          } catch (err) {console.log(err); }\n        }\n        const sig = await this.ledgerService.signBlock(walletAccount.index, ledgerBlock);\n        this.clearLedgerNotification();\n        block.signature = sig.signature;\n      } catch (err) {\n        this.clearLedgerNotification();\n        this.sendLedgerDeniedNotification(err);\n        return null;\n      }\n    } else {\n      this.signStateBlock(walletAccount, block);\n    }\n\n    if (genWork) {\n      // For open blocks which don't have a frontier, use the public key of the account\n      const workBlock = openEquiv ? this.util.account.getAccountPublicKey(walletAccount.id) : block.previous;\n      if (!this.workPool.workExists(workBlock)) {\n        this.notifications.sendInfo(`Generating Proof of Work...`);\n      }\n\n      block.work = await this.workPool.getWork(workBlock, multiplier);\n      this.workPool.removeFromCache(workBlock);\n    }\n    return block; // return signed block (with or without work)\n  }\n\n  async validateAccount(accountInfo) {\n    if (!accountInfo) return;\n    if (!accountInfo.frontier || accountInfo.frontier === this.zeroHash) {\n      if (accountInfo.balance && accountInfo.balance !== '0') {\n        throw new Error(`Frontier not set, but existing account balance is nonzero`);\n      }\n      if (accountInfo.representative) {\n        throw new Error(`Frontier not set, but existing account representative is set`);\n      }\n      return;\n    }\n    const blockResponse = await this.api.blocksInfo([accountInfo.frontier]);\n    const blockData = blockResponse.blocks[accountInfo.frontier];\n    if (!blockData) throw new Error(`Unable to load block data`);\n    blockData.contents = JSON.parse(blockData.contents);\n    if (accountInfo.balance !== blockData.contents.balance || accountInfo.representative !== blockData.contents.representative) {\n      throw new Error(`Frontier block data doesn't match account info`);\n    }\n    if (blockData.contents.type !== 'state') {\n      throw new Error(`Frontier block wasn't a state block, which shouldn't be possible`);\n    }\n    if (this.util.hex.fromUint8(this.util.ceviz.hashStateBlock(blockData.contents)) !== accountInfo.frontier) {\n      throw new Error(`Frontier hash didn't match block data`);\n    }\n  }\n\n  // Sign a state block, and insert the signature into the block.\n  signStateBlock(walletAccount, blockData) {\n    const hashBytes = this.util.ceviz.hashStateBlock(blockData);\n    const privKey = walletAccount.keyPair.secretKey;\n    const signed = nacl.sign.detached(hashBytes, privKey, walletAccount.keyPair.expanded);\n    blockData.signature = this.util.hex.fromUint8(signed);\n  }\n\n  sendLedgerDeniedNotification(err = null) {\n    this.notifications.sendWarning(err && err.message || `Transaction denied on Ledger device`);\n  }\n  sendLedgerNotification() {\n    this.notifications.sendInfo(`Waiting for confirmation on Ledger Device...`, { identifier: 'ledger-sign', length: 0 });\n  }\n  clearLedgerNotification() {\n    this.notifications.removeNotification('ledger-sign');\n  }\n\n  getRandomRepresentative() {\n    return this.representativeAccounts[Math.floor(Math.random() * this.representativeAccounts.length)];\n  }\n\n  // Subscribable event when a new open block and we should update the rep info\n  informNewRep() {\n    this.newOpenBlock$.next(true);\n    this.newOpenBlock$.next(false);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {CurrencyPipe} from '@angular/common';\n\n@Pipe({\n  name: 'currencySymbol'\n})\nexport class CurrencySymbolPipe extends CurrencyPipe implements PipeTransform {\n\n  // This pipe simply shows the currency symbol ($, BTC, etc) and removes any numeric values\n  transform(value: any, args?: any): any {\n    const currency = super.transform(0, value, 'symbol', '1.0-2');\n    return currency.replace(/[0-9]/g, '');\n  }\n\n}\n","<div class=\"uk-animation-slide-left-small\" uk-grid>\n  <div class=\"uk-width-1-1\">\n\n    <h2 class=\"uk-heading-divider\">QR Generator</h2>\n\n    <div class=\"uk-card uk-card-default\">\n      <div class=\"uk-card-body\">\n        <div uk-grid>\n          <div class=\"uk-width-1-1\">\n            <textarea [(ngModel)]=\"input\" rows=\"5\" class=\"uk-input uk-margin-small-bottom\" placeholder=\"Text to be converted into QR\" (keyup)=\"generateQR()\" maxlength=\"2000\"></textarea>\n          </div>\n          <div class=\"block-qr\" [ngStyle]=\"{'width': width+'px'}\">\n            <img *ngIf=\"qrCodeImageBlock\" [src]=\"qrCodeImageBlock\" alt=\"QR code\">\n          </div>\n        </div>\n      </div>\n    </div>\n  \n  </div>\n  ","import { Component, OnInit } from '@angular/core';\nimport * as QRCode from 'qrcode';\n\n@Component({\n  selector: 'app-qr-generator',\n  templateUrl: './qr-generator.component.html',\n  styleUrls: ['./qr-generator.component.less']\n})\nexport class QrGeneratorComponent implements OnInit {\n  qrCodeImageBlock = null;\n  input = '';\n  width = 300;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  async generateQR() {\n    if (this.input === '') {\n      this.qrCodeImageBlock = null;\n      return;\n    }\n    // Gradually make QR larger when complexity increases\n    this.width = Math.min(Math.max(300, Math.round(Math.log2(this.input.length) * 120 - 300)), 800);\n    const qrCode = await QRCode.toDataURL(this.input, { errorCorrectionLevel: 'M', scale: 16 });\n    this.qrCodeImageBlock = qrCode;\n  }\n\n}\n","<div *ngIf=\"walletService.isLedgerWallet()\">\n  <div class=\"nav-status-row\" *ngIf=\"ledgerStatus === 'not-connected' || !ledgerStatus\">\n    <div class=\"status-icon\">\n      <span class=\"uk-text-warning\" uk-icon=\"icon: warning; ratio: 1.2;\"></span>\n    </div>\n    <div class=\"status-labels\">\n      <div class=\"label primary uk-text-warning\">Ledger disconnected</div>\n      <div class=\"label secondary\"><a (click)=\"reloadLedger()\">Click here</a> to reconnect</div>\n    </div>\n  </div>\n  <div class=\"nav-status-row\" *ngIf=\"( ledgerStatus === 'locked' )\">\n    <div class=\"status-icon\">\n      <span class=\"uk-text-warning\" uk-icon=\"icon: warning; ratio: 1.2;\"></span>\n    </div>\n    <div class=\"status-labels\">\n      <div class=\"label primary uk-text-warning\">Ledger app was closed</div>\n      <div class=\"label secondary\"><a (click)=\"reloadLedger()\">Click here</a> to reconnect</div>\n    </div>\n  </div>\n  <div class=\"nav-status-row interactable\" (click)=\"reloadLedger()\" *ngIf=\"( ledgerStatus === 'ready' )\">\n    <div class=\"status-icon\">\n      <span class=\"uk-text-success\" uk-icon=\"icon: bolt; ratio: 1.2;\"></span>\n    </div>\n    <div class=\"status-labels\">\n      <div class=\"label primary uk-text-success\">Ledger Ready</div>\n    </div>\n  </div>\n</div>\n\n<ng-container *ngIf=\"walletService.isConfigured() && !walletService.isLedgerWallet()\">\n  <div class=\"nav-status-row half-muted interactable\" (click)=\"modal.show()\" *ngIf=\"walletService.isLocked()\">\n    <div class=\"status-icon\">\n      <span uk-icon=\"icon: lock; ratio: 1.2;\" class=\"uk-text-top\"></span>\n    </div>\n    <div class=\"status-labels\">\n      <div class=\"label primary half-muted\">Wallet Locked</div>\n    </div>\n  </div>\n  <div class=\"nav-status-row half-muted interactable\" (click)=\"lockWallet()\" *ngIf=\"!walletService.isLocked()\">\n    <div class=\"status-icon\">\n      <span uk-icon=\"icon: unlock; ratio: 1.2;\" class=\"uk-text-top\"></span>\n    </div>\n    <div class=\"status-labels\">\n      <div class=\"label primary half-muted\">Wallet Unlocked</div>\n    </div>\n  </div>\n</ng-container>\n\n<a routerLink=\"/configure-wallet\" class=\"nav-status-row interactable\" *ngIf=\"!walletService.isConfigured()\">\n  <div class=\"status-icon\">\n    <span class=\"uk-text-warning\" uk-icon=\"icon: warning; ratio: 1.2;\"></span>\n  </div>\n  <div class=\"status-labels\">\n    <div class=\"label primary uk-text-warning\">Configure Wallet</div>\n  </div>\n</a>\n\n<div id=\"unlock-wallet-modal\" uk-modal>\n  <div class=\"uk-modal-dialog\">\n    <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n    <div class=\"uk-modal-header\">\n      <h2 class=\"uk-modal-title\">Unlock Wallet</h2>\n    </div>\n    <div class=\"uk-modal-body\">\n      <input autofocus type=\"password\" [(ngModel)]=\"unlockPassword\" (keyup.enter)=\"unlockWallet()\" class=\"uk-input\" placeholder=\"Enter wallet password\">\n    </div>\n    <div class=\"uk-modal-footer uk-text-right nlt-button-group\">\n      <button class=\"uk-button uk-button-default uk-modal-close\" type=\"button\">Cancel</button>\n      <button class=\"uk-button uk-button-primary\" type=\"button\" (click)=\"unlockWallet()\">Unlock</button>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {LedgerService} from '../../services/ledger.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\n\n@Component({\n  selector: 'app-wallet-widget',\n  templateUrl: './wallet-widget.component.html',\n  styleUrls: ['./wallet-widget.component.css']\n})\nexport class WalletWidgetComponent implements OnInit {\n  wallet = this.walletService.wallet;\n\n  ledgerStatus = 'not-connected';\n\n  unlockPassword = '';\n\n  modal: any = null;\n\n  constructor(\n    public walletService: WalletService,\n    private notificationService: NotificationService,\n    public ledgerService: LedgerService,\n    public settings: AppSettingsService) { }\n\n  ngOnInit() {\n    const UIkit = (window as any).UIkit;\n    const modal = UIkit.modal(document.getElementById('unlock-wallet-modal'));\n    this.modal = modal;\n\n    this.ledgerService.ledgerStatus$.subscribe((ledgerStatus: any) => {\n      this.ledgerStatus = ledgerStatus.status;\n    });\n  }\n\n  async lockWallet() {\n    if (this.wallet.type === 'ledger') {\n      return; // No need to lock a ledger wallet, no password saved\n    }\n    if (!this.wallet.password) {\n      return this.notificationService.sendWarning(`You must set a password on your wallet - it is currently blank!`);\n    }\n    const locked = await this.walletService.lockWallet();\n    if (locked) {\n      this.notificationService.sendSuccess(`Wallet locked`);\n    } else {\n      this.notificationService.sendError(`Unable to lock wallet`);\n    }\n  }\n\n  async reloadLedger() {\n    this.notificationService.sendInfo(`Checking Ledger Status...`, { identifier: 'ledger-status', length: 0 });\n    try {\n      const loaded = await this.ledgerService.loadLedger();\n      this.notificationService.removeNotification('ledger-status');\n      if (loaded) {\n        this.notificationService.sendSuccess(`Successfully connected to Ledger device`);\n      } else if (loaded === false) {\n        this.notificationService.sendError(`Unable to connect to Ledger device`);\n      }\n    } catch (err) {\n      console.log(`Got error when loading ledger! `, err);\n      this.notificationService.removeNotification('ledger-status');\n      // this.notificationService.sendError(`Unable to load Ledger Device: ${err.message}`);\n    }\n  }\n\n  async unlockWallet() {\n    await new Promise(resolve => setTimeout(resolve, 500)); // brute force delay\n    const unlocked = await this.walletService.unlockWallet(this.unlockPassword);\n\n    if (unlocked) {\n      this.notificationService.sendSuccess(`Wallet unlocked`);\n      this.modal.hide();\n      if (this.unlockPassword.length < 6) {\n        // tslint:disable-next-line: max-line-length\n        this.notificationService.sendWarning(`You are using an insecure password and encouraged to change it from settings > manage wallet`);\n      }\n    } else {\n      this.notificationService.sendError(`Invalid password, please try again!`);\n    }\n\n    this.unlockPassword = '';\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {WelcomeComponent} from './welcome/welcome.component';\nimport {ConfigureWalletComponent} from './components/configure-wallet/configure-wallet.component';\nimport {AccountsComponent} from './components/accounts/accounts.component';\nimport {SendComponent} from './components/send/send.component';\nimport {AddressBookComponent} from './components/address-book/address-book.component';\nimport {ReceiveComponent} from './components/receive/receive.component';\nimport {ManageWalletComponent} from './components/manage-wallet/manage-wallet.component';\nimport {ConfigureAppComponent} from './components/configure-app/configure-app.component';\nimport {AccountDetailsComponent} from './components/account-details/account-details.component';\nimport {TransactionDetailsComponent} from './components/transaction-details/transaction-details.component';\nimport {ImportWalletComponent} from './components/import-wallet/import-wallet.component';\nimport { ImportAddressBookComponent } from './components/import-address-book/import-address-book.component';\nimport {RepresentativesComponent} from './components/representatives/representatives.component';\nimport {SweeperComponent} from './components/sweeper/sweeper.component';\nimport {QrScanComponent} from './components/qr-scan/qr-scan.component';\nimport {SignComponent} from './components/sign/sign.component';\nimport {RemoteSigningComponent} from './components/remote-signing/remote-signing.component';\nimport {ConverterComponent} from './components/converter/converter.component';\nimport {QrGeneratorComponent} from './components/qr-generator/qr-generator.component';\n\nimport { environment } from '../environments/environment';\nimport {ManageRepresentativesComponent} from './components/manage-representatives/manage-representatives.component';\n\nconst routes: Routes = [\n  { path: '', component: WelcomeComponent },\n  { path: 'accounts', component: AccountsComponent },\n  { path: 'account/:account', component: AccountDetailsComponent },\n  { path: 'address-book', component: AddressBookComponent },\n  { path: 'configure-wallet', component: ConfigureWalletComponent },\n  { path: 'configure-app', component: ConfigureAppComponent },\n  { path: 'import-address-book', component: ImportAddressBookComponent },\n  { path: 'import-wallet', component: ImportWalletComponent },\n  { path: 'manage-wallet', component: ManageWalletComponent },\n  { path: 'qr-scan', component: QrScanComponent },\n  { path: 'send', component: SendComponent },\n  { path: 'receive', component: ReceiveComponent },\n  { path: 'representatives', component: RepresentativesComponent },\n  { path: 'manage-representatives', component: ManageRepresentativesComponent },\n  { path: 'transaction/:transaction', component: TransactionDetailsComponent },\n  { path: 'sweeper', component: SweeperComponent },\n  { path: 'sign', component: SignComponent },\n  { path: 'remote-signing', component: RemoteSigningComponent },\n  { path: 'converter', component: ConverterComponent },\n  { path: 'qr-generator', component: QrGeneratorComponent },\n];\n\n@NgModule({\n  imports: [\n    // On the desktop apps, use hashes so it works properly using only index.html\n    RouterModule.forRoot(routes, { useHash: environment.desktop }),\n  ],\n  declarations: [],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n\n","import { Injectable } from '@angular/core';\nimport * as url from 'url';\n\nexport type WalletStore = 'localStorage'|'none';\nexport type PoWSource = 'server'|'clientCPU'|'clientWebGL'|'best';\n\ninterface AppSettings {\n  displayDenomination: string;\n  // displayPrefix: string | null;\n  walletStore: string;\n  displayCurrency: string;\n  defaultRepresentative: string | null;\n  lockOnClose: number;\n  lockInactivityMinutes: number;\n  powSource: PoWSource;\n  pendingOption: string;\n  serverName: string;\n  serverAPI: string | null;\n  serverWS: string | null;\n  serverAuth: string | null;\n  minimumReceive: string | null;\n  walletVersion: number | null;\n}\n\n@Injectable()\nexport class AppSettingsService {\n  storeKey = `nanovault-appsettings`;\n\n  settings: AppSettings = {\n    displayDenomination: 'mceviz',\n    // displayPrefix: 'ceviz',\n    walletStore: 'localStorage',\n    displayCurrency: 'USD',\n    defaultRepresentative: null,\n    lockOnClose: 1,\n    lockInactivityMinutes: 30,\n    powSource: 'best',\n    pendingOption: 'amount',\n    serverName: 'random',\n    serverAPI: null,\n    serverWS: null,\n    serverAuth: null,\n    minimumReceive: null,\n    walletVersion: 1\n  };\n\n  serverOptions = [\n    {\n      name: 'Random',\n      value: 'random',\n      api: null,\n      ws: null,\n      auth: null,\n      shouldRandom: false,\n    },\n    {\n      name: 'Ceviz RPC',\n      value: 'ceviz',\n      api: 'https://ceviz-api.badem.io/proxy',\n      ws: 'wss://ceviz-ws.badem.io',\n      auth: null,\n      shouldRandom: true,\n    },\n    {\n      name: 'Custom',\n      value: 'custom',\n      api: null,\n      ws: null,\n      auth: null,\n      shouldRandom: false,\n    },\n    {\n      name: 'Offline Mode',\n      value: 'offline',\n      api: null,\n      ws: null,\n      auth: null,\n      shouldRandom: false,\n    }\n  ];\n\n  constructor() { }\n\n  loadAppSettings() {\n    let settings: AppSettings = this.settings;\n    const settingsStore = localStorage.getItem(this.storeKey);\n    if (settingsStore) {\n      settings = JSON.parse(settingsStore);\n    }\n    this.settings = Object.assign(this.settings, settings);\n\n    this.loadServerSettings();\n\n    return this.settings;\n  }\n\n  loadServerSettings() {\n    const matchingServerOption = this.serverOptions.find(d => d.value === this.settings.serverName);\n\n    if (this.settings.serverName === 'random' || !matchingServerOption) {\n      const availableServers = this.serverOptions.filter(server => server.shouldRandom);\n      const randomServerOption = availableServers[Math.floor(Math.random() * availableServers.length)];\n      console.log('SETTINGS: Random', randomServerOption);\n\n      this.settings.serverAPI = randomServerOption.api;\n      this.settings.serverWS = randomServerOption.ws;\n    } else if (this.settings.serverName === 'custom') {\n      console.log('SETTINGS: Custom');\n    } else if (this.settings.serverName === 'offline') {\n      console.log('SETTINGS: Offline Mode');\n      this.settings.serverName = matchingServerOption.value;\n      this.settings.serverAPI = matchingServerOption.api;\n      this.settings.serverWS = matchingServerOption.ws;\n    } else {\n      console.log('SETTINGS: Found', matchingServerOption);\n      this.settings.serverName = matchingServerOption.value;\n      this.settings.serverAPI = matchingServerOption.api;\n      this.settings.serverWS = matchingServerOption.ws;\n    }\n  }\n\n  saveAppSettings() {\n    localStorage.setItem(this.storeKey, JSON.stringify(this.settings));\n  }\n\n  getAppSetting(key) {\n    return this.settings[key] || null;\n  }\n\n  setAppSetting(key, value) {\n    this.settings[key] = value;\n    this.saveAppSettings();\n  }\n\n  setAppSettings(settingsObject) {\n    for (const key in settingsObject) {\n      if (!settingsObject.hasOwnProperty(key)) continue;\n      this.settings[key] = settingsObject[key];\n    }\n\n    this.saveAppSettings();\n  }\n\n  clearAppSettings() {\n    localStorage.removeItem(this.storeKey);\n    this.settings = {\n      displayDenomination: 'mceviz',\n      // displayPrefix: 'ceviz',\n      walletStore: 'localStorage',\n      displayCurrency: 'USD',\n      defaultRepresentative: null,\n      lockOnClose: 1,\n      lockInactivityMinutes: 30,\n      powSource: 'best',\n      pendingOption: 'amount',\n      serverName: 'random',\n      serverAPI: null,\n      serverWS: null,\n      serverAuth: null,\n      minimumReceive: null,\n      walletVersion: 1,\n    };\n  }\n\n  // Get the base URL part of the serverAPI, e.g. https://nanovault.io from https://nanovault.io/api/node-api.\n  getServerApiBaseUrl(): string {\n    const u = url.parse(this.settings.serverAPI);\n    u.pathname = '/';\n    return url.format(u);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport Nano from 'hw-app-nano';\nimport TransportU2F from '@ledgerhq/hw-transport-u2f';\nimport {Subject} from 'rxjs';\nimport {ApiService} from './api.service';\nimport {NotificationService} from './notification.service';\nimport { environment } from '../../environments/environment';\nimport {DesktopService} from './desktop.service';\n\nexport const STATUS_CODES = {\n  SECURITY_STATUS_NOT_SATISFIED: 0x6982,\n  CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\n  INVALID_SIGNATURE: 0x6a81,\n  CACHE_MISS: 0x6a82\n};\n\nexport const LedgerStatus = {\n  NOT_CONNECTED: 'not-connected',\n  LOCKED: 'locked',\n  READY: 'ready',\n};\n\n\nexport interface LedgerData {\n  status: string;\n  ceviz: any|null;\n  transport: any|null;\n}\n\nconst zeroBlock = '0000000000000000000000000000000000000000000000000000000000000000';\n\n@Injectable()\nexport class LedgerService {\n  walletPrefix = `44'/165'/`;\n\n  waitTimeout = 300000;\n  normalTimeout = 5000;\n  pollInterval = 15000;\n\n  pollingLedger = false;\n\n  ledger: LedgerData = {\n    status: LedgerStatus.NOT_CONNECTED,\n    ceviz: null,\n    transport: null,\n  };\n\n  // isDesktop = true;\n  isDesktop = environment.desktop;\n  queryingDesktopLedger = false;\n\n  ledgerStatus$: Subject<any> = new Subject();\n  desktopMessage$ = new Subject();\n\n  constructor(private api: ApiService,\n              private desktop: DesktopService,\n              private notifications: NotificationService) {\n    if (this.isDesktop) {\n      this.configureDesktop();\n    }\n  }\n\n  // Scraps binding to any existing transport/nano object\n  resetLedger() {\n    this.ledger.transport = null;\n    this.ledger.ceviz = null;\n  }\n\n  /**\n   * Prepare the main listener for events from the desktop client.\n   * Dispatches new messages via the main Observables\n   */\n  configureDesktop() {\n    this.desktop.connect();\n    this.desktop.on('ledger', (event, message) => {\n      if (!message || !message.event) return;\n      switch (message.event) {\n        case 'ledger-status':\n          this.ledger.status = message.data.status;\n          this.ledgerStatus$.next({ status: message.data.status, statusText: message.data.statusText });\n          break;\n\n        case 'account-details':\n        case 'cache-block':\n        case 'sign-block':\n          this.desktopMessage$.next(message);\n          break;\n      }\n    });\n  }\n\n  /**\n   * Get the next response coming from the desktop client for a specific event/filter\n   * @param eventType\n   * @param {any} filterFn\n   * @returns {Promise<any>}\n   */\n  async getDesktopResponse(eventType, filterFn?) {\n    return new Promise((resolve, reject) => {\n      const sub = this.desktopMessage$\n        .subscribe((response: any) => {\n          // Listen to all desktop messages until one passes our filters\n          if (response.event !== eventType) {\n            return; // Not the event we want.\n          }\n\n          if (filterFn) {\n            const shouldSkip = filterFn(response.data); // This function should return boolean\n            if (!shouldSkip) return; // This is not the message the subscriber wants\n          }\n\n          sub.unsubscribe(); // This is a message we want, safe to unsubscribe to further messages now.\n\n          if (response.data && response.data.error === true) {\n            return reject(new Error(response.data.errorMessage)); // Request failed!\n          }\n\n          resolve(response.data);\n        }, err => {\n          console.log(`Desktop message got error!`, err);\n          reject(err);\n        });\n    });\n\n  }\n\n\n\n  async getLedgerAccountDesktop(accountIndex, showOnScreen) {\n    if (this.queryingDesktopLedger) {\n      throw new Error(`Already querying desktop device, please wait`);\n    }\n    this.queryingDesktopLedger = true;\n\n    this.desktop.send('ledger', { event: 'account-details', data: { accountIndex, showOnScreen } });\n\n    try {\n      const details = await this.getDesktopResponse('account-details', a => a.accountIndex === accountIndex);\n      this.queryingDesktopLedger = false;\n\n      return details;\n    } catch (err) {\n      this.queryingDesktopLedger = false;\n      throw err;\n    }\n  }\n\n  async updateCacheDesktop(accountIndex, cacheData, signature) {\n    if (this.queryingDesktopLedger) {\n      throw new Error(`Already querying desktop device, please wait`);\n    }\n    this.queryingDesktopLedger = true;\n\n    this.desktop.send('ledger', { event: 'cache-block', data: { accountIndex, cacheData, signature } });\n\n    try {\n      const details = await this.getDesktopResponse('cache-block', a => a.accountIndex === accountIndex);\n      this.queryingDesktopLedger = false;\n\n      return details;\n    } catch (err) {\n      this.queryingDesktopLedger = false;\n      throw new Error(`Error caching block: ${err.message}`);\n    }\n  }\n\n  async signBlockDesktop(accountIndex, blockData) {\n    if (this.queryingDesktopLedger) {\n      throw new Error(`Already querying desktop device, please wait`);\n    }\n    this.queryingDesktopLedger = true;\n\n    this.desktop.send('ledger', { event: 'sign-block', data: { accountIndex, blockData } });\n\n    try {\n      const details = await this.getDesktopResponse('sign-block', a => a.accountIndex === accountIndex);\n      this.queryingDesktopLedger = false;\n\n      return details;\n    } catch (err) {\n      this.queryingDesktopLedger = false;\n      throw new Error(`Error signing block: ${err.message}`);\n    }\n  }\n\n  /**\n   * Determine if a broken browser is being used (Non-desktop Chrome)\n   */\n  isBrokenBrowser(): boolean {\n    if (this.isDesktop) {\n      return false;\n    }\n    // If we using Chromium and not on desktop - warn about Ledger issue\n    const isChromium = window['chrome'];\n    const winNav = window.navigator;\n    const vendorName = winNav.vendor;\n    const isOpera = typeof window['opr'] !== 'undefined';\n    const isIEedge = winNav.userAgent.indexOf('Edge') > -1;\n    const isIOSChrome = winNav.userAgent.match('CriOS');\n\n    if (isIOSChrome) {\n      // is Google Chrome on IOS - Shouldnt be using Ledger but meh\n      return true;\n    } else if (\n      isChromium !== null &&\n      typeof isChromium !== 'undefined' &&\n      vendorName === 'Google Inc.' &&\n      isOpera === false &&\n      isIEedge === false\n    ) {\n      // is Google Chrome\n      return true;\n    } else {\n      // not Google Chrome\n      return false;\n    }\n  }\n\n\n  /**\n   * Main ledger loading function.  Can be called multiple times to attempt a reconnect.\n   * @param {boolean} hideNotifications\n   * @returns {Promise<any>}\n   */\n  async loadLedger(hideNotifications = false) {\n    return new Promise(async (resolve, reject) => {\n\n      // Desktop is handled completely differently.  Send a message for status instead of setting anything up\n      if (this.isDesktop) {\n        if (!this.desktop.send('ledger', { event: 'get-ledger-status' })) {\n          reject(new Error(`Electron\\'s IPC was not loaded`));\n        }\n\n        // Any response will be handled by the configureDesktop() function, which pipes responses into this observable\n        const sub = this.ledgerStatus$.subscribe(newStatus => {\n          if (newStatus.status === LedgerStatus.READY) {\n            resolve(true);\n          } else {\n            reject(new Error(newStatus.statusText || `Unable to load desktop Ledger device`));\n          }\n          sub.unsubscribe();\n        }, reject);\n        return;\n      }\n\n      // Note:\n      // Everything else below is for loading the Ledger via the browser using Chrome U2F Bridge (Requires https)\n\n      // Load the transport object\n      if (!this.ledger.transport) {\n        try {\n          this.ledger.transport = await TransportU2F.open(null);\n          this.ledger.transport.setExchangeTimeout(this.waitTimeout); // 5 minutes\n        } catch (err) {\n          console.log(`Transport error: `, err);\n          if (err.statusText === 'UNKNOWN_ERROR') {\n            this.resetLedger();\n          }\n          this.ledgerStatus$.next({ status: this.ledger.status, statusText: `Unable to load USB transport` });\n          return resolve(false);\n        }\n      }\n\n      // Load nano object\n      if (!this.ledger.ceviz) {\n        try {\n          this.ledger.ceviz = new Nano(this.ledger.transport);\n        } catch (err) {\n          console.log(`Ceviz error: `, err);\n          if (err.statusText === 'UNKNOWN_ERROR') {\n            this.resetLedger();\n          }\n          this.ledgerStatus$.next({ status: this.ledger.status, statusText: `Error loading Ceviz USB transport` });\n          return resolve(false);\n        }\n      }\n\n      let resolved = false;\n      if (this.ledger.status === LedgerStatus.READY) {\n        return resolve(true); // Already ready?\n      }\n\n      // Set up a timeout when things are not ready\n      setTimeout(() => {\n        if (resolved) return;\n        console.log(`Timeout expired, sending not connected`);\n        this.ledger.status = LedgerStatus.NOT_CONNECTED;\n        this.ledgerStatus$.next({ status: this.ledger.status, statusText: `Unable to detect Ceviz Ledger application (Timeout)` });\n        if (!hideNotifications) {\n          this.notifications.sendWarning(`Unable to connect to the Ledger device.  Make sure it is unlocked and the Ceviz application is open`);\n        }\n        resolved = true;\n        return resolve(false);\n      }, 2500);\n\n      // Try to load the app config\n      try {\n        const ledgerConfig = await this.ledger.ceviz.getAppConfiguration();\n        resolved = true;\n\n        if (!ledgerConfig) return resolve(false);\n        if (ledgerConfig && ledgerConfig.version) {\n          this.ledger.status = LedgerStatus.LOCKED;\n          this.ledgerStatus$.next({ status: this.ledger.status, statusText: `Ceviz app detected, but ledger is locked` });\n        }\n      } catch (err) {\n        console.log(`App config error: `, err);\n        if (err.statusText === 'HALTED') {\n          this.resetLedger();\n        }\n        if (!hideNotifications && !resolved) {\n          this.notifications.sendWarning(`Ledger device locked.  Unlock and open the Ceviz application`);\n        }\n        return resolve(false);\n      }\n\n      // Attempt to load account 0 - which confirms the app is unlocked and ready\n      try {\n        const accountDetails = await this.getLedgerAccount(0);\n        this.ledger.status = LedgerStatus.READY;\n        this.ledgerStatus$.next({ status: this.ledger.status, statusText: `Ceviz Ledger application connected` });\n\n        if (!this.pollingLedger) {\n          this.pollingLedger = true;\n          this.pollLedgerStatus();\n        }\n      } catch (err) {\n        console.log(`Error on account details: `, err);\n        if (err.statusCode === STATUS_CODES.SECURITY_STATUS_NOT_SATISFIED) {\n          if (!hideNotifications) {\n            this.notifications.sendWarning(`Ledger device locked.  Unlock and open the Ceviz application`);\n          }\n        }\n      }\n\n      resolve(true);\n    }).catch(err => {\n      console.log(`error when loading ledger `, err);\n      if (!hideNotifications) {\n        this.notifications.sendWarning(`Error loading Ledger device: ${typeof err === 'string' ? err : err.message}`, { length: 6000 });\n      }\n\n      return null;\n    });\n\n  }\n\n  async updateCache(accountIndex, blockHash) {\n    if (this.ledger.status !== LedgerStatus.READY) {\n      await this.loadLedger(); // Make sure ledger is ready\n    }\n    const blockResponse = await this.api.blocksInfo([blockHash]);\n    const blockData = blockResponse.blocks[blockHash];\n    if (!blockData) throw new Error(`Unable to load block data`);\n    blockData.contents = JSON.parse(blockData.contents);\n\n    const cacheData = {\n      representative: blockData.contents.representative,\n      balance: blockData.contents.balance,\n      previousBlock: blockData.contents.previous === zeroBlock ? null : blockData.contents.previous,\n      sourceBlock: blockData.contents.link,\n    };\n\n    if (this.isDesktop) {\n      return await this.updateCacheDesktop(accountIndex, cacheData, blockData.contents.signature);\n    } else {\n      return await this.ledger.ceviz.cacheBlock(this.ledgerPath(accountIndex), cacheData, blockData.contents.signature);\n    }\n  }\n\n  async updateCacheOffline(accountIndex, blockData) {\n    if (this.ledger.status !== LedgerStatus.READY) {\n      await this.loadLedger(); // Make sure ledger is ready\n    }\n\n    const cacheData = {\n      representative: blockData.representative,\n      balance: blockData.balance,\n      previousBlock: blockData.previous === zeroBlock ? null : blockData.previous,\n      sourceBlock: blockData.link,\n    };\n\n    if (this.isDesktop) {\n      return await this.updateCacheDesktop(accountIndex, cacheData, blockData.signature);\n    } else {\n      return await this.ledger.ceviz.cacheBlock(this.ledgerPath(accountIndex), cacheData, blockData.signature);\n    }\n  }\n\n  async signBlock(accountIndex: number, blockData: any) {\n    if (this.ledger.status !== LedgerStatus.READY) {\n      await this.loadLedger(); // Make sure ledger is ready\n    }\n    if (this.isDesktop) {\n      return this.signBlockDesktop(accountIndex, blockData);\n    } else {\n      this.ledger.transport.setExchangeTimeout(this.waitTimeout);\n      return await this.ledger.ceviz.signBlock(this.ledgerPath(accountIndex), blockData);\n    }\n  }\n\n  ledgerPath(accountIndex: number) {\n    return `${this.walletPrefix}${accountIndex}'`;\n  }\n\n  async getLedgerAccountWeb(accountIndex: number, showOnScreen = false) {\n    this.ledger.transport.setExchangeTimeout(showOnScreen ? this.waitTimeout : this.normalTimeout);\n    try {\n      return await this.ledger.ceviz.getAddress(this.ledgerPath(accountIndex), showOnScreen);\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async getLedgerAccount(accountIndex: number, showOnScreen = false) {\n    if (this.isDesktop) {\n      return await this.getLedgerAccountDesktop(accountIndex, showOnScreen);\n    } else {\n      return await this.getLedgerAccountWeb(accountIndex, showOnScreen);\n    }\n  }\n\n  pollLedgerStatus() {\n    if (!this.pollingLedger) return;\n    setTimeout(async () => {\n      await this.checkLedgerStatus();\n      this.pollLedgerStatus();\n    }, this.pollInterval);\n  }\n\n  async checkLedgerStatus() {\n    if (this.ledger.status !== LedgerStatus.READY) {\n      return;\n    }\n\n    try {\n      const accountDetails = await this.getLedgerAccount(0);\n      this.ledger.status = LedgerStatus.READY;\n    } catch (err) {\n      this.ledger.status = LedgerStatus.NOT_CONNECTED;\n      this.pollingLedger = false;\n    }\n\n    this.ledgerStatus$.next({ status: this.ledger.status, statusText: `` });\n  }\n\n\n\n}\n","<div uk-grid>\n  <div class=\"uk-width-1-1\">\n    <h2 *ngIf=\"shouldSign\">Sign Ceviz Block</h2>\n    <h2 *ngIf=\"!shouldSign\">Process Ceviz Block</h2>\n\n    <!-- Confirmation Panel -->\n    <div uk-grid *ngIf=\"activePanel == 'confirm'\" class=\"uk-animation-slide-left\">\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\">\n          <span *ngIf=\"!qrCodeImageBlock && shouldSign\" style=\"display: block; padding-top: 8px;\">You are about to sign a block to {{txTypeMessage}}</span>\n          <span *ngIf=\"qrCodeImageBlock && shouldSign\" style=\"display: block; padding-top: 8px;\">You have signed a block to {{txTypeMessage}}</span>\n          <span *ngIf=\"!blockProcessed && !shouldSign\" style=\"display: block; padding-top: 8px;\">You are about to {{txTypeMessage}}</span>\n          <span *ngIf=\"blockProcessed && !shouldSign\" style=\"display: block; padding-top: 8px;\">You have processed a block to {{txTypeMessage}}</span>\n          <span *ngIf=\"txType != txTypes.change\" style=\"display:block; font-size: 32px;\">{{ rawAmount | ceviz: 'mceviz' }}</span>\n          <span *ngIf=\"txType == txTypes.change\" style=\"display:block; font-size: 20px;\">{{ currentBlock.representative }}</span>\n        </div>\n        <br>\n        <div uk-grid>\n          <div class=\"uk-width-1-2@m\">\n            <div class=\"uk-card uk-card-default\">\n              <div class=\"uk-card-header uk-text-left\" style=\"padding: 20px 20px; line-height: 22px;\">\n                <span class=\"confirm-title uk-text-truncate\">\n                  <div *ngIf=\"fromAddressBook\">\n                    <span class=\"confirm-title\">{{ fromAddressBook }}</span>\n                    <span class=\"confirm-subtitle\">From Account</span>\n                    <span class=\"uk-text-small uk-text-truncate\"><app-nano-account-id [accountID]=\"fromAccountID\"></app-nano-account-id></span>\n                  </div>\n                  <div *ngIf=\"!fromAddressBook\">\n                    <span class=\"confirm-title uk-text-truncate\"><app-nano-account-id [accountID]=\"fromAccountID\"></app-nano-account-id></span>\n                    <span class=\"confirm-subtitle\">From Account</span>\n                    <br class=\"br-spacer\" />\n                  </div>\n                </span>\n                <ul class=\"uk-iconnav\">\n                  <li><a ngxClipboard [cbContent]=\"fromAccountID\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                </ul>\n              </div>\n              <div class=\"uk-card-body\" style=\"padding: 20px 20px;\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-2 uk-text-muted\">\n                    <span class=\"confirm-currency\">{{ fromAccountBalance ? (fromAccountBalance | ceviz: 'mceviz'): 'N/A'}}</span>\n                    <span class=\"confirm-subtitle\">Balance when block was created</span>\n                  </div>\n                  <div class=\"uk-width-1-2 uk-text-right\">\n                    <span class=\"confirm-currency uk-text-danger\">-{{ rawAmount | ceviz: 'mceviz' }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"uk-width-1-2@m\">\n            <div class=\"uk-card uk-card-default\">\n              <div class=\"uk-card-header uk-text-right\" style=\"padding: 20px 20px; line-height: 22px;\">\n\n                <span class=\"confirm-title uk-text-truncate\">\n                  <div *ngIf=\"toAddressBook\">\n                    <span class=\"confirm-title\">{{ toAddressBook }}</span>\n                    <span class=\"confirm-subtitle\">To Account</span>\n                    <span class=\"uk-text-small uk-text-truncate\"><app-nano-account-id [accountID]=\"toAccountID\" class=\"uk-flex-right\"></app-nano-account-id></span>\n                  </div>\n                  <div *ngIf=\"!toAddressBook\">\n                    <span class=\"confirm-title uk-text-truncate\"><app-nano-account-id [accountID]=\"toAccountID\" class=\"uk-flex-right\"></app-nano-account-id></span>\n                    <span class=\"confirm-subtitle\">To Account</span>\n                    <br class=\"br-spacer\" />\n                  </div>\n                </span>\n                <ul class=\"uk-iconnav\">\n                <li><a ngxClipboard [cbContent]=\"toAccountID\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Account Address\" uk-tooltip></a></li>\n                </ul>\n              </div>\n              <div class=\"uk-card-body\" style=\"padding: 20px 20px;\">\n                <div uk-grid>\n                  <div class=\"uk-width-1-2 uk-text-muted\">\n                    <span class=\"confirm-currency\">{{ toAccountBalance ? (toAccountBalance | ceviz: 'mceviz'): 'N/A' }}</span>\n                    <span class=\"confirm-subtitle\">Balance when block was created</span>\n                  </div>\n                  <div class=\"uk-width-1-2 uk-text-right\">\n                    <span class=\"confirm-currency uk-text-success\">+{{ rawAmount | ceviz: 'mceviz' }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <br>\n\n        <div *ngIf=\"shouldSign\" class=\"uk-card uk-card-default uk-width-1-1\" style=\"padding: 20px 20px;\">\n          <span><strong>Signing Method</strong></span><span uk-icon=\"icon: info;\" uk-tooltip title=\"The block is signed with a private key. If using the build-in wallet, it first needs to be created using any of the available methods.\"></span><br>\n          <label class=\"uk-margin-medium-right\"><input class=\"uk-radio\" type=\"radio\" name=\"signtype\" value={{signTypes[0]}} [(ngModel)]=\"signTypeSelected\" (change)=\"signTypeChange()\"> {{signTypes[0]}}</label>\n          <label class=\"uk-margin-medium-right\"><input class=\"uk-radio\" type=\"radio\" name=\"signtype\" value={{signTypes[1]}} [(ngModel)]=\"signTypeSelected\" (change)=\"signTypeChange()\"> {{signTypes[1]}}</label>\n          <label class=\"uk-margin-medium-right\"><input class=\"uk-radio\" type=\"radio\" name=\"signtype\" value={{signTypes[2]}} [(ngModel)]=\"signTypeSelected\" (change)=\"signTypeChange()\"> {{signTypes[2]}}</label>\n          <br><br>\n          <span><strong>Proof of Work</strong></span><span uk-icon=\"icon: info;\" uk-tooltip title=\"Proof of Work (PoW) can be optionally generated now and included in the block, or it will be added for you before the block is published. The threshold of 1x is normally ok but you may need higher if the network is saturated with transactions and you want it prioritized. Custom multiplier only works for local PoW source CPU/GPU.\"></span><br>\n          <div class=\"uk-inline uk-width-auto\">\n            <select class=\"uk-select\" [(ngModel)]=\"selectedThreshold\" (change)=\"changeThreshold()\">\n              <option *ngFor=\"let option of thresholds\" [value]=\"option.value\">{{ option.name }}</option>\n            </select>\n          </div>\n          <label class=\"uk-margin-small-left\"><input class=\"uk-checkbox\" type=\"checkbox\" name=\"pow\" value='pow' [(ngModel)]=\"shouldGenWork\" (change)=\"powChange()\"> Include</label>\n          <br><br>\n\n          <!-- Seed and index-->\n          <div *ngIf=\"signTypeSelected === signTypes[1]\">\n            <div class=\"uk-width-1-1 narrow-div\">\n              <div class=\"uk-form-horizontal\">\n                <div class=\"uk-margin\">\n                  <label class=\"uk-form-label\" for=\"source-wallet\">Signing Wallet <span uk-icon=\"icon: info;\" uk-tooltip title=\"The seed or mnemonic that contains the account you are signing for.\"></span></label>\n                  <div class=\"uk-form-controls\">\n                    <div class=\"uk-inline uk-width-1-1\" style=\"height: 40px;\">\n                      <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('seed1','generic')\" uk-tooltip title=\"Scan from QR code\"></a>\n                      <input [(ngModel)]=\"sourceSecret\" class=\"uk-input uk-margin-small-bottom {{validSeed ? '':'uk-form-danger'}}\" id=\"source-wallet\" type=\"text\" (ngModelChange)=\"seedChange(sourceSecret)\" placeholder=\"Ceviz seed, BIP39 seed or 24-word mnemonic\" autocomplete=\"off\">\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"uk-width-1-1 narrow-div\">\n              <div class=\"uk-form-horizontal\">\n                <div class=\"uk-margin\">\n                  <label class=\"uk-form-label\" for=\"start-index\">Account Index <span uk-icon=\"icon: info;\" uk-tooltip title=\"The index at where the account you are signing for is located in the seed. Maximum 4,294,967,295.\"></span></label>\n                  <div class=\"uk-form-controls\">\n                    <div class=\"uk-inline uk-width-1-1\">\n                      <input [(ngModel)]=\"index\" class=\"uk-input uk-margin-small-bottom {{validIndex ? '':'uk-form-danger'}}\" id=\"start-index\" type=\"text\" maxLength=\"10\" (ngModelChange)=\"indexChange(index)\" placeholder=\"0 to 4294967295\" autocomplete=\"off\">\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- END Seed and index-->\n\n          <!-- Private key-->\n          <div *ngIf=\"signTypeSelected === signTypes[2]\">\n            <div class=\"uk-width-1-1 narrow-div\">\n              <div class=\"uk-form-horizontal\">\n                <div class=\"uk-margin\">\n                  <label class=\"uk-form-label\" for=\"source-wallet\">Private Key <span uk-icon=\"icon: info;\" uk-tooltip title=\"The private key that derive the account you are signing for.\"></span></label>\n                  <div class=\"uk-form-controls\">\n                    <div class=\"uk-width-1-1\">\n                      <div class=\"uk-inline uk-width-1-1\" style=\"height: 40px; margin-bottom: 10px;\">\n                        <a class=\"uk-form-icon uk-form-icon-flip\" uk-icon=\"icon: camera\" (click)=\"openQR('priv1','hash')\" uk-tooltip title=\"Scan from QR code\"></a>\n                        <input [(ngModel)]=\"sourcePriv\" class=\"uk-input uk-margin-small-bottom {{validPrivkey ? '':'uk-form-danger'}}\" id=\"source-wallet\" type=\"text\" (ngModelChange)=\"privkeyChange(sourcePriv)\" placeholder=\"Private key or Expanded private key\" autocomplete=\"off\">\n                      </div>\n                      <label><input class=\"uk-checkbox\" type=\"checkbox\" name=\"expanded\" value='expanded' [(ngModel)]=\"privateKeyExpanded\" (change)=\"privkeyChange(sourcePriv)\"> Expanded private key</label><span uk-icon=\"icon: info;\" uk-tooltip title=\"If using a 64 or 128 char expanded key.\"></span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- END Private key-->\n\n          <span class=\"uk-text-danger\">{{signatureMessage}}</span>\n          <span class=\"uk-text-success\">{{signatureMessageSuccess}}</span>\n\n        </div>\n        <br>\n\n        <div *ngIf=\"processedHash\" class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\" style=\"padding: 20px 20px;\">\n          <div class=\"uk-visible-toggle\">\n            <div uk-grid class=\"uk-width-auto\">\n              <div class=\"uk-width-auto uk-text-truncate\" style=\"max-width: calc(100% - 35px); flex: auto;\">\n                <span class=\"uk-text-success\">Successfully processed block: </span><a [routerLink]=\"'/transaction/' + processedHash\" class=\"uk-link-text\" title=\"View Block Details\" uk-tooltip>{{ processedHash }}</a>\n              </div>\n              <div class=\"uk-width-auto\" style=\"padding-left: 10px; flex: auto;\">\n                <ul class=\"uk-iconnav\">\n                  <li><a ngxClipboard [cbContent]=\"processedHash\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy Block Hash\" uk-tooltip></a></li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <br>\n          <a *ngIf=\"processedHash\" [routerLink]=\"'/account/' + signatureAccount\" [queryParams]=\"{ sign: 1 }\" class=\"uk-button uk-button-primary uk-width-auto\" title=\"Account detail view\" uk-tooltip>Account Detail View</a>\n        </div>\n\n        <div *ngIf=\"!processedHash\" uk-grid>\n          <div class=\"uk-width-1-2@s\">\n            <a class=\"uk-button uk-button-danger uk-width-1-1\" routerLink=\"/qr-scan\" routerLinkActive=\"active\">Cancel</a>\n          </div>\n          <div class=\"uk-width-1-2@s\">\n            <button *ngIf=\"!confirmingTransaction && shouldSign\" class=\"uk-button uk-button-primary uk-width-1-1\" (click)=\"confirmTransaction()\">Confirm & Sign</button>\n            <button *ngIf=\"confirmingTransaction && shouldSign\" class=\"uk-button uk-button-primary uk-disabled uk-width-1-1\"><span class=\"uk-margin-right\" uk-spinner></span> Loading</button>\n            <button *ngIf=\"!confirmingTransaction && !shouldSign\" class=\"uk-button uk-button-primary uk-width-1-1\" (click)=\"confirmBlock()\">Confirm & Process</button>\n            <button *ngIf=\"confirmingTransaction && !shouldSign\" class=\"uk-button uk-button-primary uk-disabled uk-width-1-1\"><span class=\"uk-margin-right\" uk-spinner></span> Loading</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- End Confirmation Panel -->\n\n    <div uk-grid *ngIf=\"activePanel == 'error'\" class=\"uk-animation-slide-left\">\n      <div class=\"uk-width-1-1\">\n        <div class=\"uk-card uk-card-default uk-width-1-1 uk-text-center\">\n          <span style=\"display: block; padding-top: 8px;\">The provided block info is not valid.<br/>Please refer to any error message below.<br/></span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n\n<!-- Modal for result QR -->\n<div id=\"signed-modal\" uk-modal>\n  <div class=\"uk-modal-dialog uk-modal-body modal-qr\">\n    <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n    <div class=\"uk-modal-header\">\n        <h2 class=\"uk-modal-title\">Signed Block</h2>\n    </div>\n    <div class=\"uk-modal-body modal-qr-body\">\n      <p><a routerLink=\"/qr-scan\" routerLinkActive=\"active\" class=\"uk-modal-close\">Scan</a> the signed QR with an online Nault, or copy the \"Signed Block\" to <a routerLink=\"/remote-signing\" routerLinkActive=\"active\" class=\"uk-modal-close\">Step 3</a>.</p>\n\n      <div *ngIf=\"finalSignature\" class=\"uk-width-1-1 uk-text-center\" style=\"display: flex; justify-content: center;\">\n        <span class=\"uk-text-small\" uk-tooltip title=\"Signed block string to be copied to remote device\" style=\"overflow-wrap: anywhere;\"><strong>Signed Block</strong></span>\n        <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n          <li><a ngxClipboard [cbContent]=\"qrString\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy\" uk-tooltip></a></li>\n        </ul>\n        <span class=\"uk-text-small\" uk-tooltip title=\"Signature to be embedded into the final block\" style=\"overflow-wrap: anywhere; margin-left: 50px;\"><strong>Signature</strong></span>\n        <ul class=\"uk-iconnav\" style=\"padding-left: 0;\">\n          <li><a ngxClipboard [cbContent]=\"finalSignature\" (cbOnSuccess)=\"copied()\" uk-icon=\"icon: copy\" title=\"Copy\" uk-tooltip></a></li>\n        </ul>\n      </div>\n\n      <div class=\"uk-width-1-1 uk-text-center\">\n        <img *ngIf=\"qrCodeImageBlock\" [src]=\"qrCodeImageBlock\" alt=\"QR code\"><br />\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport BigNumber from 'bignumber.js';\nimport {AddressBookService} from '../../services/address-book.service';\nimport {BehaviorSubject} from 'rxjs';\nimport {WalletService} from '../../services/wallet.service';\nimport {NotificationService} from '../../services/notification.service';\nimport {UtilService, StateBlock, TxType} from '../../services/util.service';\nimport {WorkPoolService} from '../../services/work-pool.service';\nimport {AppSettingsService} from '../../services/app-settings.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {CevizBlockService} from '../../services/nano-block.service';\nimport {ApiService} from '../../services/api.service';\nimport * as QRCode from 'qrcode';\nimport * as bip39 from 'bip39';\nimport * as bip39Wallet from 'nanocurrency-web';\nimport { QrModalService } from '../../services/qr-modal.service';\n\nconst INDEX_MAX = 4294967295;\n\n@Component({\n  selector: 'app-sign',\n  templateUrl: './sign.component.html',\n  styleUrls: ['./sign.component.css']\n})\n\nexport class SignComponent implements OnInit {\n  activePanel = 'error';\n  shouldSign: boolean = null; // if a block has been scanned for signing (or if it is a block to process)\n  accounts = this.walletService.wallet.accounts;\n  addressBookResults$ = new BehaviorSubject([]);\n  showAddressBook = false;\n  addressBookMatch = '';\n  amount = null;\n  rawAmount: BigNumber = new BigNumber(0);\n  fromAccountID: any = '';\n  fromAccountBalance: BigNumber = null;\n  fromAddressBook = '';\n  toAccountID = '';\n  toAccountBalance: BigNumber = null;\n  toAddressBook = '';\n  toAccountStatus = null;\n  currentBlock: StateBlock = null;\n  previousBlock: StateBlock = null;\n  txType: TxType = null;\n  txTypes = TxType; // to access enum in html\n  txTypeMessage = '';\n  confirmingTransaction = false;\n  shouldGenWork = false;\n  signTypes: string[] = ['Internal Wallet or Ledger', 'Seed or Mnemonic+Index', 'Private Key'];\n  signTypeSelected: string = this.signTypes[0];\n  signatureAccount = '';\n  signatureMessage = '';\n  signatureMessageSuccess = '';\n  walletAccount = null;\n  nullBlock = '0000000000000000000000000000000000000000000000000000000000000000';\n  qrString = null;\n  qrCodeImage = null;\n  qrCodeImageBlock = null;\n  validSeed = false;\n  validIndex = true;\n  validPrivkey = false;\n  sourceSecret = '';\n  sourcePriv = '';\n  index = '0';\n  privateKey = null; // the final private key to sign with if using manual entry\n  privateKeyExpanded = false; // if a private key is provided manually and it's expanded 128 char\n  processedHash: string = null;\n  finalSignature: string = null;\n  // With v21 the 1x is the old 8x and max will be 8x due to the webgl threshold is max ffffffff00000000\n  thresholds = [\n    { name: '1x', value: 1 },\n    { name: '2x', value: 2 },\n    { name: '4x', value: 4 },\n    { name: '8x', value: 8 }\n  ];\n  selectedThreshold = this.thresholds[0].value;\n  selectedThresholdOld = this.selectedThreshold;\n\n  constructor(\n    private router: ActivatedRoute,\n    private walletService: WalletService,\n    private addressBookService: AddressBookService,\n    private notificationService: NotificationService,\n    private cevizBlock: CevizBlockService,\n    private workPool: WorkPoolService,\n    public settings: AppSettingsService,\n    private api: ApiService,\n    private util: UtilService,\n    private qrModalService: QrModalService) { }\n\n  async ngOnInit() {\n    const params = this.router.snapshot.queryParams;\n    console.log(params);\n    this.signTypeSelected = this.walletService.isConfigured() ? this.signTypes[0] : this.signTypes[1];\n\n    if ('sign' in params && 'n_account' in params && 'n_previous' in params && 'n_representative' in params &&\n      'n_balance' in params && 'n_link' in params) {\n      this.currentBlock = {'account': params.n_account, 'previous': params.n_previous, 'representative': params.n_representative,\n      'balance': params.n_balance, 'link': params.n_link, signature: 'n_signature' in params ? params.n_signature : null,\n      work: 'n_work' in params ? params.n_work : null};\n\n      // previous block won't be included with open block (or maybe if another wallet implement this feature)\n      if ('p_account' in params && 'p_previous' in params && 'p_representative' in params && 'p_balance' in params && 'p_link' in params) {\n        this.previousBlock = {'account': params.p_account, 'previous': params.p_previous, 'representative': params.p_representative,\n        'balance': params.p_balance, 'link': params.p_link, signature: 'p_signature' in params ? params.p_signature : null, work: null};\n      }\n\n      this.shouldSign = params.sign === '1' ? true : false;\n      this.shouldGenWork = this.currentBlock.work === null && !this.shouldSign;\n\n      // check if both new block and previous block hashes matches (balances has not been tampered with) and have valid parameters\n      if (this.previousBlock && this.verifyBlock(this.currentBlock) && this.verifyBlock(this.previousBlock)) {\n        // it's a send block\n        if (new BigNumber(this.previousBlock.balance).gt(new BigNumber(this.currentBlock.balance))) {\n          this.txType = TxType.send;\n          this.txTypeMessage = 'send';\n          this.rawAmount = new BigNumber(this.previousBlock.balance).minus(new BigNumber(this.currentBlock.balance));\n          this.fromAccountID = this.currentBlock.account;\n          this.toAccountID = this.util.account.getPublicAccountID(this.util.hex.toUint8(this.currentBlock.link));\n          this.fromAccountBalance = new BigNumber(this.previousBlock.balance);\n          // sending to itself\n          if (this.fromAccountID === this.toAccountID) {\n            this.toAccountBalance = this.fromAccountBalance;\n          }\n        } else if (new BigNumber(this.previousBlock.balance).eq(new BigNumber(this.currentBlock.balance)) &&\n            this.previousBlock.representative !== this.currentBlock.representative && this.currentBlock.link === this.nullBlock) {\n          // it's a change block\n          this.txType = TxType.change;\n          this.txTypeMessage = 'change representative to';\n          this.rawAmount = new BigNumber(0);\n          this.fromAccountID = this.currentBlock.account;\n          this.toAccountID = this.currentBlock.account;\n          this.fromAccountBalance = new BigNumber(this.currentBlock.balance);\n          this.toAccountBalance = new BigNumber(this.currentBlock.balance);\n        } else if (new BigNumber(this.previousBlock.balance).lt(\n            new BigNumber(this.currentBlock.balance)) && this.currentBlock.previous !== this.nullBlock) {\n          // it's a receive block\n          this.txType = TxType.receive;\n          this.txTypeMessage = 'receive';\n          this.rawAmount = new BigNumber(this.currentBlock.balance).minus(new BigNumber(this.previousBlock.balance));\n\n          // get from-account info if online\n          let recipientInfo = null;\n          try {\n            recipientInfo = await this.api.blockInfo(this.currentBlock.link);\n          } catch {}\n          if (recipientInfo && 'block_account' in recipientInfo) {\n            this.fromAccountID = recipientInfo.block_account;\n          } else {\n            this.fromAccountID = null;\n          }\n\n          this.toAccountID = this.currentBlock.account;\n          this.toAccountBalance = new BigNumber(this.previousBlock.balance);\n        } else {\n          return this.notificationService.sendError(`Meaningless block. The balance and representative are unchanged!`, {length: 0});\n        }\n\n        this.amount = this.util.ceviz.rawToMceviz(this.rawAmount).toString(10);\n        this.prepareTransaction();\n      } else if (!this.previousBlock && this.verifyBlock(this.currentBlock)) {\n        // No previous block present (open block)\n        // TODO: Make all block subtypes also possible to sign even if previous block is missing, but with less displayed data\n        if (this.currentBlock.previous === this.nullBlock) {\n          this.txType = TxType.open;\n          this.txTypeMessage = 'receive';\n          this.rawAmount = new BigNumber(this.currentBlock.balance);\n\n          // get from-account info if online\n          let recipientInfo = null;\n          try {\n            recipientInfo = await this.api.blockInfo(this.currentBlock.link);\n          } catch {}\n\n          if (recipientInfo && 'block_account' in recipientInfo) {\n            this.fromAccountID = recipientInfo.block_account;\n          } else {\n            this.fromAccountID = null;\n          }\n\n          this.toAccountID = this.currentBlock.account;\n          this.toAccountBalance = new BigNumber(0);\n        } else {\n          return this.notificationService.sendError(`Only OPEN block is currently supported when previous block is missing`, {length: 0});\n        }\n\n        this.amount = this.util.ceviz.rawToMceviz(this.rawAmount).toString(10);\n        this.prepareTransaction();\n      } else {\n        return;\n      }\n    } else {\n      this.notificationService.sendError(`Incorrect parameters provided for signing!`, {length: 0});\n      return;\n    }\n\n    this.addressBookService.loadAddressBook();\n  }\n\n  verifyBlock(block: StateBlock) {\n    if (this.util.account.isValidAccount(block.account) &&\n      this.util.account.isValidAccount(block.representative) &&\n      this.util.account.isValidAmount(block.balance) &&\n      this.util.ceviz.isValidHash(block.previous) &&\n      this.util.ceviz.isValidHash(block.link)) {\n      return true;\n    } else {\n      this.notificationService.sendError(`The provided blocks contain invalid values!`, {length: 0});\n      return false;\n    }\n  }\n\n  verifyBlockHash(currentBlock: StateBlock, previousBlock: StateBlock) {\n    const block: StateBlock = {account: previousBlock.account, link: previousBlock.link, previous: previousBlock.previous,\n      representative: previousBlock.representative, balance: previousBlock.balance, signature: null, work: null};\n    const previousHash = this.util.hex.fromUint8(this.util.ceviz.hashStateBlock(block));\n    if (!currentBlock.previous || previousHash !== currentBlock.previous) {\n      this.notificationService.sendError(`The hash of the previous block does not match the frontier in the new block!`, {length: 0});\n    }\n    return currentBlock.previous && previousHash === currentBlock.previous;\n  }\n\n  searchAddressBook() {\n    this.showAddressBook = true;\n    const search = this.toAccountID || '';\n    const addressBook = this.addressBookService.addressBook;\n\n    const matches = addressBook\n      .filter(a => a.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n      .slice(0, 5);\n\n    this.addressBookResults$.next(matches);\n  }\n\n  signTypeChange() {\n    this.signatureMessage = '';\n    this.signatureMessageSuccess = '';\n\n    switch (this.signTypeSelected) {\n      // wallet\n      case this.signTypes[0]:\n        this.walletAccount = this.accounts.find(a => a.id.replace('ceviz_', 'ceviz_') === this.signatureAccount);\n        if (!this.walletAccount) {\n          return this.signatureMessage = 'Could not find a matching wallet account to sign with. Make sure it\\'s added under your accounts';\n        } else {\n          this.signatureMessageSuccess = 'A matching account found!';\n        }\n        break;\n\n      case this.signTypes[1]:\n        this.seedChange(this.sourceSecret);\n        break;\n\n      case this.signTypes[2]:\n        this.privkeyChange(this.sourcePriv);\n        break;\n    }\n  }\n\n  powChange() {\n    if (this.shouldGenWork) {\n      this.prepareWork();\n    }\n  }\n\n  changeThreshold() {\n    // multiplier has changed, clear the cache and recalculate\n    if (this.selectedThreshold !== this.selectedThresholdOld) {\n      const workBlock = this.txType === TxType.open ? this.util.account.getAccountPublicKey(this.toAccountID) : this.currentBlock.previous;\n      this.workPool.removeFromCache(workBlock);\n      console.log('PoW multiplier changed: Clearing cache');\n      this.powChange();\n    }\n  }\n\n  prepareWork() {\n    // The block has been verified\n    if (this.toAccountID) {\n      console.log('Precomputing work...');\n      const workBlock = this.txType === TxType.open ? this.util.account.getAccountPublicKey(this.toAccountID) : this.currentBlock.previous;\n      this.workPool.addWorkToCache(workBlock, this.selectedThreshold);\n    }\n  }\n\n  async prepareTransaction() {\n    this.fromAddressBook = this.addressBookService.getAccountName(this.fromAccountID);\n    this.toAddressBook = this.addressBookService.getAccountName(this.toAccountID);\n\n    this.activePanel = 'confirm';\n    // Start precopmuting the work...\n    if (this.shouldGenWork) {\n      this.prepareWork();\n    }\n\n    if (this.txType === TxType.send || this.txType === TxType.change) {\n      this.signatureAccount = this.fromAccountID.replace('ceviz_', 'ceviz_').toLowerCase();\n    } else if (this.txType === TxType.receive || this.txType === TxType.open) {\n      this.signatureAccount = this.toAccountID.replace('ceviz_', 'ceviz_').toLowerCase();\n    }\n\n    if (this.shouldSign) {\n      this.signTypeChange();\n    }\n  }\n\n  // Create signature for the block\n  async confirmTransaction() {\n    let walletAccount = this.walletAccount;\n    let isLedger = this.walletService.isLedgerWallet();\n\n    // using internal wallet\n    if (this.signTypeSelected === this.signTypes[0] && walletAccount) {\n      if (this.walletService.walletIsLocked()) {\n        return this.notificationService.sendWarning('Wallet must be unlocked for signing with it');\n      }\n    } else if (this.signTypeSelected === this.signTypes[0]) {\n      return this.notificationService.sendWarning('Could not find a matching wallet account to sign with. Make sure it\\'s added under your accounts');\n    }\n\n    // using seed or private key\n    if (((this.signTypeSelected === this.signTypes[1] && !this.validSeed) || (this.signTypeSelected === this.signTypes[2])\n      && !this.validPrivkey)) {\n        return this.notificationService.sendWarning('Could not find a matching private key to sign with.');\n      }\n    if (this.signTypeSelected === this.signTypes[1] || this.signTypeSelected === this.signTypes[2]) {\n      isLedger = false;\n      // create dummy wallet that only contains needed elements for signature\n      walletAccount = {keyPair: {secretKey: this.util.hex.toUint8(this.privateKey), expanded: this.privateKeyExpanded}};\n    }\n\n    this.confirmingTransaction = true;\n\n    // sign the block\n    const block = await this.cevizBlock.signOfflineBlock(walletAccount, this.currentBlock,\n      this.previousBlock, this.txType, this.shouldGenWork, this.selectedThreshold, isLedger);\n    console.log('Signature: ' + block.signature || 'Error');\n    console.log('Work: ' + block.work || 'Not applied');\n\n    if (!block.signature) {\n      this.confirmingTransaction = false;\n      return this.notificationService.sendError('The block could not be signed!', {lenth: 0});\n    }\n\n    this.qrString = null;\n    this.qrCodeImageBlock = null;\n    this.finalSignature = null;\n\n    const UIkit = window['UIkit'];\n    const modal = UIkit.modal('#signed-modal');\n    modal.show();\n\n    this.finalSignature = block.signature;\n\n    try {\n      this.clean(block);\n      if (this.previousBlock) {\n        this.clean(this.previousBlock);\n      }\n      if (this.previousBlock) {\n        this.qrString = 'cevizprocess:{\"block\":' + JSON.stringify(block) +\n        ',\"previous\":' + JSON.stringify(this.previousBlock) + '}';\n      } else {\n        this.qrString = 'cevizprocess:{\"block\":' + JSON.stringify(block) + '}';\n      }\n\n      const qrCode = await QRCode.toDataURL(this.qrString, { errorCorrectionLevel: 'L', scale: 16 });\n      this.qrCodeImageBlock = qrCode;\n    } catch (error) {\n      this.confirmingTransaction = false;\n      console.log(error);\n      return this.notificationService.sendError('The block could not be signed!', {lenth: 0});\n    }\n\n    this.confirmingTransaction = false;\n    this.notificationService.sendSuccess('The block has been signed and can be sent to the network!');\n  }\n\n  // Send signed block to the network\n  async confirmBlock() {\n    this.confirmingTransaction = true;\n    const workBlock = this.txType === TxType.open ? this.util.account.getAccountPublicKey(this.toAccountID) : this.currentBlock.previous;\n    if (this.shouldGenWork) {\n      // For open blocks which don't have a frontier, use the public key of the account\n      if (!this.workPool.workExists(workBlock)) {\n        this.notificationService.sendInfo(`Generating Proof of Work...`);\n      }\n\n      this.currentBlock.work = await this.workPool.getWork(workBlock);\n      this.workPool.removeFromCache(workBlock);\n    }\n\n    // Validate that frontier is still the same and the previous balance is correct\n    if (this.txType !== TxType.open) {\n      const accountInfo = await this.api.accountInfo(this.signatureAccount);\n      if ('frontier' in accountInfo && accountInfo.frontier !== this.currentBlock.previous) {\n        this.confirmingTransaction = false;\n        return this.notificationService.sendError('The block can\\'t be processed because the account frontier has changed!', {lenth: 0});\n      }\n      if ('balance' in accountInfo && accountInfo.balance !== this.previousBlock.balance) {\n        this.confirmingTransaction = false;\n        return this.notificationService.sendError('The block can\\'t be processed because the current account balance does not match the previous block!', {lenth: 0});\n      }\n    }\n\n    if (!this.currentBlock.signature) {\n      this.confirmingTransaction = false;\n      return this.notificationService.sendError('The block can\\'t be processed because the signature is missing!', {lenth: 0});\n    }\n\n    if (!this.currentBlock.work) {\n      this.confirmingTransaction = false;\n      return this.notificationService.sendError('The block can\\'t be processed because work is missing!', {lenth: 0});\n    }\n\n    // Process block\n    const blockData: any = this.currentBlock;\n    blockData.type = 'state';\n    const processResponse = await this.api.process(blockData, this.txType);\n    if (processResponse && processResponse.hash) {\n      // Add new hash into the work pool but does not make much sense for this case\n      // this.workPool.addWorkToCache(processResponse.hash);\n      this.workPool.removeFromCache(workBlock);\n      this.processedHash = processResponse.hash;\n      this.notificationService.sendSuccess('Successfully processed the block!');\n    } else {\n      console.log(processResponse);\n      this.notificationService.sendError('There was an error while processing the block! Please see the console.', {lenth: 0});\n    }\n    this.confirmingTransaction = false;\n  }\n\n  copied() {\n    this.notificationService.sendSuccess(`Successfully copied to clipboard!`);\n  }\n\n  clean(obj) {\n    for (const propName in obj) {\n      if (obj[propName] === null || obj[propName] === undefined) {\n        delete obj[propName];\n      }\n    }\n  }\n\n  seedChange(input) {\n    const keyType = this.checkMasterKey(input);\n    this.validSeed = keyType !== null;\n    if (this.validSeed && this.validIndex) {\n      this.verifyKey(keyType, input, Number(this.index));\n    } else {\n      this.signatureMessage = '';\n      this.signatureMessageSuccess = '';\n    }\n  }\n\n  privkeyChange(input) {\n    const privKey = this.convertPrivateKey(input);\n    if (privKey !== null) {\n      // Match given block account with with private key\n      const pubKey = this.util.account.generateAccountKeyPair(this.util.hex.toUint8(privKey), this.privateKeyExpanded).publicKey;\n      const address = this.util.account.getPublicAccountID(pubKey);\n      if (address === this.signatureAccount ) {\n        this.validPrivkey = true;\n        this.privateKey = privKey;\n        this.signatureMessage = '';\n        this.signatureMessageSuccess = 'The private key match the account!';\n        return;\n      } else {\n        this.signatureMessage = 'The account for this private key does not match!';\n      }\n    } else {\n      this.signatureMessage = '';\n    }\n    this.signatureMessageSuccess = '';\n    this.validPrivkey = false;\n    this.privateKey = '';\n  }\n\n  indexChange(index) {\n    this.validIndex = true;\n    if (this.util.string.isNumeric(index) && index % 1 === 0) {\n      index = parseInt(index, 10);\n      if (!this.util.ceviz.isValidIndex(index)) {\n        this.validIndex = false;\n      }\n      if (index > INDEX_MAX) {\n        this.validIndex = false;\n      }\n    } else {\n      this.validIndex = false;\n    }\n\n    if (this.validSeed && this.validIndex) {\n      const keyType = this.checkMasterKey(this.sourceSecret);\n      this.verifyKey(keyType, this.sourceSecret, Number(this.index));\n    } else {\n      this.signatureMessage = '';\n      this.signatureMessageSuccess = '';\n    }\n  }\n\n  verifyKey(keyType: string, input: string, index: number) {\n    let seed = '';\n    let privKey1 = '';\n    let privKey2 = '';\n\n    // input is mnemonic\n    if (keyType === 'mnemonic') {\n      seed = bip39.mnemonicToEntropy(input).toUpperCase();\n      // seed must be 64 or the nano wallet can't be created.\n      // This is the reason 12-words can't be used because the seed would be 32 in length\n      if (seed.length !== 64) {\n        this.notificationService.sendError(`Mnemonic not 24 words`);\n        return;\n      }\n    }\n\n    // nano seed\n    if (keyType === 'ceviz_seed' || seed !== '' || keyType === 'bip39_seed') {\n      if (seed === '') { // seed from input, no mnemonic\n        seed = input;\n      }\n      // start with blake2b derivation\n      if (keyType !== 'bip39_seed') {\n          privKey1 = this.util.hex.fromUint8(this.util.account.generateAccountSecretKeyBytes(this.util.hex.toUint8(seed), index));\n      }\n      // also check using bip39/44 derivation\n      let bip39Seed;\n      // take 128 char bip39 seed directly from input or convert it from a 64 char nano seed (entropy)\n      if (keyType === 'bip39_seed') {\n        bip39Seed = input;\n      } else {\n        bip39Seed = bip39Wallet.wallet.generate(seed).seed;\n      }\n      privKey2 = bip39Wallet.wallet.accounts(bip39Seed, index, index)[0].privateKey;\n    }\n\n    // Match given block account with any of the private keys extracted\n    const pubKey1 = this.util.account.generateAccountKeyPair(this.util.hex.toUint8(privKey1), this.privateKeyExpanded).publicKey;\n    const pubKey2 = this.util.account.generateAccountKeyPair(this.util.hex.toUint8(privKey2), this.privateKeyExpanded).publicKey;\n    const address1 = this.util.account.getPublicAccountID(pubKey1);\n    const address2 = this.util.account.getPublicAccountID(pubKey2);\n\n    if (address1 === this.signatureAccount || address2 === this.signatureAccount ) {\n      if (address1 === this.signatureAccount) {\n        this.privateKey = privKey1;\n      } else {\n        this.privateKey = privKey2;\n      }\n      this.signatureMessage = '';\n      this.signatureMessageSuccess = 'A matching private key found!';\n    } else {\n      this.signatureMessage = 'Could not find a matching private key!';\n      this.signatureMessageSuccess = '';\n    }\n  }\n\n  // Validate type of master key\n  checkMasterKey(key) {\n    // validate nano seed\n    if (key.length === 64) {\n      if (this.util.ceviz.isValidSeed(key)) {\n        return 'ceviz_seed';\n      }\n    }\n    // validate bip39 seed\n    if (key.length === 128) {\n      if (this.util.hex.isHex(key)) {\n        return 'bip39_seed';\n      }\n    }\n    // validate mnemonic\n    if (bip39.validateMnemonic(key)) {\n      return 'mnemonic';\n    }\n    return null;\n  }\n\n  convertPrivateKey(key) {\n    if (key.length === 128) {\n      this.privateKeyExpanded = true;\n      // expanded key includes deterministic R value material which we ignore\n      return key.substring(0, 64);\n    } else if (key.length === 64) {\n      return key;\n    } else {\n      return null;\n    }\n  }\n\n  // open qr reader modal\n  openQR(reference, type) {\n    const qrResult = this.qrModalService.openQR(reference, type);\n    qrResult.then((data) => {\n      switch (data.reference) {\n        case 'seed1':\n          this.sourceSecret = data.content;\n          this.seedChange(data.content);\n          break;\n        case 'priv1':\n          this.sourcePriv = data.content;\n          this.privkeyChange(data.content);\n          break;\n      }\n    }, () => {}\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {BaseApiAccount, WalletApiAccount, WalletService} from './wallet.service';\nimport BigNumber from 'bignumber.js';\nimport {ApiService} from './api.service';\nimport {UtilService} from './util.service';\nimport { NinjaService } from './ninja.service';\n\nexport interface RepresentativeStatus {\n  online: boolean;\n  veryHighWeight: boolean;\n  highWeight: boolean;\n  veryLowUptime: boolean;\n  lowUptime: boolean;\n  markedToAvoid: boolean;\n  trusted: boolean;\n  changeRequired: boolean;\n  warn: boolean;\n  known: boolean;\n  daysSinceLastVoted: number;\n  uptime: number;\n  score: number;\n}\n\nexport interface RepresentativeOverview {\n  id: string;\n  weight: BigNumber;\n  accounts: WalletApiAccount[];\n}\n\nexport interface StoredRepresentative {\n id: string;\n name: string;\n warn?: boolean;\n trusted?: boolean;\n}\n\n\nexport interface RepresentativeApiOverview extends BaseApiAccount {\n  account: string;\n  accounts: WalletApiAccount[];\n  delegatedWeight: BigNumber;\n}\n\nexport interface FullRepresentativeOverview extends RepresentativeApiOverview {\n  id: string;\n  percent: BigNumber;\n  statusText: string;\n  label: string|null;\n  status: RepresentativeStatus;\n}\n\n\n@Injectable()\nexport class RepresentativeService {\n  storeKey = `nanovault-representatives`;\n\n  representatives$ = new BehaviorSubject([]);\n  representatives = [];\n\n  walletReps$ = new BehaviorSubject([null]);\n  walletReps = [];\n\n  changeableReps$ = new BehaviorSubject([]);\n  changeableReps = [];\n\n  onlineStakeTotal = new BigNumber(115202418);\n\n  loaded = false;\n\n  constructor(\n    private wallet: WalletService,\n    private api: ApiService,\n    private util: UtilService,\n    private ninja: NinjaService\n  ) {\n    this.representatives = this.defaultRepresentatives;\n  }\n\n  /**\n   * Determine if any accounts in the wallet need a rep change\n   * @returns {Promise<FullRepresentativeOverview[]>}\n   */\n  async detectChangeableReps(cachedReps?: FullRepresentativeOverview[]): Promise<FullRepresentativeOverview[]> {\n    const representatives = cachedReps ? cachedReps : await this.getRepresentativesOverview();\n\n    // Now based on some of their properties, we filter them out\n    const needsChange = [];\n    for (const rep of representatives) {\n      if (rep.status.trusted) {\n        continue; // Reps marked as trusted are good no matter their status\n      }\n\n      // If we have high weight, low uptime or marked as warn, then we need to change\n      if (\n            rep.status.highWeight\n          || rep.status.veryHighWeight\n          || rep.status.lowUptime\n          || rep.status.veryLowUptime\n          || rep.status.warn\n        ) {\n          needsChange.push(rep);\n      }\n    }\n\n    this.changeableReps = needsChange;\n    this.changeableReps$.next(needsChange);\n\n    return needsChange;\n  }\n\n  /**\n   * Get a detailed overview of representatives for all acounts in the wallet\n   * @returns {Promise<FullRepresentativeOverview[]>}\n   */\n  async getRepresentativesOverview(): Promise<FullRepresentativeOverview[]> {\n    // First get the details of all representatives for accounts in our wallet\n    const accounts = await this.wallet.getAccountsDetails();\n    const uniqueReps = this.getUniqueRepresentatives(accounts);\n    const representatives = await this.getRepresentativesDetails(uniqueReps);\n    const onlineReps = await this.getOnlineRepresentatives();\n    const quorum = await this.api.confirmationQuorum();\n\n    const online_stake_total = quorum ? this.util.ceviz.rawToMceviz(quorum.online_stake_total) : null;\n    this.onlineStakeTotal = online_stake_total ? new BigNumber(online_stake_total) : null;\n\n    const allReps = [];\n\n    // Now, loop through each representative and determine some details about it\n    for (const representative of representatives) {\n      const repOnline = onlineReps.indexOf(representative.account) !== -1;\n      const knownRep = this.getRepresentative(representative.account);\n      const knownRepNinja = await this.ninja.getAccount(representative.account);\n\n      const nanoWeight = this.util.ceviz.rawToMceviz(representative.weight || 0);\n      const percent = this.onlineStakeTotal ? nanoWeight.div(this.onlineStakeTotal).times(100) : new BigNumber(0);\n\n      const repStatus: RepresentativeStatus = {\n        online: repOnline,\n        veryHighWeight: false,\n        highWeight: false,\n        veryLowUptime: false,\n        lowUptime: false,\n        markedToAvoid: false,\n        trusted: false,\n        daysSinceLastVoted: 0,\n        changeRequired: false,\n        warn: false,\n        known: false,\n        uptime: null,\n        score: null\n      };\n\n      // Determine the status based on some factors\n      let status = 'none';\n      let label;\n\n      if (percent.gte(3)) {\n        status = 'alert'; // Has extremely high voting weight\n        repStatus.veryHighWeight = true;\n        repStatus.changeRequired = true;\n      } else if (percent.gte(2)) {\n        status = 'warn'; // Has high voting weight\n        repStatus.highWeight = true;\n      }\n\n      if (knownRep) {\n        // in the list of known representatives\n        status = status === 'none' ? 'ok' : status;\n        label = knownRep.name;\n        repStatus.known = true;\n        if (knownRep.trusted) {\n          status = 'trusted'; // marked as trusted\n          repStatus.trusted = true;\n        }\n        if (knownRep.warn) {\n          status = 'alert'; // marked to avoid\n          repStatus.markedToAvoid = true;\n          repStatus.warn = true;\n          repStatus.changeRequired = true;\n        }\n      } else if (knownRepNinja) {\n        status = status === 'none' ? 'ok' : status;\n        label = knownRepNinja.alias;\n      }\n\n      if (knownRepNinja && !repStatus.trusted) {\n        let uptimeIntervalValue = knownRepNinja.uptime_over.week;\n        const uptimeIntervalDays = 7;\n\n        // temporary fix for knownRepNinja.uptime_over.week always returning 0\n        // uptimeIntervalValue = knownRepNinja.uptime_over.month;\n        // uptimeIntervalDays = 30;\n        // /temporary fix\n\n        // consider uptime value at least 1/<interval days> of daily uptime\n        uptimeIntervalValue = Math.max(\n          uptimeIntervalValue,\n          (knownRepNinja.uptime_over.day / uptimeIntervalDays)\n        );\n\n        if (repOnline === true) {\n          // consider uptime value at least 1% if the rep is currently online\n          uptimeIntervalValue = Math.max(uptimeIntervalValue, 1);\n        }\n\n        repStatus.uptime = uptimeIntervalValue;\n        repStatus.score = knownRepNinja.score;\n\n        const msSinceLastVoted = knownRepNinja.lastVoted ? ( Date.now() - new Date(knownRepNinja.lastVoted).getTime() ) : 0;\n        repStatus.daysSinceLastVoted = Math.floor(msSinceLastVoted / 86400000);\n        if (uptimeIntervalValue === 0) {\n          // display a minimum of <interval days> if the uptime value is 0%\n          repStatus.daysSinceLastVoted = Math.max(repStatus.daysSinceLastVoted, uptimeIntervalDays);\n        }\n\n        if (uptimeIntervalValue < 50) {\n          status = 'alert';\n          repStatus.veryLowUptime = true;\n          repStatus.warn = true;\n          repStatus.changeRequired = true;\n        } else if (uptimeIntervalValue < 60) {\n          if (status !== 'alert') {\n            status = 'warn';\n          }\n          repStatus.lowUptime = true;\n          repStatus.warn = true;\n        }\n      } else if (knownRepNinja === false) {\n        // does not exist (404)\n        status = 'alert';\n        repStatus.uptime = 0;\n        repStatus.veryLowUptime = true;\n        repStatus.warn = true;\n        repStatus.changeRequired = true;\n      } else {\n        // any other api error\n        status = status === 'none' ? 'unknown' : status;\n      }\n\n      const additionalData = {\n        id: representative.account,\n        percent: percent,\n        statusText: status,\n        label: label,\n        status: repStatus,\n      };\n\n      const fullRep = { ...representative, ...additionalData };\n      allReps.push(fullRep);\n    }\n\n    this.walletReps = allReps;\n    this.walletReps$.next(allReps);\n\n    return allReps;\n  }\n\n  /**\n   * Build a list of unique representatives based on the accounts provided\n   * Many accounts may share the same representative\n   * @param accounts\n   * @returns {RepresentativeOverview[]}\n   */\n  getUniqueRepresentatives(accounts: WalletApiAccount[]): RepresentativeOverview[] {\n    const representatives = [];\n    for (const account of accounts) {\n      if (!account || !account.representative) continue; // Account doesn't exist yet\n\n      const existingRep = representatives.find(rep => rep.id === account.representative);\n      if (existingRep) {\n        existingRep.weight = existingRep.weight.plus(new BigNumber(account.balance));\n        existingRep.accounts.push(account);\n      } else {\n        const newRep = {\n          id: account.representative,\n          weight: new BigNumber(account.balance),\n          accounts: [account],\n        };\n        representatives.push(newRep);\n      }\n    }\n\n    return representatives;\n  }\n\n  /**\n   * Get a list of all online representatives\n   * @returns {Promise<string[]>}\n   */\n  async getOnlineRepresentatives(): Promise<string[]> {\n    const representatives = [];\n    const reps = await this.api.representativesOnline();\n    if (!reps) return representatives;\n    for (const representative in reps.representatives) {\n      if (!reps.representatives.hasOwnProperty(representative)) continue;\n      representatives.push(reps.representatives[representative]);\n    }\n\n    return representatives;\n  }\n\n  /**\n   * Add detailed API information to each representative\n   * Note: The uglyness allows for requests to run in parallel\n   * @param {RepresentativeOverview[]} representatives\n   * @returns {Promise<RepresentativeApiOverview[]>}\n   */\n  async getRepresentativesDetails(representatives: RepresentativeOverview[]): Promise<RepresentativeApiOverview[]> {\n    const repInfos = await Promise.all(\n      representatives.map(rep =>\n        this.api.accountInfo(rep.id)\n          .then((res: RepresentativeApiOverview) => {\n            res.account = rep.id;\n            res.delegatedWeight = rep.weight;\n            res.accounts = rep.accounts;\n\n            return res;\n          })\n      )\n    );\n\n    return repInfos;\n  }\n\n  /**\n   * Load the stored/known representative list from local storage\n   * @returns {StoredRepresentative[]}\n   */\n  loadRepresentativeList(): StoredRepresentative[] {\n    if (this.loaded) return this.representatives;\n\n    let list = this.defaultRepresentatives;\n    const representativeStore = localStorage.getItem(this.storeKey);\n    if (representativeStore) {\n      list = JSON.parse(representativeStore);\n    }\n    this.representatives = list;\n    this.representatives$.next(list);\n    this.loaded = true;\n\n    return list;\n  }\n\n  patchXrbPrefixData() {\n    const representativeStore = localStorage.getItem(this.storeKey);\n    if (!representativeStore) return;\n\n    const list = JSON.parse(representativeStore);\n\n    const newRepList = list.map(entry => {\n      if (entry.id.indexOf('ceviz_') !== -1) {\n        entry.id = entry.id.replace('ceviz_', 'ceviz_');\n      }\n      return entry;\n    });\n\n    localStorage.setItem(this.storeKey, JSON.stringify(newRepList));\n\n    return true;\n  }\n\n  getRepresentative(id): StoredRepresentative | undefined {\n    return this.representatives.find(rep => rep.id === id);\n  }\n\n  // Reset representatives list to the default one\n  resetRepresentativeList() {\n    localStorage.removeItem(this.storeKey);\n    this.representatives = this.defaultRepresentatives;\n    this.loaded = false;\n  }\n\n\n  saveRepresentative(accountID, name, trusted = false, warn = false): void {\n    const newRepresentative: any = {\n      id: accountID,\n      name: name,\n    };\n    if (trusted) newRepresentative.trusted = true;\n    if (warn) newRepresentative.warn = true;\n\n    const existingRepresentative = this.representatives.find(\n      r => r.name.toLowerCase() === name.toLowerCase() || r.id.toLowerCase() === accountID.toLowerCase()\n    );\n    if (existingRepresentative) {\n      this.representatives.splice(this.representatives.indexOf(existingRepresentative), 1, newRepresentative);\n    } else {\n      this.representatives.push(newRepresentative);\n    }\n\n    this.saveRepresentatives();\n    this.representatives$.next(this.representatives);\n  }\n\n  deleteRepresentative(accountID): void {\n    const existingIndex = this.representatives.findIndex(a => a.id.toLowerCase() === accountID.toLowerCase());\n    if (existingIndex === -1) return;\n\n    this.representatives.splice(existingIndex, 1);\n\n    this.saveRepresentatives();\n    this.representatives$.next(this.representatives);\n  }\n\n  saveRepresentatives(): void {\n    localStorage.setItem(this.storeKey, JSON.stringify(this.representatives));\n  }\n\n  getSortedRepresentatives() {\n    const weightedReps = this.representatives.map(r => {\n      if (r.trusted) {\n        r.weight = 2;\n      } else if (r.warn) {\n        r.weight = 0;\n      } else {\n        r.weight = 1;\n      }\n      return r;\n    });\n\n    return weightedReps.sort((a, b) => b.weight - a.weight);\n  }\n\n  // Default representatives list\n  // tslint:disable-next-line:member-ordering\n  defaultRepresentatives = [\n    {\n      id: 'ceviz_35egxpp7bh6384grkhto87sn99p1ax3o1mem4mb5yun6ddqagei3xin7s8hp',\n      name: 'Ceviz Representative #1',\n      warn: true,\n    },\n    {\n      id: 'ceviz_3mh5qkrwhf9p6ppk5ci5yyoq9t5jhnfy4mm9fkwxeda9noxjc73imwb5bzhm',\n      name: 'Ceviz Representative #2',\n      warn: true,\n    },\n    {\n      id: 'ceviz_385hcwzmm5dn5nrmu1opayeeqrgwihh3k3tezpgc91keac6bf76wmp8sqrd1',\n      name: 'Ceviz Representative #3',\n      warn: true,\n    },\n    {\n      id: 'ceviz_3gbpjit54j98kad1hqmg6w4eeroqyayi7cb6nkthhy6u9bgczy784psmk9ky',\n      name: 'Ceviz Representative #4',\n      warn: true,\n    },\n  ];\n\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"]}